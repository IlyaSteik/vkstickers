{"version":3,"sources":["components/StickerImg.js","components/StickerButton.js","components/StickerDescription.js","components/StickerGrid.js","components/StickerUploadButton.js","components/CardElements.js","components/CardElement.js","App.js","index.js"],"names":["StickerImg","this","props","mode","width","height","src","id","onClick","size","hasOwnProperty","className","style","borderRadius","color","fontSize","children","PureComponent","StickerButton","before","description","dangerouslySetInnerHTML","__html","replace","bottomContent","price","buttons","asideContent","alignSelf","more","title","StickerDescription","StickerGrid","minWidth","maxWidth","display","gridTemplateColumns","gridGap","StickerUploadButton","accept","type","multiple","ref","upload_preview","upload_stickers","onChange","click","multiline","CardElements","scheme","document","body","attributes","getNamedItem","value","e","backgroundColor","CardElement","el","text","fill","href","link","target","access_token","upload_url1","blueBackground","redBackground","App","back","state","popout","actionsLayout","setState","activeStory","activePanel","activePanelShop","activePanelOther","create_panel","preview","stickers","createStickerContextOpened","panel_to_change","bridge","send","history","historyShop","historyOther","length","pop","p","change_hash","initialized","slideTabIndex_main","slideTabIndex_moderation","balance_manipulation","report_other_visible","report_reason_text","stickers_panel_new","stickers_panel_popular","stickers_panel_moderation","report_panel_moderation","withdraw_panel_moderation","sticker_info","author","sales","moderation_sticker_info","stickers_","user","first_name","last_name","photo_100","balance","stickers_history","captcha","url","done","onStoryChange","bind","uploadFile","toggleCreateStickerContext","sync","install","delete","create_stickers","go_to_edit","report_stickers","withdraw","componentDidMount","initializeApp","updateStickers","updateStickersInfo","updateUser","updateQuestions","updateReportReasons","updateModeration","go","window","addEventListener","preventDefault","subscribe","a","detail","data","undefined","console","log","schemeAttribute","createAttribute","setNamedItem","get","access","error_data","error_reason","error_code","c","captcha_img","sid","captcha_sid","i","sleep","request_params","params","method","request_id","key","captcha_key","sendPromise","hash","location","hash_","split","substring","response","j","push","user_","reverse","sort","itemA","itemB","user_stickers","sticker","setTimeout","user_stickers_history","added","actions","autoclose","action","stickers_id","onClose","questions","questions_panel","val","report_reasons","report_reasons_panel","moderation_stickers","reports","report","report_reason_id","marginLeft","success","user_id","name","amount","search","str","encodeURIComponent","join","fetch","then","res","json","ms","Promise","resolve","img","Image","crossOrigin","onload","dataURL","canvas","createElement","ctx","getContext","drawImage","toDataURL","base64","blob","fd","FormData","file","File","append","panel","startsWith","history_to_change","pushState","story","currentTarget","dataset","snackbar","panel_","element","evt","tgt","event","srcElement","files","t","FileReader","fr","result","res1","includes","res10","uploaded_stickers_img","filter","parseInt","res01","readAsDataURL","icon","layout","upload_url","owner_id","doc_id","sticker_url","urlToBase64","base64Img","base64ToMultipart","multipart","save","id_","graffiti","access_key","showSnackBar","stickers_cache","obj","add","upload_preview_img","uploaded","request","form","image","error","statusCode","JSON","parse","status","create_panel_","report_reason","resp","error_text","tabbar","selected","data-story","onSwipeBack","header","separator","onRefresh","refreshedStickers","isFetching","slideWidth","margin","slideIndex","marginTop","stretched","left","refreshedStickersInfo","author_id","marginRight","indexOf","align","top","disabled","refreshedProfile","transform","indicator","justifyContent","group_id","aside","opened","is_admin","bottom","toString","paddingBottom","refreshedStickersHistory","refreshedModeration","alignItems","React","Component","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.3b503f32.chunk.js","sourcesContent":["import React, { PureComponent } from 'react';\r\nimport '@vkontakte/vkui/dist/vkui.css';\r\nimport {Avatar} from \"@vkontakte/vkui\";\r\n\r\nexport class StickerImg extends PureComponent {\r\n\r\n    render() {\r\n        return (\r\n            this.props.mode === 'small' ?\r\n                <img width={64} height={64} src={this.props.src} id={this.props.id} onClick={this.props.onClick}/>\r\n                :\r\n                this.props.mode === 'medium' ?\r\n                    <Avatar mode=\"app\" size={78} src={this.props.src} />\r\n                    :\r\n                    this.props.mode === 'big' &&\r\n                        <Avatar size={96}>\r\n                            {this.props.hasOwnProperty('children') ?\r\n                                <div className=\"centered\" style={{ borderRadius: 48, width: \"100%\", height: \"100%\", color: \"#7f8285\", fontSize: 76 }} onClick={this.props.onClick}>{this.props.children}</div>\r\n                            :\r\n                                <img width={96} height={96}\r\n                                     src={this.props.src}\r\n                                     id={this.props.id}\r\n                                     onClick={this.props.onClick}\r\n                                />\r\n                            }\r\n                        </Avatar>\r\n        )\r\n    }\r\n\r\n}","import React, { PureComponent } from 'react';\r\nimport '@vkontakte/vkui/dist/vkui.css';\r\nimport { Button, Cell} from \"@vkontakte/vkui\";\r\nimport {StickerImg} from \"./StickerImg\";\r\n\r\nexport class StickerButton extends PureComponent {\r\n\r\n    render() {\r\n        return (\r\n            this.props.mode === 'cell' ?\r\n                <Cell id={this.props.id} onClick={this.props.onClick} before={this.props.hasOwnProperty('src') && <StickerImg mode={'medium'} src={this.props.src}/>}\r\n                      description={this.props.description && <div dangerouslySetInnerHTML={{ __html: this.props.description.replace('\\n','<br/>') }} />} size={\"l\"}\r\n                      bottomContent={this.props.hasOwnProperty('price') ? <Button mode=\"commerce\">{this.props.price + ' руб.'}</Button> : this.props.hasOwnProperty('buttons') && this.props.buttons}\r\n                      asideContent={this.props.hasOwnProperty('more') ?\r\n                          <div style={{ alignSelf: \"center\" }}>\r\n                              {this.props.more}\r\n                          </div>\r\n                          : null}\r\n                >\r\n                    {this.props.title}\r\n                </Cell>\r\n                :\r\n                this.props.mode === 'img' &&\r\n                <StickerImg\r\n                    mode={\"big\"}\r\n                    src={this.props.src}\r\n                    id={this.props.id}\r\n                    onClick={this.props.onClick}\r\n                />\r\n        )\r\n    }\r\n\r\n}","import React, { PureComponent } from 'react';\r\nimport '@vkontakte/vkui/dist/vkui.css';\r\n\r\nexport class StickerDescription extends PureComponent {\r\n\r\n    render() {\r\n        return (\r\n            <div style={{ color: \"#7f8285\" }} dangerouslySetInnerHTML={{ __html: this.props.children.replace('\\n','<br/>') }} />\r\n        )\r\n    }\r\n\r\n}","import React, { PureComponent } from 'react';\r\nimport '@vkontakte/vkui/dist/vkui.css';\r\n\r\nexport class StickerGrid extends PureComponent {\r\n\r\n    render() {\r\n        return (\r\n            this.props.mode === 'small' ?\r\n                <div style={{ minWidth: \"64px\", maxWidth: \"296px\", display: \"grid\", gridTemplateColumns: \"repeat(auto-fill, 64px)\", gridGap: \"10px\" }}>{this.props.children}</div>\r\n                :\r\n                this.props.mode === 'big' &&\r\n                <div style={{ minWidth: \"96px\", maxWidth: \"320px\", display: \"grid\", gridTemplateColumns: \"repeat(auto-fill, 96px)\", gridGap: \"10px\" }}>{this.props.children}</div>\r\n        )\r\n    }\r\n\r\n}","import React, { PureComponent } from 'react';\r\nimport '@vkontakte/vkui/dist/vkui.css';\r\nimport {Cell} from \"@vkontakte/vkui\";\r\nimport {StickerImg} from \"./StickerImg\";\r\n\r\nexport class StickerUploadButton extends PureComponent {\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                <input accept=\".png\" type=\"file\" multiple={!this.props.hasOwnProperty('src')} ref={(ref) => { if(this.props.hasOwnProperty('src')) { this.upload_preview = ref; } else {  this.upload_stickers = ref } }} style={{display: \"none\"}} onChange={this.props.onChange}/>\r\n                <Cell onClick={()=> { if(this.props.hasOwnProperty('src')) { this.upload_preview.click(); } else { this.upload_stickers.click(); } }} before={this.props.hasOwnProperty('src') && <StickerImg mode={'medium'} src={this.props.src}/>} multiline description={this.props.description} >{this.props.title}</Cell>\r\n            </div>\r\n        )\r\n    }\r\n\r\n}","import React, { PureComponent } from 'react';\r\nimport '@vkontakte/vkui/dist/vkui.css';\r\nimport '../css/App.css';\r\n\r\nexport class CardElements extends PureComponent {\r\n\r\n    render() {\r\n        const light = { backgroundColor: '#ffffff' };\r\n        const dark = { backgroundColor: '#363738' };\r\n        let scheme;\r\n        try{\r\n            scheme  = document.body.attributes.getNamedItem('scheme').value;\r\n        }catch (e) {\r\n            scheme = 'client_light';\r\n        }\r\n        return (\r\n            <div className={ \"card-elements-container\" } style={ scheme === 'space_gray' ? dark : light }>\r\n                {this.props.children}\r\n            </div>\r\n        )\r\n    }\r\n\r\n}","import React, { PureComponent } from 'react';\r\nimport '@vkontakte/vkui/dist/vkui.css';\r\nimport '../css/App.css';\r\nimport Icon16Chevron from '@vkontakte/icons/dist/16/chevron';\r\nimport Link from \"@vkontakte/vkui/dist/components/Link/Link\";\r\n\r\nexport class CardElement extends PureComponent {\r\n\r\n    render() {\r\n        let el = <div className={ \"cell\" }>\r\n                    <div className={ \"left\" }> <div className=\"text\">{ this.props.text }</div> </div>\r\n                    <div className={ \"right\" }>  <Icon16Chevron fill=\"#c4c8cc\"/> </div>\r\n                </div>;\r\n        return (\r\n            this.props.hasOwnProperty('link') ?\r\n                <Link href={this.props.link} target=\"_blank\">{el}</Link>\r\n                :\r\n                {el}\r\n        )\r\n    }\r\n\r\n}","import React from 'react';\nimport bridge from '@vkontakte/vk-bridge';\nimport '@vkontakte/vkui/dist/vkui.css';\nimport './css/App.css'\n\nimport { Panel, PanelHeader, Div , View , ScreenSpinner, List , Cell , Gallery , FormLayout , Input , Avatar , Group , Epic, Tabbar, TabbarItem, Separator, Button, PanelHeaderContext, Header, PanelHeaderSimple, PanelHeaderContent, Placeholder, Tabs,\n\tTabsItem, PullToRefresh, Snackbar, Textarea, PanelHeaderBack, PanelHeaderClose, CellButton, Alert, Link  } from '@vkontakte/vkui';\n\nimport Icon16Spinner from '@vkontakte/icons/dist/16/spinner';\nimport Icon16Done from '@vkontakte/icons/dist/16/done';\nimport Icon16Cancel from '@vkontakte/icons/dist/16/cancel';\nimport Icon16Dropdown from '@vkontakte/icons/dist/16/dropdown';\nimport Icon16Down from '@vkontakte/icons/dist/16/down';\nimport Icon16Up from '@vkontakte/icons/dist/16/up';\nimport Icon28BugOutline from '@vkontakte/icons/dist/28/bug_outline';\nimport Icon28ReportOutline from '@vkontakte/icons/dist/28/report_outline';\nimport Icon28ShareOutline from '@vkontakte/icons/dist/28/share_outline';\nimport Icon28CancelOutline from '@vkontakte/icons/dist/28/cancel_outline';\nimport Icon28WriteOutline from '@vkontakte/icons/dist/28/write_outline';\nimport Icon28AddCircleOutline from '@vkontakte/icons/dist/28/add_circle_outline';\nimport Icon28HistoryForwardOutline from '@vkontakte/icons/dist/28/history_forward_outline';\nimport Icon28MarketOutline from '@vkontakte/icons/dist/28/market_outline';\nimport Icon28UserOutline from '@vkontakte/icons/dist/28/user_outline';\nimport Icon56HistoryOutline from '@vkontakte/icons/dist/56/history_outline';\nimport Icon56GalleryOutline from '@vkontakte/icons/dist/56/gallery_outline';\nimport Icon56CheckCircleDeviceOutline from '@vkontakte/icons/dist/56/check_circle_device_outline';\nimport Icon56MoneyTransferOutline from '@vkontakte/icons/dist/56/money_transfer_outline';\n\nimport {StickerImg} from \"./components/StickerImg\";\nimport {StickerButton} from \"./components/StickerButton\";\nimport {StickerDescription} from \"./components/StickerDescription\";\nimport {StickerGrid} from \"./components/StickerGrid\";\nimport {StickerUploadButton} from \"./components/StickerUploadButton\";\nimport {CardElements} from \"./components/CardElements\";\nimport {CardElement} from \"./components/CardElement\";\n\nimport request from \"request\";\n\nlet access_token = '', upload_url1 = '';\n\nconst blueBackground = {\n\tbackgroundColor: 'var(--accent)'\n}, redBackground = {\n\tbackgroundColor: 'var(--dynamic_red)'\n};\n\nclass App extends React.Component {\n\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tinitialized: false,\n\t\t\tpopout: <ScreenSpinner/>,\n\t\t\tactiveStory: 'tab_main',\n\t\t\tslideTabIndex_main: 0,\n\t\t\tslideTabIndex_moderation: 0,\n\t\t\tactivePanelShop: \"main\",\n\t\t\thistoryShop: [\"main\"],\n\t\t\tactivePanelOther: \"profile\",\n\t\t\thistoryOther: [\"profile\"],\n\t\t\tcreateStickerContextOpened: false,\n\t\t\tbalance_manipulation: false,\n\t\t\treport_other_visible: false,\n\t\t\treport_reason_text: '',\n\t\t\tstickers_panel_new: [],\n\t\t\tstickers_panel_popular: [],\n\t\t\tstickers_panel_moderation: [],\n\t\t\treport_panel_moderation: [],\n\t\t\twithdraw_panel_moderation: [],\n\t\t\tsticker_info: { title: \"\", author: \"\", preview: \"\", price: 0, description: \"\", stickers: [], sales: 0 },\n\t\t\tmoderation_sticker_info: { title: \"\", author: \"\", preview: \"\", price: 0, description: \"\", stickers_: [] },\n\t\t\tuser: {\n\t\t\t\tfirst_name: '',\n\t\t\t\tlast_name: '',\n\t\t\t\tphoto_100: '',\n\t\t\t\tstickers:[ ],\n\t\t\t\tbalance: 0,\n\t\t\t\tstickers_history: [ ]\n\t\t\t},\n\t\t\tcreate_panel: { title: \"\", preview: \"\", price: 1, description: \"\", stickers: [] },\n\t\t\tcaptcha : { text: '', url: '', done: false }\n\t\t};\n\n\t\tthis.onStoryChange = this.onStoryChange.bind(this);\n\t\tthis.onChange = this.onChange.bind(this);\n\t\tthis.uploadFile = this.uploadFile.bind(this);\n\t\tthis.toggleCreateStickerContext = this.toggleCreateStickerContext.bind(this);\n\t\tthis.sync = this.sync.bind(this);\n\t\tthis.install = this.install.bind(this);\n\t\tthis.delete = this.delete.bind(this);\n\t\tthis.create_stickers = this.create_stickers.bind(this);\n\t\tthis.go_to_edit = this.go_to_edit.bind(this);\n\t\tthis.report_stickers = this.report_stickers.bind(this);\n\t\tthis.withdraw = this.withdraw.bind(this);\n\n\t\tthis.componentDidMount = this.componentDidMount.bind(this);\n\t\tthis.initializeApp = this.initializeApp.bind(this);\n\t\tthis.updateStickers = this.updateStickers.bind(this);\n\t\tthis.updateStickersInfo = this.updateStickersInfo.bind(this);\n\t\tthis.updateUser = this.updateUser.bind(this);\n\t\tthis.updateQuestions = this.updateQuestions.bind(this);\n\t\tthis.updateReportReasons = this.updateReportReasons.bind(this);\n\t\tthis.updateModeration = this.updateModeration.bind(this);\n\t\tthis.back = this.back.bind(this);\n\t\tthis.go = this.go.bind(this);\n\t\tthis.change_hash = this.change_hash.bind(this);\n\t}\n\n\tcomponentDidMount () {\n\t\twindow.addEventListener('popstate', e => {\n\t\t\te.preventDefault();\n\t\t\tlet activeStory = this.state.activeStory;\n\t\t\tlet activePanel = activeStory === 'tab_main' ? this.state.activePanelShop : activeStory === 'tab_other' ? this.state.activePanelOther : '';\n\t\t\tif(activePanel !== 'input_captcha') {\n\t\t\t\tthis.back(e);\n\t\t\t}\n\t\t});\n\n\t\tbridge.subscribe(async ({ detail: { type, data }}) => {\n\t\t\tif(type !== undefined) console.log(type, data);\n\t\t\tif (type === 'VKWebAppUpdateConfig') {\n\t\t\t\tconst schemeAttribute = document.createAttribute('scheme');\n\t\t\t\tschemeAttribute.value = data.scheme ? data.scheme : 'client_light';\n\t\t\t\tdocument.body.attributes.setNamedItem(schemeAttribute);\n\t\t\t} else if (type === 'VKWebAppGetUserInfoResult'){\n\t\t\t\tif(!this.state.initialized){\n\t\t\t\t\tlet login = await this.get('users.auth');\n\t\t\t\t\tif(login.access){\n\t\t\t\t\t\t/*\n                        data.stickers = [ 0 ];\n                        data.balance = 0;\n                        data.stickers_history = [ { title: \"Илай\", preview: \"https://vk.com/sticker/1-18781-128\", added: false }, { title: \"Бисквит\", author: \"Илья Ульянов\", preview: \"https://vk.com/sticker/2-533-cover-140b-0\" } ];\n                        */\n\t\t\t\t\t\tthis.setState({ initialized: true, popout: null });\n\t\t\t\t\t\tthis.initializeApp();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else if (type === 'VKWebAppViewRestore'){\n\t\t\t\tif(this.state.popout !== null){\n\t\t\t\t\tthis.setState({ popout: null });\n\t\t\t\t}\n\t\t\t} else if (type === 'VKWebAppCallAPIMethodFailed'){\n\t\t\t\tif(data.error_data.error_reason.error_code === 14){\n\t\t\t\t\tlet c = this.state.captcha;\n\t\t\t\t\tc.done = null;\n\t\t\t\t\tc.url = data.error_data.error_reason.captcha_img;\n\t\t\t\t\tc.sid = data.error_data.error_reason.captcha_sid;\n\t\t\t\t\tthis.setState({ captcha: c, popout: null });\n\t\t\t\t\tthis.go('input_captcha');\n\t\t\t\t\tfor(var i = 0; i < 2; i++){\n\t\t\t\t\t    if(this.state.captcha.done === null){\n\t\t\t\t\t        i--;\n                            await this.sleep(1000);\n                        }else{\n\t\t\t\t\t        break;\n                        }\n                    }\n\n\t\t\t\t\tthis.setState({ popout: <ScreenSpinner/> });\n\t\t\t\t\tlet request_params = data.error_data.error_reason.request_params;\n\t\t\t\t\tlet params = {};\n\t\t\t\t\tlet method = '';\n\t\t\t\t\tlet request_id = '';\n\t\t\t\t\tfor(var i = 0; i < request_params.length; i++){\n\t\t\t\t\t\tlet key = request_params[i].key;\n\t\t\t\t\t\tlet value = request_params[i].value;\n\t\t\t\t\t\tif(key !== 'api_id' && key !== 'format' && key !== 'oauth'){\n\t\t\t\t\t\t\tif(key === 'method'){\n\t\t\t\t\t\t\t\tmethod = value;\n\t\t\t\t\t\t\t}else if (key === 'request_id'){\n\t\t\t\t\t\t\t\trequest_id = value;\n\t\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\t\tparams[key] = value;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tparams.access_token = access_token;\n\t\t\t\t\tparams.captcha_sid = this.state.captcha.sid;\n\t\t\t\t\tparams.captcha_key = this.state.captcha.text;\n\t\t\t\t\ttry{\n\t\t\t\t\t\tlet res_back = await bridge.sendPromise(\"VKWebAppCallAPIMethod\", {\n\t\t\t\t\t\t\t\"method\": method,\n\t\t\t\t\t\t\t\"request_id\": request_id,\n\t\t\t\t\t\t\t\"params\": params\n\t\t\t\t\t\t});\n\t\t\t\t\t\tthis.setState({ captcha : { text: '', url: '', done: false } });\n\t\t\t\t\t\tthis.back();\n\t\t\t\t\t}catch (e) {\n\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t\tthis.initializeApp();\n\t}\n\n\tasync initializeApp() {\n\t\tawait this.updateStickers();\n\t\tawait this.updateUser();\n\t\tawait this.updateQuestions();\n\t\tawait this.updateReportReasons();\n\t\tawait this.updateModeration();\n\n\t\tlet hash = window.location.hash;\n\t\tif (hash) {\n\t\t\thash = hash.replace('#','');\n\t\t\tlet hash_ = hash.split('_');\n\t\t\tthis.setState({ activeStory: hash_[0]+'_'+hash_[1] });\n\t\t\tthis.go(hash.substring((hash_[0]+'_'+hash_[1]+'_').length));\n\t\t}else{\n\t\t\tthis.change_hash('main');\n\t\t}\n\t}\n\n\tasync updateStickers() {\n\t\tlet response = await this.get('stickers.get');\n\t\tthis.setState({stickers: response.stickers});\n\t\tlet stickers_panel_new = [];\n\t\tlet stickers = this.state.stickers;\n\t\tfor (let i = 0; i < stickers.length; i++) {\n\t\t\tlet stickers_ = [];\n\t\t\tfor (let j = 0; j < stickers[i].data.length; j++) {\n\t\t\t\tstickers_.push(\n\t\t\t\t\t<StickerImg mode={\"small\"} src={stickers[i].data[j].url}/>\n\t\t\t\t);\n\t\t\t}\n\n\t\t\tstickers[i].stickers = stickers_;\n\t\t\tstickers[i].id = i;\n\t\t\tstickers_panel_new.push(\n\t\t\t\t<StickerButton\n\t\t\t\t\ttitle={stickers[i].title}\n\t\t\t\t\tdescription={stickers[i].author}\n\t\t\t\t\tsrc={stickers[i].preview}\n\t\t\t\t\tprice={stickers[i].price}\n\t\t\t\t\tmode={\"cell\"}\n\t\t\t\t\tonClick={async () => {\n\t\t\t\t\t\tthis.setState({sticker_info: stickers[i], popout: <ScreenSpinner/>});\n\t\t\t\t\t\tlet response = await this.get('users.get');\n\t\t\t\t\t\tlet user_ = await bridge.sendPromise('VKWebAppGetUserInfo');\n\t\t\t\t\t\tthis.setState({user: {...user_, ...response.user}, popout: null});\n\t\t\t\t\t\tthis.go('sticker_info');\n\t\t\t\t\t}}\n\t\t\t\t/>\n\t\t\t);\n\t\t}\n\t\tstickers_panel_new = stickers_panel_new.reverse();\n\t\tlet stickers_panel_popular = stickers_panel_new.sort(function (itemA, itemB) {\n\t\t\treturn (itemA.sales === 0 ? 0 : itemA.sales.length) - (itemB.sales === 0 ? 0 : itemB.sales.length);\n\t\t}).reverse();\n\t\tthis.setState({stickers_panel_new, stickers_panel_popular});\n\t}\n\tasync updateStickersInfo() {\n\t\tawait this.updateStickers();\n\t\tawait this.updateUser();\n\t\tthis.setState({ sticker_info: this.state.stickers[this.state.sticker_info.id] });\n\t}\n\tasync updateUser() {\n\t\tlet response = await this.get('users.get');\n\t\tlet user_ = await bridge.sendPromise('VKWebAppGetUserInfo');\n\t\tthis.setState({user: {...user_, ...response.user}});\n\t\tlet user_stickers = [];\n\t\tfor (let i = 0; i < this.state.user.stickers.length; i++) {\n\t\t\tlet sticker = this.state.stickers[i];\n\t\t\tuser_stickers.push(\n\t\t\t\t<StickerButton\n\t\t\t\t\tsrc={sticker.preview}\n\t\t\t\t\tmode={\"img\"}\n\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\tthis.setState({activeStory: \"tab_main\", sticker_info: this.state.stickers[i]});\n\t\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t\tthis.go('sticker_info');\n\t\t\t\t\t\t\t}, 50)\n\t\t\t\t\t}}\n\t\t\t\t/>\n\t\t\t);\n\t\t}\n\t\tthis.setState({user_stickers});\n\n\t\tlet user_stickers_history = [];\n\t\tfor (let i = 0; i < this.state.user.stickers_history.length; i++) {\n\t\t\tlet sticker = this.state.user.stickers_history[i];\n\t\t\tuser_stickers_history.push(\n\t\t\t\t<StickerButton\n\t\t\t\t\ttitle={sticker.title}\n\t\t\t\t\tsrc={sticker.preview}\n\t\t\t\t\tbuttons={sticker.hasOwnProperty('added') ? (sticker.added ? <Button mode='commerce'>Одобрено</Button> : <Button mode='destructive'>Отклонено</Button>) : sticker.hasOwnProperty('deleted') ? <Button mode='secondary'>Отменено</Button> : <Button mode='primary'>На проверке</Button>}\n\t\t\t\t\tmode={\"cell\"}\n\t\t\t\t\tmore={\n\t\t\t\t\t\t(sticker.hasOwnProperty('added') === false && sticker.hasOwnProperty('deleted') === false) &&\n\t\t\t\t\t\t<Icon28CancelOutline onClick={()=>{\n\t\t\t\t\t\t\tthis.setState({ popout:\n\t\t\t\t\t\t\t\t\t<Alert\n\t\t\t\t\t\t\t\t\t\tactionsLayout=\"horizontal\"\n\t\t\t\t\t\t\t\t\t\tactions={[{\n\t\t\t\t\t\t\t\t\t\t\ttitle: 'Да',\n\t\t\t\t\t\t\t\t\t\t\tautoclose: true,\n\t\t\t\t\t\t\t\t\t\t\tmode: 'destructive',\n\t\t\t\t\t\t\t\t\t\t\taction: async () => {\n\t\t\t\t\t\t\t\t\t\t\t\tthis.setState({ popout: <ScreenSpinner/> });\n\t\t\t\t\t\t\t\t\t\t\t\tawait this.get('stickers.cancel_moderation',{ stickers_id: i });\n\t\t\t\t\t\t\t\t\t\t\t\tawait this.updateUser();\n\t\t\t\t\t\t\t\t\t\t\t\tthis.setState({ popout: null });\n\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t}, {\n\t\t\t\t\t\t\t\t\t\t\ttitle: 'Нет',\n\t\t\t\t\t\t\t\t\t\t\tautoclose: true,\n\t\t\t\t\t\t\t\t\t\t\tmode: 'cancel'\n\t\t\t\t\t\t\t\t\t\t}]}\n\t\t\t\t\t\t\t\t\t\tonClose={()=>{ this.setState({ popout: null }); }}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<h2>Подтвердите действие</h2>\n\t\t\t\t\t\t\t\t\t\t<p>Вы уверены, что хотите отменить модерацию стикеров?</p>\n\t\t\t\t\t\t\t\t\t</Alert>\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}} fill={'#ff5c5c'}/>\n\t\t\t\t\t}\n\t\t\t\t/>\n\t\t\t);\n\t\t}\n\t\tthis.setState({user_stickers_history});\n\t}\n\tasync updateQuestions() {\n\t\tlet response = await this.get('questions.get');\n\t\tlet questions = response.questions;\n\t\tlet questions_panel = [];\n\t\tfor(let val of questions){\n\t\t\tquestions_panel.push(<CardElement link={val.link} text={val.text}/>);\n\t\t}\n\n\t\tthis.setState({ questions_panel: questions_panel.length > 0 ? questions_panel : null })\n\t}\n\tasync updateReportReasons() {\n\t\tlet response = await this.get('report.getReasons');\n\t\tlet report_reasons = response.report_reasons;\n\t\tthis.setState({ report_reasons });\n\t\tlet report_reasons_panel = [];\n\t\tfor(let i = 0; i < report_reasons.length; i++){\n\t\t\tlet val = report_reasons[i];\n\t\t\treport_reasons_panel.push(<CellButton onClick={()=>{ this.report_stickers(this.state.sticker_info.id, i); }} >{val}</CellButton>);\n\t\t}\n\n\t\tthis.setState({ report_reasons_panel: report_reasons_panel.length > 0 ? report_reasons_panel : null })\n\t}\n\tasync updateModeration() {\n\t\tlet stickers = await this.get('moderation.getStickers');\n\t\tstickers = stickers.stickers;\n\t\tthis.setState({ moderation_stickers: stickers });\n\t\tlet stickers_panel_moderation = [];\n\t\tfor (let i = 0; i < stickers.length; i++) {\n\t\t\tlet stickers_ = [];\n\t\t\tfor (let j = 0; j < stickers[i].stickers.length; j++) {\n\t\t\t\tstickers_.push(\n\t\t\t\t\t<StickerImg mode={\"small\"} src={stickers[i].stickers[j]}/>\n\t\t\t\t);\n\t\t\t}\n\n\t\t\tstickers[i].stickers_ = stickers_;\n\t\t\tstickers_panel_moderation.push(\n\t\t\t\t<StickerButton\n\t\t\t\t\ttitle={stickers[i].title}\n\t\t\t\t\tdescription={stickers[i].author}\n\t\t\t\t\tsrc={stickers[i].preview}\n\t\t\t\t\tprice={stickers[i].price}\n\t\t\t\t\tmode={\"cell\"}\n\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\tthis.setState({moderation_sticker_info: stickers[i]});\n\t\t\t\t\t\tthis.go('moderation_sticker_info');\n\t\t\t\t\t}}\n\t\t\t\t/>\n\t\t\t);\n\t\t}\n\t\tthis.setState({stickers_panel_moderation});\n\n\t\tlet reports = await this.get('moderation.getReports');\n\t\treports = reports.reports;\n\t\tlet report_panel_moderation = [];\n\t\tfor (let i = 0; i < reports.length; i++) {\n\t\t\tlet report = reports[i];\n\t\t\treport_panel_moderation.push(\n\t\t\t\t<StickerButton\n\t\t\t\t\ttitle={this.state.stickers[report.stickers_id].title}\n\t\t\t\t\tdescription={report.hasOwnProperty('report_reason_id') ? this.state.report_reasons[report.report_reason_id] : report.hasOwnProperty('report_reason_text') && report.report_reason_text }\n\t\t\t\t\tsrc={this.state.stickers[report.stickers_id].preview}\n\t\t\t\t\tbuttons={<div style={{ display: 'flex' }}> <Button mode='primary'>Одобрить</Button> <Button mode='secondary' style={{ marginLeft: '8px' }}>Отклонить</Button></div>}\n\t\t\t\t\tmode={\"cell\"}\n\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\tthis.setState({activeStory: \"tab_main\", sticker_info: this.state.stickers[report.stickers_id]});\n\t\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t\tthis.go('sticker_info');\n\t\t\t\t\t\t}, 50)\n\t\t\t\t\t}}\n\t\t\t\t/>\n\t\t\t);\n\t\t}\n\t\tthis.setState({report_panel_moderation});\n\n\t\tlet withdraw = await this.get('moderation.getWithdraw');\n\t\twithdraw = withdraw.withdraw;\n\t\tlet withdraw_panel_moderation = [];\n\t\tfor (let i = 0; i < withdraw.length; i++) {\n\t\t\tlet withdraw = withdraw[i];\n\t\t\tif(!withdraw.success){\n\t\t\t\twithdraw_panel_moderation.push(\n\t\t\t\t\t<StickerButton\n\t\t\t\t\t\ttitle={<Link a={'https://vk.com/id'+withdraw.user_id}>{withdraw.name}</Link>}\n\t\t\t\t\t\tdescription={withdraw.amount}\n\t\t\t\t\t\tbuttons={<div style={{ display: 'flex' }}> <Button mode='primary'>Одобрить</Button> <Button mode='secondary' style={{ marginLeft: '8px' }}>Отклонить</Button></div>}\n\t\t\t\t\t\tmode={\"cell\"}\n\t\t\t\t\t/>\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\t\tthis.setState({withdraw_panel_moderation});\n\t}\n\tasync get(method, params) {\n\t\tif(params === undefined || params === null) params = {};\n\t\tparams.url = window.location.search.replace('?', '');\n\t\tlet str = [];\n\t\tfor (let p in params)\n\t\t\tif (params.hasOwnProperty(p)) {\n\t\t\t\tstr.push(encodeURIComponent(p) + \"=\" + encodeURIComponent(params[p]));\n\t\t\t}\n\t\tparams = str.join(\"&\");\n\t\tlet response = await fetch('https://ih1705413.vds.myihor.ru:4040/'+method+'?'+params, {method: 'GET'})\n\t\t\t.then(res => res.json())\n\t\t\t.then(res => {\n\t\t\t\treturn res;\n\t\t\t});\n\t\tconsole.log(response);\n\t\treturn response;\n\t}\n\n\tsleep(ms) {\n\t\treturn new Promise(resolve => setTimeout(resolve, ms));\n\t}\n\turlToBase64(url){\n\t\treturn new Promise(resolve => {\n\t\t\tlet img = new Image();\n\t\t\timg.crossOrigin = 'Anonymous';\n\t\t\timg.onload = function(){\n\t\t\t\tlet canvas = document.createElement('CANVAS'),\n\t\t\t\t\tctx = canvas.getContext('2d'), dataURL;\n\t\t\t\tcanvas.height = img.height;\n\t\t\t\tcanvas.width = img.width;\n\t\t\t\tctx.drawImage(img, 0, 0);\n\t\t\t\tdataURL = canvas.toDataURL(\"image/png\");\n\t\t\t\tcanvas = null;\n\t\t\t\tresolve(dataURL);\n\t\t\t};\n\t\t\timg.src = url;\n\t\t});\n\t}\n\tbase64ToMultipart(base64) {\n\t\treturn new Promise(resolve => {\n\t\t\tfetch(base64)\n\t\t\t\t.then(res => res.blob())\n\t\t\t\t.then(blob => {\n\t\t\t\t\tconst fd = new FormData();\n\t\t\t\t\tconst file = new File([blob], \"sticker.png\");\n\t\t\t\t\tfd.append('file', file);\n\t\t\t\t\tresolve(fd);\n\t\t\t\t});\n\t\t});\n\t}\n\n\tback = () => {\n\t\tif(this.state.popout !== null){\n\t\t\tif(this.state.popout.props.actionsLayout){\n\t\t\t\tthis.setState({ popout: null });\n\t\t\t\treturn ;\n\t\t\t}\n\t\t}\n\t\tlet activeStory = this.state.activeStory;\n\t\tlet activePanel = activeStory === 'tab_main' ? this.state.activePanelShop : activeStory === 'tab_other' ? this.state.activePanelOther : '';\n\t\tif(activePanel === 'create' && this.state.create_panel.hasOwnProperty('stickers_id')){\n\t\t\tthis.setState({ create_panel: { title: \"\", preview: \"\", price: 1, description: \"\", stickers: [] } });\n\t\t}else if(activePanel === 'create' && this.state.createStickerContextOpened){\n\t\t\tthis.setState({ createStickerContextOpened: false });\n\t\t}\n\t\tlet panel_to_change = activeStory === 'tab_main' ? 'activePanelShop' : activeStory === 'tab_other' ? 'activePanelOther' : '';\n\t\tif((activeStory === 'tab_main' && activePanel==='main') || (activeStory === 'tab_other' && activePanel==='profile')){\n\t\t\tbridge.send(\"VKWebAppClose\", {\"status\": \"success\"});\n\t\t}else {\n\t\t\tlet history = activeStory === 'tab_main' ? this.state.historyShop : activeStory === 'tab_other' ? this.state.historyOther : '';\n\t\t\tif(history.length === 1) {\n\t\t\t\tbridge.send(\"VKWebAppClose\", {\"status\": \"success\"});\n\t\t\t} else if (history.length > 1) {\n\t\t\t\thistory.pop();\n\t\t\t\tlet p = history[history.length - 1];\n\t\t\t\tthis.setState({[panel_to_change]: p});\n\t\t\t\tthis.change_hash(p);\n\t\t\t}\n\t\t}\n\t};\n\tgo(panel) {\n\t\tlet activeStory = this.state.activeStory;\n\t\tlet panel_to_change = activeStory === 'tab_main' ? 'activePanelShop' : activeStory === 'tab_other' ? 'activePanelOther' : '';\n\t\tlet history = activeStory === 'tab_main' ? this.state.historyShop : activeStory === 'tab_other' ? this.state.historyOther : '';\n\t\tif(panel.startsWith('sticker_info_')){\n\t\t\tlet stickers_id = panel.split('_')[2];\n\t\t\tif(this.state.stickers.hasOwnProperty(stickers_id)){\n\t\t\t\tthis.setState({ sticker_info: this.state.stickers[stickers_id] });\n\t\t\t\tpanel = 'sticker_info';\n\t\t\t}else{\n\t\t\t\tpanel = 'main';\n\t\t\t}\n\t\t}else if (panel.startsWith('stickers_report_')){\n\t\t\tlet stickers_id = panel.split('_')[2];\n\t\t\tif(this.state.stickers.hasOwnProperty(stickers_id)){\n\t\t\t\tthis.setState({ sticker_info: this.state.stickers[stickers_id] });\n\t\t\t\tpanel = 'stickers_report';\n\t\t\t}else{\n\t\t\t\tpanel = 'main';\n\t\t\t}\n\t\t}else if (panel === 'stickers_report'){\n\t\t\tthis.setState({ report_other_visible: false });\n\t\t}\n\t\tif(history[history.length-1] !== panel) {\n\t\t\thistory.push(panel);\n\t\t\tlet history_to_change = activeStory === 'tab_main' ? 'historyShop' : activeStory === 'tab_other' ? 'historyOther' : '';\n\t\t\twindow.history.pushState({panel: panel}, 'Title');\n\t\t\tthis.setState({[panel_to_change]: panel, [history_to_change]: history, snackbar: null});\n\t\t}\n\t\tthis.change_hash(panel);\n\t}\n\tchange_hash (panel){\n\t\tlet activeStory = this.state.activeStory;\n\t\tif(panel === 'sticker_info' || panel === 'stickers_report'){\n\t\t\tpanel = panel+'_'+this.state.sticker_info.id;\n\t\t}\n\t\tbridge.send(\"VKWebAppSetLocation\", {\"location\": activeStory+'_'+panel});\n\t}\n\n\tonStoryChange (e) {\n\t\tlet story = e.currentTarget.dataset.story;\n\t\tthis.setState({ activeStory: story, snackbar: null });\n\n\t\tif(this.state.activeStory===story){\n\t\t\tif(story==='tab_main' && this.state.activePanelShop !== 'main'){\n\t\t\t\tthis.back();\n\t\t\t}else if(story==='tab_other' && this.state.activePanelOther !== 'profile'){\n\t\t\t\tthis.back();\n\t\t\t}\n\t\t}else{\n\t\t\tlet panel_ = story === 'tab_main' ? 'activePanelShop' : story === 'tab_other' ? 'activePanelOther' : '';\n\t\t\tlet panel = this.state[panel_];\n\t\t\tsetTimeout(()=>{\n\t\t\t\tthis.change_hash(panel);\n\t\t\t}, 150);\n\t\t}\n\t}\n\tonChange(e) {\n\t\tconst { name, value } = e.currentTarget;\n\t\tlet create_panel = this.state.create_panel;\n\t\tcreate_panel[name] = value;\n\t\tthis.setState({ create_panel: create_panel });\n\t}\n\ttoggleCreateStickerContext () {\n\t\tthis.setState({ createStickerContextOpened: !this.state.createStickerContextOpened });\n\t}\n\tasync uploadFile(element, evt) {\n\t\tlet tgt = evt.target || window.event.srcElement,\n\t\t\tfiles = tgt.files;\n\t\tconst t = this;\n\n\t\tif (FileReader && files && files.length) {\n\t\t\tfor (let file of files) {\n\t\t\t\tlet fr = new FileReader();\n\t\t\t\tfr.onload = async function () {\n\t\t\t\t\tlet res = fr.result; //base64 result, to get src -> array[0].props.src\n\t\t\t\t\tlet res1 = t.state.create_panel;\n\t\t\t\t\tif (file.type.includes('image')) {\n\t\t\t\t\t\tif (element === 'upload_sticker_img') {\n\t\t\t\t\t\t\tlet res10 = res1.hasOwnProperty('uploaded_stickers_img') ? res1.uploaded_stickers_img : [];\n\t\t\t\t\t\t\tlet stickers_count = await res10.filter(function (val) {\n\t\t\t\t\t\t\t\treturn val !== undefined;\n\t\t\t\t\t\t\t}).length + 1;\n\t\t\t\t\t\t\tif (stickers_count <= 48) {\n\t\t\t\t\t\t\t\tres10.push(\n\t\t\t\t\t\t\t\t\t<StickerImg\n\t\t\t\t\t\t\t\t\t\tmode={'small'}\n\t\t\t\t\t\t\t\t\t\tid={'uploaded_sticker_' + res10.length}\n\t\t\t\t\t\t\t\t\t\tsrc={res}\n\t\t\t\t\t\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\t\t\t\t\t\tlet id = parseInt(e.currentTarget.id.split('_')[2]);\n\t\t\t\t\t\t\t\t\t\t\tlet res01 = t.state.create_panel;\n\t\t\t\t\t\t\t\t\t\t\tdelete res01.uploaded_stickers_img[id];\n\t\t\t\t\t\t\t\t\t\t\tt.setState({create_panel: res01});\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\tres1.uploaded_stickers_img = res10;\n\t\t\t\t\t\t\t\tt.setState({create_panel: res1});\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tres1[element] = res;\n\t\t\t\t\t\t\tt.setState({create_panel: res1});\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tres1[element] = null;\n\t\t\t\t\t\tt.setState({create_panel: res1});\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t\tawait fr.readAsDataURL(file);\n\t\t\t}\n\t\t}\n\t\t// Not supported\n\t\telse {\n\t\t\t// fallback -- perhaps submit the input to an iframe and temporarily store\n\t\t\t// them on the server until the user's session ends.\n\t\t}\n\t}\n\tasync showSnackBar (text, icon, style){\n\t\tthis.setState({ snackbar: null });\n\t\tawait this.sleep(150);\n\t\tthis.setState({ snackbar:\n\t\t\t\t<Snackbar\n\t\t\t\t\tlayout=\"vertical\"\n\t\t\t\t\tonClose={() => this.setState({ snackbar: null })}\n\t\t\t\t\tbefore={<Avatar size={24} style={style}>{icon}</Avatar>}\n\t\t\t\t>\n\t\t\t\t\t{text}\n\t\t\t\t</Snackbar>\n\t\t});\n\t}\n\n\tasync sync(stickers_id) {\n\t\tthis.setState({ popout: <ScreenSpinner/> });\n\t\ttry{\n\t\t\taccess_token = await bridge.sendPromise(\"VKWebAppGetAuthToken\", {\"app_id\": 7363654, \"scope\": \"docs\"});\n\t\t\taccess_token = access_token.access_token;\n\t\t\tupload_url1 = await bridge.sendPromise(\"VKWebAppCallAPIMethod\", {\"method\": \"docs.getUploadServer\", \"request_id\": \"upload_server\", \"params\": {\"group_id\":\"193090865\", \"v\":\"5.00\", \"access_token\":access_token}});\n\t\t\tupload_url1 = upload_url1.response.upload_url;\n\t\t\tlet stickers = this.state.stickers[stickers_id].stickers;\n\n\t\t\tif (this.state.stickers[stickers_id].hasOwnProperty('data')) {\n\t\t\t\tfor(var i = 0; i < this.state.stickers[stickers_id].data.length; i++){\n\t\t\t\t\tif(this.state.captcha.done === false && this.state.activePanelShop === 'sticker_info') {\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\tlet remove = await bridge.sendPromise(\"VKWebAppCallAPIMethod\", {\n\t\t\t\t\t\t\t\t\"method\": \"docs.delete\",\n\t\t\t\t\t\t\t\t\"request_id\": \"del_doc\",\n\t\t\t\t\t\t\t\t\"params\": {\n\t\t\t\t\t\t\t\t\t\"owner_id\": this.state.stickers[stickers_id].data[i].owner_id,\n\t\t\t\t\t\t\t\t\t\"doc_id\": this.state.stickers[stickers_id].data[i].doc_id,\n\t\t\t\t\t\t\t\t\t\"v\": \"5.103\",\n\t\t\t\t\t\t\t\t\t\"access_token\": access_token\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t} catch (e) {\n\t\t\t\t\t\t\tconsole.log('error del...');\n\t\t\t\t\t\t\ti--;\n\t\t\t\t\t\t}\n\t\t\t\t\t}else if(this.state.captcha.done === null){\n\t\t\t\t\t\ti--;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tfor(let i = 0; i < stickers.length; i++){\n\t\t\t\tif(this.state.captcha.done === false && this.state.activePanelShop === 'sticker_info'){\n\t\t\t\t\tlet sticker_url = stickers[i].props.src;\n\t\t\t\t\tawait this.urlToBase64('https://murmuring-bastion-20764.herokuapp.com/'+sticker_url).then(async base64Img => {\n\t\t\t\t\t\tawait this.base64ToMultipart(base64Img).then(async multipart => {\n\t\t\t\t\t\t\tawait fetch('https://murmuring-bastion-20764.herokuapp.com/'+upload_url1, {method: 'POST', body: multipart})\n\t\t\t\t\t\t\t\t.then(res => res.json())\n\t\t\t\t\t\t\t\t.then(async res => {\n\t\t\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\t\t\tlet file = res.file;\n\t\t\t\t\t\t\t\t\t\tlet save = await bridge.sendPromise(\"VKWebAppCallAPIMethod\", {\n\t\t\t\t\t\t\t\t\t\t\t\"method\": \"docs.save\",\n\t\t\t\t\t\t\t\t\t\t\t\"request_id\": \"save_graffiti\",\n\t\t\t\t\t\t\t\t\t\t\t\"params\": {\"file\": file, \"v\": \"5.103\", \"access_token\": access_token}\n\t\t\t\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\t\t\t\tawait this.get('stickers.sync', {\n\t\t\t\t\t\t\t\t\t\t\tid_: i,\n\t\t\t\t\t\t\t\t\t\t\tid: stickers_id,\n\t\t\t\t\t\t\t\t\t\t\towner_id: save.response.graffiti.owner_id,\n\t\t\t\t\t\t\t\t\t\t\tdoc_id: save.response.graffiti.id,\n\t\t\t\t\t\t\t\t\t\t\timg: save.response.graffiti.url,\n\t\t\t\t\t\t\t\t\t\t\taccess_key: save.response.graffiti.access_key\n\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t} catch (e) {\n\t\t\t\t\t\t\t\t\t\tconsole.log('error uploading...');\n\t\t\t\t\t\t\t\t\t\ti--;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tawait this.sleep(1000);\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t});\n\t\t\t\t\t});\n\t\t\t\t}else if(this.state.captcha.done === null){\n\t\t\t\t\ti--;\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis.showSnackBar('Стикеры синхронизированы', <Icon16Done fill=\"#fff\" width={14} height={14} />, blueBackground);\n\t\t}catch (e) {\n\t\t\tconsole.log(e);\n\t\t\tthis.showSnackBar('Произошла ошибка при получении данных', <Icon16Cancel fill=\"#fff\" width={14} height={14} />, redBackground);\n\t\t}\n\t\tthis.updateStickersInfo();\n\t\tthis.setState({ popout: null });\n\t}\n\tasync install(stickers_id) {\n\t\tthis.showSnackBar('Идёт установка стикеров, пожалуйста не выходите из приложения - иначе они могут установиться не правильно', <Icon16Spinner fill=\"#fff\" width={14} height={14} />, blueBackground);\n\t\tthis.setState({ popout: <ScreenSpinner/> });\n\t\ttry{\n\t\t\taccess_token = await bridge.sendPromise(\"VKWebAppGetAuthToken\", {\"app_id\": 7363654, \"scope\": \"docs\"});\n\t\t\taccess_token = access_token.access_token;\n\t\t\tlet stickers = await this.get('stickers.get');\n\t\t\tstickers = stickers.stickers[stickers_id];\n\t\t\tlet data = stickers.data;\n\t\t\tif(this.state.user.hasOwnProperty('stickers_cache')){\n\t\t\t\tif(this.state.user.stickers_cache.hasOwnProperty(stickers_id+'')){\n\t\t\t\t\tfor(var i = 0; i < this.state.user.stickers_cache[stickers_id].length; i++){\n\t\t\t\t\t\tif(this.state.captcha.done === false && this.state.activePanelShop === 'sticker_info'){\n\t\t\t\t\t\t\ttry{\n\t\t\t\t\t\t\t\tlet remove = await bridge.sendPromise(\"VKWebAppCallAPIMethod\", {\n\t\t\t\t\t\t\t\t\t\"method\": \"docs.delete\",\n\t\t\t\t\t\t\t\t\t\"request_id\": \"del_doc\",\n\t\t\t\t\t\t\t\t\t\"params\": {\"owner_id\": this.state.user.id, \"doc_id\": this.state.user.stickers_cache[stickers_id][i], \"v\": \"5.103\", \"access_token\": access_token}\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}catch (e) {\n\t\t\t\t\t\t\t\tconsole.log('error del...');\n\t\t\t\t\t\t\t\ti--;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}else if(this.state.captcha.done === null){\n\t\t\t\t\t\t\ti--;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tawait this.sleep(1000);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tfor(var i = 0; i < data.length; i++){\n\t\t\t\tif(this.state.captcha.done === false && this.state.activePanelShop === 'sticker_info'){\n\t\t\t\t\ttry{\n\t\t\t\t\t\tlet obj = data[i];\n\t\t\t\t\t\tlet add = await bridge.sendPromise(\"VKWebAppCallAPIMethod\", {\n\t\t\t\t\t\t\t\"method\": \"docs.add\",\n\t\t\t\t\t\t\t\"request_id\": \"add_doc\",\n\t\t\t\t\t\t\t\"params\": {\"owner_id\": obj.owner_id, \"doc_id\": obj.doc_id, \"access_key\": obj.access_key, \"v\": \"5.103\", \"access_token\": access_token}\n\t\t\t\t\t\t});\n\t\t\t\t\t\tlet added = await this.get('stickers.add', { stickers_id: stickers_id, i: i, doc_id: add.response });\n\t\t\t\t\t\tif(added.access === false){\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}catch (e) {\n\t\t\t\t\t\tconsole.log('error add...');\n\t\t\t\t\t\ti--;\n\t\t\t\t\t}\n\t\t\t\t}else if(this.state.captcha.done === null){\n\t\t\t\t\ti--;\n\t\t\t\t}\n\t\t\t\tawait this.sleep(1000);\n\t\t\t}\n\t\t\tthis.showSnackBar('Стикеры установлены', <Icon16Done fill=\"#fff\" width={14} height={14} />, blueBackground);\n\t\t}catch (e) {\n\t\t\tthis.showSnackBar('Произошла ошибка при получении данных', <Icon16Cancel fill=\"#fff\" width={14} height={14} />, redBackground);\n\t\t}\n\t\tthis.updateStickersInfo();\n\t\tthis.setState({ popout: null });\n\t}\n\tasync delete (stickers_id) {\n\t\tthis.showSnackBar('Идёт очистка стикеров, пожалуйста не выходите из приложения - иначе они могут очиститься не правильно', <Icon16Spinner fill=\"#fff\" width={14} height={14} />, blueBackground);\n\t\tthis.setState({ popout: <ScreenSpinner/> });\n\t\ttry{\n\t\t\taccess_token = await bridge.sendPromise(\"VKWebAppGetAuthToken\", {\"app_id\": 7363654, \"scope\": \"docs\"});\n\t\t\taccess_token = access_token.access_token;\n\t\t\tif(this.state.user.hasOwnProperty('stickers_cache')) {\n\t\t\t\tif (this.state.user.stickers_cache.hasOwnProperty(stickers_id + '')) {\n\t\t\t\t\tfor(var i = 0; i < this.state.user.stickers_cache[stickers_id].length; i++){\n\t\t\t\t\t\tif(this.state.captcha.done === false && this.state.activePanelShop === 'sticker_info'){\n\t\t\t\t\t\t\ttry{\n\t\t\t\t\t\t\t\tlet remove = await bridge.sendPromise(\"VKWebAppCallAPIMethod\", {\n\t\t\t\t\t\t\t\t\t\"method\": \"docs.delete\",\n\t\t\t\t\t\t\t\t\t\"request_id\": \"del_doc\",\n\t\t\t\t\t\t\t\t\t\"params\": {\"owner_id\": this.state.user.id, \"doc_id\": this.state.user.stickers_cache[stickers_id][i], \"v\": \"5.103\", \"access_token\": access_token}\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}catch (e) {\n\t\t\t\t\t\t\t\tconsole.log('error delete...');\n\t\t\t\t\t\t\t\ti--;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}else if(this.state.captcha.done === null){\n\t\t\t\t\t\t\ti--;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tawait this.sleep(1000);\n\t\t\t\t\t}\n\t\t\t\t\tawait this.get('stickers.delete', { stickers_id: stickers_id });\n\t\t\t\t\tthis.showSnackBar('Стикеры очищены', <Icon16Done fill=\"#fff\" width={14} height={14} />, blueBackground);\n\t\t\t\t}\n\t\t\t}\n\t\t}catch (e) {\n\t\t\tthis.showSnackBar('Произошла ошибка при получении данных', <Icon16Cancel fill=\"#fff\" width={14} height={14} />, redBackground);\n\t\t}\n\t\tthis.updateStickersInfo();\n\t\tthis.setState({ popout: null });\n\t}\n\tasync create_stickers () {\n\t\tthis.setState({ popout: <ScreenSpinner/> });\n\t\tlet { title, description, price, upload_preview_img, uploaded_stickers_img } = this.state.create_panel;\n\t\tlet author = this.state.user.first_name + ' ' + this.state.user.last_name;\n\t\tlet preview = '';\n\t\tlet stickers = [];\n\t\tlet uploaded = 0;\n\t\tawait request({\n\t\t\turl: 'https://murmuring-bastion-20764.herokuapp.com/https://api.imgbb.com/1/upload?key=b2bfb837d63c6adae4d191841abb04dc',\n\t\t\tmethod: 'POST',\n\t\t\tform: {\n\t\t\t\timage: upload_preview_img.replace('data:image/png;base64,','')\n\t\t\t}\n\t\t}, (error, response, body)=>{\n\t\t\tif(response.statusCode === 200){\n\t\t\t\tbody = JSON.parse(body);\n\t\t\t\tlet url = body.data.url;\n\t\t\t\tpreview = url;\n\t\t\t\tuploaded++;\n\t\t\t}else{\n\t\t\t\tconsole.log('error', body);\n\t\t\t}\n\t\t});\n\n\t\tfor(let sticker of uploaded_stickers_img){\n\t\t\tif(sticker !== undefined) {\n\t\t\t\tawait request({\n\t\t\t\t\turl: 'https://murmuring-bastion-20764.herokuapp.com/https://api.imgbb.com/1/upload?key=b2bfb837d63c6adae4d191841abb04dc',\n\t\t\t\t\tmethod: 'POST',\n\t\t\t\t\tform: {\n\t\t\t\t\t\timage: sticker.props.src.replace('data:image/png;base64,', '')\n\t\t\t\t\t}\n\t\t\t\t}, (error, response, body) => {\n\t\t\t\t\tif (response.statusCode === 200) {\n\t\t\t\t\t\tbody = JSON.parse(body);\n\t\t\t\t\t\tlet url = body.data.url;\n\t\t\t\t\t\tstickers.push(url);\n\t\t\t\t\t\tuploaded++;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tconsole.log('error', body);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tawait this.sleep(500);\n\t\t\t}\n\t\t}\n\n\t\tfor(let i = 0; i < 2; i++ ){\n\t\t\tif(uploaded === (uploaded_stickers_img.length+1)){\n\t\t\t\tbreak;\n\t\t\t}else{\n\t\t\t\ti--;\n\t\t\t\tawait this.sleep(500);\n\t\t\t}\n\t\t}\n\n\t\tlet resp = await this.get('stickers.create', { title, description, price, preview, stickers, author, stickers_id: this.state.create_panel.hasOwnProperty('stickers_id') ? parseInt(this.state.create_panel.stickers_id) : null });\n\t\tif(resp.status === 'ok'){\n\t\t\tthis.setState({ create_panel: { title: \"\", preview: \"\", price: 1, description: \"\", stickers: [] } });\n\t\t\tawait this.updateUser();\n\t\t\tthis.go('stickers_history');\n\t\t}\n\t\tthis.setState({ popout: null });\n\t}\n\tgo_to_edit () {\n\t\tlet create_panel = this.state.create_panel;\n\t\tlet stickers_ = this.state.sticker_info.stickers;\n\t\tlet stickers = [];\n\t\tcreate_panel.stickers_id = this.state.sticker_info.id;\n\t\tcreate_panel.title = this.state.sticker_info.title;\n\t\tcreate_panel.description = this.state.sticker_info.description;\n\t\tcreate_panel.price = this.state.sticker_info.price;\n\t\tcreate_panel.upload_preview_img = this.state.sticker_info.preview;\n\t\tfor (let i = 0; i < stickers_.length; i++) {\n\t\t\tlet sticker = stickers_[i];\n\t\t\tstickers.push(\n\t\t\t\t<StickerImg\n\t\t\t\t\tmode={'small'}\n\t\t\t\t\tid={'uploaded_sticker_' + i}\n\t\t\t\t\tsrc={sticker.props.src}\n\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\tlet id = parseInt(e.currentTarget.id.split('_')[2]);\n\t\t\t\t\t\tlet create_panel_ = this.state.create_panel;\n\t\t\t\t\t\tdelete create_panel_.uploaded_stickers_img[id];\n\t\t\t\t\t\tthis.setState({create_panel: create_panel_});\n\t\t\t\t\t}}\n\t\t\t\t/>\n\t\t\t);\n\t\t}\n\t\tcreate_panel.uploaded_stickers_img = stickers;\n\t\tthis.setState({ create_panel: create_panel, activeStory: 'tab_other' });\n\t\tsetTimeout(()=>{\n\t\t\tthis.go('create');\n\t\t},150);\n\t}\n\tasync report_stickers (stickers_id, report_reason) {\n\t\tthis.setState({ popout: <ScreenSpinner/> });\n\t\tif(typeof report_reason === 'number'){\n\t\t\tawait this.get('report.send', {stickers_id, report_reason_id: report_reason});\n\t\t}else{\n\t\t\tawait this.get('report.send', {stickers_id, report_reason_text: report_reason});\n\t\t}\n\t\tthis.setState({ popout: null });\n\t\tthis.back();\n\t\tthis.showSnackBar('Жалоба отправлена, спасибо!', <Icon16Done fill=\"#fff\" width={14} height={14} />, blueBackground);\n\t}\n\tasync withdraw () {\n\t\tthis.setState({ popout: <ScreenSpinner/> });\n\t\tlet resp = await this.get('users.withdraw');\n\t\tthis.setState({ popout: null });\n\t\tif(resp.access === false){\n\t\t\tthis.showSnackBar(resp.error_text, <Icon16Cancel fill=\"#fff\" width={14} height={14} />, redBackground);\n\t\t}else{\n\t\t\tthis.showSnackBar('Запрос на вывод средств отправлен, ожидайте', <Icon16Done fill=\"#fff\" width={14} height={14} />, blueBackground);\n\t\t}\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<Epic activeStory={this.state.activeStory} tabbar={\n\t\t\t\t<Tabbar>\n\t\t\t\t\t<TabbarItem\n\t\t\t\t\t\tonClick={this.onStoryChange}\n\t\t\t\t\t\tselected={this.state.activeStory === 'tab_main'}\n\t\t\t\t\t\tdata-story=\"tab_main\"\n\t\t\t\t\t><Icon28MarketOutline/></TabbarItem>\n\t\t\t\t\t<TabbarItem\n\t\t\t\t\t\tonClick={this.onStoryChange}\n\t\t\t\t\t\tselected={this.state.activeStory === 'tab_other'}\n\t\t\t\t\t\tdata-story=\"tab_other\"\n\t\t\t\t\t><Icon28UserOutline /></TabbarItem>\n\t\t\t\t</Tabbar>\n\t\t\t}>\n\t\t\t\t<View id=\"tab_main\" activePanel={this.state.activePanelShop} popout={this.state.popout} history={this.state.historyShop} onSwipeBack={this.back} header={false}>\n\t\t\t\t\t<Panel id=\"main\" separator={false}>\n\t\t\t\t\t\t<PanelHeaderSimple\n\t\t\t\t\t\t\tseparator={false}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tСтикеры\n\t\t\t\t\t\t</PanelHeaderSimple>\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tthis.state.stickers_panel_new.length > 0 &&\n\t\t\t\t\t\t\t<Tabs>\n\t\t\t\t\t\t\t\t<TabsItem\n\t\t\t\t\t\t\t\t\tonClick={() => this.setState({ slideTabIndex_main: 0 })}\n\t\t\t\t\t\t\t\t\tselected={this.state.slideTabIndex_main === 0}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\tНовинки\n\t\t\t\t\t\t\t\t</TabsItem>\n\t\t\t\t\t\t\t\t<TabsItem\n\t\t\t\t\t\t\t\t\tonClick={() => this.setState({ slideTabIndex_main: 1 })}\n\t\t\t\t\t\t\t\t\tselected={this.state.slideTabIndex_main === 1}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\tПопулярные\n\t\t\t\t\t\t\t\t</TabsItem>\n\t\t\t\t\t\t\t</Tabs>\n\t\t\t\t\t\t}\n\t\t\t\t\t\t<Separator />\n\t\t\t\t\t\t<PullToRefresh onRefresh={async () => {\n\t\t\t\t\t\t\tthis.setState({ refreshedStickers: true });\n\t\t\t\t\t\t\tawait this.updateStickers();\n\t\t\t\t\t\t\tawait this.updateQuestions();\n\t\t\t\t\t\t\tthis.setState({ refreshedStickers: false });\n\t\t\t\t\t\t}} isFetching={this.state.refreshedStickers}>\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tthis.state.stickers_panel_new.length > 0 ?\n\t\t\t\t\t\t\t\t<Gallery\n\t\t\t\t\t\t\t\t\tslideWidth=\"100%\"\n\t\t\t\t\t\t\t\t\tstyle={{ height: \"100%\", margin: \"8px\" }}\n\t\t\t\t\t\t\t\t\tslideIndex={this.state.slideTabIndex_main}\n\t\t\t\t\t\t\t\t\tonChange={(slideIndex) => { this.setState({slideTabIndex_main: slideIndex}); }}>\n\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t<List style={{ marginTop: \"15px\" }}>\n\t\t\t\t\t\t\t\t\t\t\t{this.state.stickers_panel_new}\n\t\t\t\t\t\t\t\t\t\t</List>\n\t\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t<List style={{ marginTop: \"15px\" }}>\n\t\t\t\t\t\t\t\t\t\t\t{this.state.stickers_panel_popular}\n\t\t\t\t\t\t\t\t\t\t</List>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</Gallery>\n\t\t\t\t\t\t\t\t\t:\n\t\t\t\t\t\t\t\t\t<Placeholder\n\t\t\t\t\t\t\t\t\t\ticon={<Icon56GalleryOutline/>}\n\t\t\t\t\t\t\t\t\t\tstretched\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\tСтикеров пока что нет\n\t\t\t\t\t\t\t\t\t</Placeholder>\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t{this.state.snackbar && this.state.snackbar}\n\t\t\t\t\t\t</PullToRefresh>\n\t\t\t\t\t</Panel>\n\t\t\t\t\t<Panel id=\"sticker_info\">\n\t\t\t\t\t\t<PanelHeaderSimple\n\t\t\t\t\t\t\tleft={<PanelHeaderBack onClick={()=>{ this.back(); }} />}\n\t\t\t\t\t\t><PanelHeaderContent>\n\t\t\t\t\t\t\tИнформация\n\t\t\t\t\t\t</PanelHeaderContent></PanelHeaderSimple>\n\t\t\t\t\t\t<PullToRefresh onRefresh={async () => {\n\t\t\t\t\t\t\tthis.setState({ refreshedStickersInfo: true });\n\t\t\t\t\t\t\tawait this.updateStickersInfo();\n\t\t\t\t\t\t\tawait this.updateQuestions();\n\t\t\t\t\t\t\tthis.setState({ refreshedStickersInfo: false });\n\t\t\t\t\t\t}} isFetching={this.state.refreshedStickersInfo}>\n\t\t\t\t\t\t\t<Div>\n\t\t\t\t\t\t\t\t<StickerButton\n\t\t\t\t\t\t\t\t\ttitle={this.state.sticker_info.title}\n\t\t\t\t\t\t\t\t\tdescription={this.state.sticker_info.author+'\\nПродано: '+(this.state.sticker_info.sales === 0 ? 0 : this.state.sticker_info.sales.length)}\n\t\t\t\t\t\t\t\t\tsrc={this.state.sticker_info.preview}\n\t\t\t\t\t\t\t\t\tmode={\"cell\"}\n\t\t\t\t\t\t\t\t\tmore={\n\t\t\t\t\t\t\t\t\t\tthis.state.sticker_info.author_id + '' === this.state.user.id + '' ?\n\t\t\t\t\t\t\t\t\t\t\t<Icon28WriteOutline onClick={()=>{ this.go_to_edit(); } } fill={'#ffa000'}/> :\n\t\t\t\t\t\t\t\t\t\t\t<Icon28ReportOutline onClick={async ()=>{ await this.updateReportReasons(); this.go('stickers_report'); } } fill={'#eb4250'}/>\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<div style={{ marginLeft: '8px', marginRight: '8px' }}>\n\t\t\t\t\t\t\t\t\t<StickerDescription>{this.state.sticker_info.description}</StickerDescription>\n\t\t\t\t\t\t\t\t\t<div style={{ marginTop: '10px'}}>\n\t\t\t\t\t\t\t\t\t\t{this.state.user.stickers.indexOf(this.state.sticker_info.id)>=0 ?\n\t\t\t\t\t\t\t\t\t\t\t<div style={{ display: 'flex' }}>\n\t\t\t\t\t\t\t\t\t\t\t\t<Button onClick={()=>{ this.install(this.state.sticker_info.id); }} size={\"xl\"} stretched>{'Установить'}</Button>\n\t\t\t\t\t\t\t\t\t\t\t\t{this.state.user.hasOwnProperty('stickers_cache') ? this.state.user.stickers_cache.hasOwnProperty(this.state.sticker_info.id) ?\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Button style={{ marginLeft: '8px' }} mode={\"secondary\"} onClick={()=>{ this.delete(this.state.sticker_info.id); }} size={\"xl\"} stretched>{'Очистить'}</Button> : null : null}\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t:\n\t\t\t\t\t\t\t\t\t\t\t<div style={{ display: 'flex' }}>\n\t\t\t\t\t\t\t\t\t\t\t\t<Button size={\"xl\"} stretched mode=\"commerce\">{'Получить за '+this.state.sticker_info.price+' руб.'}</Button>\n\t\t\t\t\t\t\t\t\t\t\t</div>}\n\t\t\t\t\t\t\t\t\t\t{/*this.state.user.is_admin*/ false && <div style={{ display: 'flex', marginTop: '10px' }}><Button onClick={()=> { this.sync(this.state.sticker_info.id); }} size={\"xl\"} stretched>{'Синхронизировать'}</Button></div>}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div className=\"centered\" style={{ marginTop: \"18px\" }}>\n\t\t\t\t\t\t\t\t\t<StickerGrid mode={\"small\"}>\n\t\t\t\t\t\t\t\t\t\t{this.state.sticker_info.stickers}\n\t\t\t\t\t\t\t\t\t</StickerGrid>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</Div>\n\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tthis.state.questions_panel &&\n\t\t\t\t\t\t\t\t<Div>\n\t\t\t\t\t\t\t\t\t<div className=\"centered\">\n\t\t\t\t\t\t\t\t\t\t<h4>Ответы на вопросы</h4>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div className=\"centered\">\n\t\t\t\t\t\t\t\t\t\t<CardElements>\n\t\t\t\t\t\t\t\t\t\t\t{this.state.questions_panel}\n\t\t\t\t\t\t\t\t\t\t</CardElements>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</Div>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t{this.state.snackbar && this.state.snackbar}\n\t\t\t\t\t\t</PullToRefresh>\n\t\t\t\t\t</Panel>\n\t\t\t\t\t<Panel id=\"input_captcha\">\n\t\t\t\t\t\t<PanelHeaderSimple><PanelHeaderContent>\n\t\t\t\t\t\t\tВвод капчи\n\t\t\t\t\t\t</PanelHeaderContent></PanelHeaderSimple>\n\t\t\t\t\t\t<FormLayout>\n\t\t\t\t\t\t\t<div className=\"centered\">\n\t\t\t\t\t\t\t\t<img width={'60%'} src={this.state.captcha.url}/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<Input\n\t\t\t\t\t\t\t\talign={'center'}\n\t\t\t\t\t\t\t\tvalue={this.state.captcha.text}\n\t\t\t\t\t\t\t\tonChange={(e)=> { let c = this.state.captcha; c.text = e.currentTarget.value; this.setState({ captcha: c }); }}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<Button size=\"xl\" onClick={()=> { let c = this.state.captcha; c.done = true; this.setState({ captcha: c });  }}>Отправить</Button>\n\t\t\t\t\t\t</FormLayout>\n\t\t\t\t\t</Panel>\n\t\t\t\t\t<Panel id=\"stickers_report\">\n\t\t\t\t\t\t<PanelHeaderSimple left={<PanelHeaderClose onClick={()=>{ this.back(); }} />}><PanelHeaderContent>\n\t\t\t\t\t\t\tЖалоба\n\t\t\t\t\t\t</PanelHeaderContent></PanelHeaderSimple>\n\t\t\t\t\t\t<Group header={<Header mode=\"secondary\">Причина жалобы</Header>}>\n\t\t\t\t\t\t\t{this.state.report_reasons_panel && this.state.report_reasons_panel}\n\t\t\t\t\t\t\t<CellButton onClick={()=>{ this.setState({ report_other_visible: !this.state.report_other_visible }); }}>Другое</CellButton>\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tthis.state.report_other_visible &&\n\t\t\t\t\t\t\t\t\t<FormLayout>\n\t\t\t\t\t\t\t\t\t\t<Textarea value={this.state.report_reason_text} onChange={(e)=>{ this.setState({ report_reason_text: e.currentTarget.value }); }} top=\"Опишите подробнее\" />\n\t\t\t\t\t\t\t\t\t\t<Button onClick={()=>{ this.report_stickers(this.state.sticker_info.id, this.state.report_reason_text); }} disabled={this.state.report_reason_text.length===0} size=\"xl\">Отправить</Button>\n\t\t\t\t\t\t\t\t\t</FormLayout>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t</Group>\n\t\t\t\t\t</Panel>\n\t\t\t\t</View>\n\t\t\t\t<View id=\"tab_other\" activePanel={this.state.activePanelOther} popout={this.state.popout} history={this.state.historyOther} onSwipeBack={this.back} header={false}>\n\t\t\t\t\t<Panel id=\"profile\">\n\t\t\t\t\t\t<PanelHeaderSimple><PanelHeaderContent>\n\t\t\t\t\t\t\tПрофиль\n\t\t\t\t\t\t</PanelHeaderContent></PanelHeaderSimple>\n\t\t\t\t\t\t<PullToRefresh onRefresh={async () => {\n\t\t\t\t\t\t\tthis.setState({ refreshedProfile: true });\n\t\t\t\t\t\t\tawait this.updateUser();\n\t\t\t\t\t\t\tthis.setState({ refreshedProfile: false });\n\t\t\t\t\t\t}} isFetching={this.state.refreshedProfile}>\n\t\t\t\t\t\t\t<Div>\n\t\t\t\t\t\t\t\t<div className=\"centered\">\n\t\t\t\t\t\t\t\t\t<Avatar src={this.state.user.photo_100} size={100}/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<br/>\n\t\t\t\t\t\t\t\t<div className=\"centered\" style={{ fontSize: \"large\"}}>\n\t\t\t\t\t\t\t\t\t{this.state.user.first_name+' '+this.state.user.last_name}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<br/>\n\t\t\t\t\t\t\t\t<Group separator=\"hide\">\n\t\t\t\t\t\t\t\t\t<Cell asideContent={<Icon16Dropdown style={{ transform: `rotate(${this.state.balance_manipulation ? '180deg' : '0'})` }} />} onClick={()=> { this.setState({ balance_manipulation: !this.state.balance_manipulation }); }} indicator={this.state.user.balance+' ₽'}>Ваш баланс</Cell>\n\t\t\t\t\t\t\t\t\t{this.state.balance_manipulation && <div style={{ display: 'flex', justifyContent: 'flex-end', marginTop: '8px' }}>\n\t\t\t\t\t\t\t\t\t\t<Button size=\"l\" onClick={async ()=>{\n\t\t\t\t\t\t\t\t\t\t\tthis.setState({ popout: <ScreenSpinner/> });\n\t\t\t\t\t\t\t\t\t\t\ttry{\n\t\t\t\t\t\t\t\t\t\t\t\tawait bridge.sendPromise(\"VKWebAppOpenPayForm\", {\"app_id\": 7363654, \"action\": \"transfer-to-group\", \"params\": { group_id: 193090865 }});\n\t\t\t\t\t\t\t\t\t\t\t}catch (e) {}\n\t\t\t\t\t\t\t\t\t\t\tawait this.sleep(3000);\n\t\t\t\t\t\t\t\t\t\t\tawait this.updateUser();\n\t\t\t\t\t\t\t\t\t\t\tthis.setState({ popout: null });\n\t\t\t\t\t\t\t\t\t\t}}  before={<Icon16Down/>}>Пополнить</Button>\n\t\t\t\t\t\t\t\t\t\t<Button size=\"l\" before={<Icon16Up/>} mode=\"secondary\" style={{ marginLeft: 8 }} onClick={async ()=>{ if(this.state.user.balance>0){\n\t\t\t\t\t\t\t\t\t\t\tawait this.withdraw();\n\t\t\t\t\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\t\t\t\t\tthis.showSnackBar('Ваш баланс равен нулю', <Icon16Cancel fill=\"#fff\" width={14} height={14} />, redBackground);\n\t\t\t\t\t\t\t\t\t\t} }}>Вывести</Button>\n\t\t\t\t\t\t\t\t\t</div>}\n\t\t\t\t\t\t\t\t</Group>\n\t\t\t\t\t\t\t\t<Group separator=\"hide\" header={<Header mode=\"primary\">Ваши стикеры</Header>}>\n\t\t\t\t\t\t\t\t\t<div className=\"centered\" style={{ marginTop: \"18px\" }}>\n\t\t\t\t\t\t\t\t\t\t<StickerGrid mode={\"big\"}>\n\t\t\t\t\t\t\t\t\t\t\t{this.state.user_stickers}\n\t\t\t\t\t\t\t\t\t\t\t<StickerImg mode={'big'} onClick={()=> { this.go(\"create\"); }}>\n\t\t\t\t\t\t\t\t\t\t\t\t+\n\t\t\t\t\t\t\t\t\t\t\t</StickerImg>\n\t\t\t\t\t\t\t\t\t\t</StickerGrid>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</Group>\n\t\t\t\t\t\t\t</Div>\n\t\t\t\t\t\t\t{this.state.snackbar && this.state.snackbar}\n\t\t\t\t\t\t</PullToRefresh>\n\t\t\t\t\t</Panel>\n\t\t\t\t\t<Panel id=\"create\">\n\t\t\t\t\t\t<PanelHeaderSimple\n\t\t\t\t\t\t\tleft={<PanelHeaderBack onClick={()=>{ this.back(); }} />}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<PanelHeaderContent\n\t\t\t\t\t\t\t\taside={<Icon16Dropdown style={{ transform: `rotate(${this.state.createStickerContextOpened ? '180deg' : '0'})` }} />}\n\t\t\t\t\t\t\t\tonClick={ () => { this.toggleCreateStickerContext(); }}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\tДобавить стикеры\n\t\t\t\t\t\t\t</PanelHeaderContent>\n\t\t\t\t\t\t</PanelHeaderSimple>\n\t\t\t\t\t\t<PanelHeaderContext opened={this.state.createStickerContextOpened} onClose={ () => { this.toggleCreateStickerContext(); }}>\n\t\t\t\t\t\t\t<List>\n\t\t\t\t\t\t\t\t<Cell\n\t\t\t\t\t\t\t\t\tbefore={<Icon28HistoryForwardOutline/>}\n\t\t\t\t\t\t\t\t\tonClick={ () => { this.toggleCreateStickerContext(); this.go(\"stickers_history\") }}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\tИстория\n\t\t\t\t\t\t\t\t</Cell>\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tthis.state.user.is_admin &&\n\t\t\t\t\t\t\t\t\t<Cell\n\t\t\t\t\t\t\t\t\t\tbefore={<Icon28BugOutline/>}\n\t\t\t\t\t\t\t\t\t\tonClick={ async () => {\n\t\t\t\t\t\t\t\t\t\t\tawait this.updateModeration();\n\t\t\t\t\t\t\t\t\t\t\tthis.toggleCreateStickerContext();\n\t\t\t\t\t\t\t\t\t\t\tthis.go(\"moderation\")\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\tМодерация\n\t\t\t\t\t\t\t\t\t</Cell>\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t</List>\n\t\t\t\t\t\t</PanelHeaderContext>\n\t\t\t\t\t\t<FormLayout>\n\t\t\t\t\t\t\t<Input\n\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\ttop=\"Название стикер-пака\"\n\t\t\t\t\t\t\t\tname=\"title\"\n\t\t\t\t\t\t\t\tvalue={this.state.create_panel.title}\n\t\t\t\t\t\t\t\tonChange={this.onChange}\n\t\t\t\t\t\t\t\tstatus={this.state.create_panel.title ? this.state.create_panel.title.length <= 20 ? 'valid' : 'error' : 'error'}\n\t\t\t\t\t\t\t\tbottom={this.state.create_panel.title ? this.state.create_panel.title.length <= 20 ? '' : 'Максимальная длина - 20' : 'Пожалуйста, введите название'}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<Textarea\n\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\ttop=\"Описание\"\n\t\t\t\t\t\t\t\tname=\"description\"\n\t\t\t\t\t\t\t\tvalue={this.state.create_panel.description}\n\t\t\t\t\t\t\t\tonChange={this.onChange}\n\t\t\t\t\t\t\t\tstatus={this.state.create_panel.description ? this.state.create_panel.description.length <= 100 ? 'valid' : 'error' : 'error'}\n\t\t\t\t\t\t\t\tbottom={this.state.create_panel.description ? this.state.create_panel.description.length <= 100 ? '' : 'Максимальная длина - 100' : 'Пожалуйста, введите описание'}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<Input\n\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\ttop=\"Цена\"\n\t\t\t\t\t\t\t\tname=\"price\"\n\t\t\t\t\t\t\t\tvalue={this.state.create_panel.price}\n\t\t\t\t\t\t\t\tonChange={this.onChange}\n\t\t\t\t\t\t\t\tstatus={this.state.create_panel.price > 0 ? this.state.create_panel.price <= 1000 ? this.state.create_panel.price.toString().includes('.') ? 'error' : 'valid' : 'error' : 'error'}\n\t\t\t\t\t\t\t\tbottom={this.state.create_panel.price > 0 ? this.state.create_panel.price <= 1000 ? this.state.create_panel.price.toString().includes('.') ? 'Число должно быть целым' : '' : 'Максимальная цена- 1 000 руб.' : 'Минимальная цена - 1 руб.'}\n\t\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t\t<StickerUploadButton\n\t\t\t\t\t\t\t\tsrc={this.state.create_panel.upload_preview_img && this.state.create_panel.upload_preview_img}\n\t\t\t\t\t\t\t\ttitle={'Превью'}\n\t\t\t\t\t\t\t\tdescription={'Загрузите главную фотографию стикер-пака (128×128px)'}\n\t\t\t\t\t\t\t\tonChange={(event)=> {this.uploadFile('upload_preview_img', event)}}\n\t\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t\t<StickerUploadButton\n\t\t\t\t\t\t\t\ttitle={'Стикеры'}\n\t\t\t\t\t\t\t\tdescription={'Загрузите все стикеры (минимум - 4, максимум - 48), которые будут содержаться в паке (128×128px)'}\n\t\t\t\t\t\t\t\tonChange={(event)=> {this.uploadFile('upload_sticker_img', event)}}\n\t\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t\t<div className=\"centered\" style={{ paddingBottom: \"16px\" }}>\n\t\t\t\t\t\t\t\t<div style={{ minWidth: \"64px\", maxWidth: \"296px\", display: \"grid\", gridTemplateColumns: \"repeat(auto-fill, 64px)\", gridGap: \"10px\" }}>\n\t\t\t\t\t\t\t\t\t{this.state.create_panel.uploaded_stickers_img}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<Button size=\"xl\" onClick={()=>{ this.create_stickers(); }} disabled={this.state.create_panel.title ? this.state.create_panel.description ? this.state.create_panel.price > 0 ? this.state.create_panel.title.length <= 20 ? this.state.create_panel.description.length <= 100 ? this.state.create_panel.price <= 1000 ? this.state.create_panel.price.toString().includes('.') ?  true : this.state.create_panel.upload_preview_img ? this.state.create_panel.uploaded_stickers_img ? this.state.create_panel.uploaded_stickers_img.filter(function(val){ return val !== undefined; }).length >= 4 ? false : true : true : true : true : true : true : true : true : true }>Продолжить</Button>\n\t\t\t\t\t\t</FormLayout>\n\t\t\t\t\t</Panel>\n\t\t\t\t\t<Panel id={\"stickers_history\"}>\n\t\t\t\t\t\t<PanelHeaderSimple\n\t\t\t\t\t\t\tleft={<PanelHeaderBack onClick={()=>{ this.back(); }} />}\n\t\t\t\t\t\t><PanelHeaderContent>\n\t\t\t\t\t\t\tИстория\n\t\t\t\t\t\t</PanelHeaderContent></PanelHeaderSimple>\n\t\t\t\t\t\t<PullToRefresh onRefresh={async () => {\n\t\t\t\t\t\t\tthis.setState({ refreshedStickersHistory: true });\n\t\t\t\t\t\t\tawait this.updateUser();\n\t\t\t\t\t\t\tthis.setState({ refreshedStickersHistory: false });\n\t\t\t\t\t\t}} isFetching={this.state.refreshedStickersHistory}>\n\t\t\t\t\t\t\t{this.state.user_stickers_history && this.state.user_stickers_history.length > 0 ? <Div>\n\t\t\t\t\t\t\t\t<List>\n\t\t\t\t\t\t\t\t\t{this.state.user_stickers_history}\n\t\t\t\t\t\t\t\t</List>\n\t\t\t\t\t\t\t</Div>\n\t\t\t\t\t\t\t:\n\t\t\t\t\t\t\t\t<Placeholder\n\t\t\t\t\t\t\t\t\ticon={<Icon56HistoryOutline/>}\n\t\t\t\t\t\t\t\t\theader={'Пусто'}\n\t\t\t\t\t\t\t\t\tstretched\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\tВы пока еще не создавали стикеры\n\t\t\t\t\t\t\t\t</Placeholder>}\n\t\t\t\t\t\t</PullToRefresh>\n\t\t\t\t\t</Panel>\n\t\t\t\t\t<Panel id={\"moderation\"}>\n\t\t\t\t\t\t<PanelHeaderSimple\n\t\t\t\t\t\t\tleft={<PanelHeaderBack onClick={()=>{ this.back(); }} />}\n\t\t\t\t\t\t\tseparator={false}\n\t\t\t\t\t\t><PanelHeaderContent>\n\t\t\t\t\t\t\tМодерация\n\t\t\t\t\t\t</PanelHeaderContent></PanelHeaderSimple>\n\t\t\t\t\t\t<Tabs>\n\t\t\t\t\t\t\t<TabsItem\n\t\t\t\t\t\t\t\tonClick={() => this.setState({ slideTabIndex_moderation: 0 })}\n\t\t\t\t\t\t\t\tselected={this.state.slideTabIndex_moderation === 0}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\tСтикеры\n\t\t\t\t\t\t\t</TabsItem>\n\t\t\t\t\t\t\t<TabsItem\n\t\t\t\t\t\t\t\tonClick={() => this.setState({ slideTabIndex_moderation: 1 })}\n\t\t\t\t\t\t\t\tselected={this.state.slideTabIndex_moderation === 1}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\tЖалобы\n\t\t\t\t\t\t\t</TabsItem>\n\t\t\t\t\t\t\t<TabsItem\n\t\t\t\t\t\t\t\tonClick={() => this.setState({ slideTabIndex_moderation: 2 })}\n\t\t\t\t\t\t\t\tselected={this.state.slideTabIndex_moderation === 2}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\tВывод средств\n\t\t\t\t\t\t\t</TabsItem>\n\t\t\t\t\t\t</Tabs>\n\t\t\t\t\t\t<Separator />\n\t\t\t\t\t\t<PullToRefresh onRefresh={async () => {\n\t\t\t\t\t\t\tthis.setState({ refreshedModeration: true });\n\t\t\t\t\t\t\tawait this.updateModeration();\n\t\t\t\t\t\t\tthis.setState({ refreshedModeration: false });\n\t\t\t\t\t\t}} isFetching={this.state.refreshedModeration}>\n\t\t\t\t\t\t\t<Gallery\n\t\t\t\t\t\t\t\tslideWidth=\"100%\"\n\t\t\t\t\t\t\t\tstyle={{ height: \"100%\", margin: \"8px\" }}\n\t\t\t\t\t\t\t\tslideIndex={this.state.slideTabIndex_moderation}\n\t\t\t\t\t\t\t\tonChange={(slideIndex) => { this.setState({slideTabIndex_moderation: slideIndex}); }}>\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tthis.state.stickers_panel_moderation.length > 0 ?\n\t\t\t\t\t\t\t\t\t\t\t<List style={{ marginTop: \"15px\" }}>\n\t\t\t\t\t\t\t\t\t\t\t\t{this.state.stickers_panel_moderation}\n\t\t\t\t\t\t\t\t\t\t\t</List>\n\t\t\t\t\t\t\t\t\t\t\t:\n\t\t\t\t\t\t\t\t\t\t\t<div style={{ display: \"flex\", height: \"75vh\" }}>\n\t\t\t\t\t\t\t\t\t\t\t\t<div style={{ display: \"flex\", alignItems: \"center\", justifyContent: \"center\", width: \"100%\", height: \"100%\" }}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Placeholder\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ticon={<Icon56GalleryOutline/>}\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tСтикеров пока что нет\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Placeholder>\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tthis.state.report_panel_moderation.length > 0 ?\n\t\t\t\t\t\t\t\t\t\t\t<List style={{ marginTop: \"15px\" }}>\n\t\t\t\t\t\t\t\t\t\t\t\t{this.state.report_panel_moderation}\n\t\t\t\t\t\t\t\t\t\t\t</List>\n\t\t\t\t\t\t\t\t\t\t\t:\n\t\t\t\t\t\t\t\t\t\t\t<div style={{ display: \"flex\", height: \"75vh\" }}>\n\t\t\t\t\t\t\t\t\t\t\t\t<div style={{ display: \"flex\", alignItems: \"center\", justifyContent: \"center\", width: \"100%\", height: \"100%\" }}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Placeholder\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ticon={<Icon56CheckCircleDeviceOutline/>}\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tЖалоб пока что нет\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Placeholder>\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tthis.state.withdraw_panel_moderation.length > 0 ?\n\t\t\t\t\t\t\t\t\t\t\t<List style={{ marginTop: \"15px\" }}>\n\t\t\t\t\t\t\t\t\t\t\t\t{this.state.withdraw_panel_moderation}\n\t\t\t\t\t\t\t\t\t\t\t</List>\n\t\t\t\t\t\t\t\t\t\t\t:\n\t\t\t\t\t\t\t\t\t\t\t<div style={{ display: \"flex\", height: \"75vh\" }}>\n\t\t\t\t\t\t\t\t\t\t\t\t<div style={{ display: \"flex\", alignItems: \"center\", justifyContent: \"center\", width: \"100%\", height: \"100%\" }}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Placeholder\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ticon={<Icon56MoneyTransferOutline/>}\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tЗапросов на вывод средств пока что нет\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Placeholder>\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</Gallery>\n\t\t\t\t\t\t</PullToRefresh>\n\t\t\t\t\t\t{this.state.snackbar && this.state.snackbar}\n\t\t\t\t\t</Panel>\n\t\t\t\t\t<Panel id=\"moderation_sticker_info\">\n\t\t\t\t\t\t<PanelHeaderSimple\n\t\t\t\t\t\t\tleft={<PanelHeaderBack onClick={()=>{ this.back(); }} />}\n\t\t\t\t\t\t><PanelHeaderContent>\n\t\t\t\t\t\t\tИнформация\n\t\t\t\t\t\t</PanelHeaderContent></PanelHeaderSimple>\n\n\t\t\t\t\t\t<Div>\n\t\t\t\t\t\t\t<StickerButton\n\t\t\t\t\t\t\t\ttitle={this.state.moderation_sticker_info.title}\n\t\t\t\t\t\t\t\tdescription={this.state.moderation_sticker_info.author}\n\t\t\t\t\t\t\t\tsrc={this.state.moderation_sticker_info.preview}\n\t\t\t\t\t\t\t\tmode={\"cell\"}\n\t\t\t\t\t\t\t\tmore={\n\t\t\t\t\t\t\t\t\tthis.state.moderation_sticker_info.hasOwnProperty('stickers_id') ?\n\t\t\t\t\t\t\t\t\t\t<Icon28WriteOutline fill={'#ffa000'}/> :\n\t\t\t\t\t\t\t\t\t\t<Icon28AddCircleOutline fill={'#4bb34b'}/>\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<div style={{ marginLeft: '8px', marginRight: '8px' }}>\n\t\t\t\t\t\t\t\t<StickerDescription>{this.state.moderation_sticker_info.description}</StickerDescription>\n\t\t\t\t\t\t\t\t<div style={{ marginTop: '10px'}}>\n\t\t\t\t\t\t\t\t\t<div style={{ display: 'flex' }}>\n\t\t\t\t\t\t\t\t\t\t<Button onClick={()=>{  }} size={\"xl\"} stretched>{'Одобрить'}</Button>\n\t\t\t\t\t\t\t\t\t\t<Button style={{ marginLeft: '8px' }} mode={\"destructive\"} onClick={()=>{  }} size={\"xl\"} stretched>{'Отклонить'}</Button>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t{/*this.state.user.is_admin*/ false && <div style={{ display: 'flex', marginTop: '10px' }}><Button onClick={()=> { this.sync(this.state.moderation_sticker_info.id); }} size={\"xl\"} stretched>{'Синхронизировать'}</Button></div>}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"centered\" style={{ marginTop: \"18px\" }}>\n\t\t\t\t\t\t\t\t<StickerGrid mode={\"small\"}>\n\t\t\t\t\t\t\t\t\t{this.state.moderation_sticker_info.stickers_}\n\t\t\t\t\t\t\t\t</StickerGrid>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</Div>\n\n\t\t\t\t\t\t{this.state.snackbar && this.state.snackbar}\n\t\t\t\t\t</Panel>\n\t\t\t\t</View>\n\t\t\t</Epic>\n\t\t);\n\t}\n}\n\nexport default App;","import 'core-js/features/map';\nimport 'core-js/features/set';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport bridge from '@vkontakte/vk-bridge';\nimport App from './App';\n// import registerServiceWorker from './sw';\n\n// Init VK  Mini App\nbridge.send('VKWebAppInit');\n\n// Если вы хотите, чтобы ваше веб-приложение работало в оффлайне и загружалось быстрее,\n// расскомментируйте строку с registerServiceWorker();\n// Но не забывайте, что на данный момент у технологии есть достаточно подводных камней\n// Подробнее про сервис воркеры можно почитать тут — https://vk.cc/8MHpmT\n// registerServiceWorker();\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}