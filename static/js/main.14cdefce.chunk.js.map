{"version":3,"sources":["components/StickerImg.js","components/StickerButton.js","components/StickerDescription.js","components/StickerGrid.js","components/StickerUploadButton.js","components/CardElements.js","components/CardElement.js","App.js","index.js"],"names":["StickerImg","this","props","mode","width","height","src","id","onClick","size","hasOwnProperty","className","style","borderRadius","color","fontSize","children","PureComponent","StickerButton","before","description","author","bottomContent","mode2","price","button","title","StickerDescription","dangerouslySetInnerHTML","__html","replace","StickerGrid","minWidth","maxWidth","display","gridTemplateColumns","gridGap","StickerUploadButton","accept","type","multiple","ref","upload_preview","upload_stickers","onChange","click","multiline","CardElements","CardElement","el","text","fill","href","link","target","access_token","upload_url1","blueBackground","backgroundColor","redBackground","App","back","activeStory","state","activePanel","activePanelShop","activePanelOther","panel_to_change","bridge","send","history","historyShop","historyOther","length","pop","p","setState","initialized","popout","slideTabIndex","createStickerContextOpened","balance_manipulation","stickers_panel","sticker_info","preview","stickers","user","first_name","last_name","photo_100","balance","stickers_history","create_panel","captcha","url","done","onStoryChange","bind","uploadFile","toggleCreateStickerContext","sync","install","delete","componentDidMount","initializeApp","updateStickers","updateStickersInfo","updateUser","updateQuestions","go","window","addEventListener","e","preventDefault","subscribe","a","detail","data","console","log","schemeAttribute","document","createAttribute","value","scheme","body","attributes","setNamedItem","get","access","error_data","error_reason","error_code","c","captcha_img","sid","captcha_sid","i","sleep","request_params","params","method","request_id","key","captcha_key","sendPromise","response","stickers_panel_new","stickers_","j","push","parseInt","currentTarget","split","user_","reverse","stickers_panel_popular","sort","itemA","itemB","sales","user_stickers","sticker","setTimeout","user_stickers_history","added","questions","questions_panel","val","undefined","location","search","str","encodeURIComponent","join","fetch","then","res","json","ms","Promise","resolve","img","Image","crossOrigin","onload","dataURL","canvas","createElement","ctx","getContext","drawImage","toDataURL","base64","blob","fd","FormData","file","File","append","panel","history_to_change","pushState","story","dataset","name","element","evt","tgt","event","srcElement","files","t","FileReader","fr","result","res1","includes","res10","uploaded_stickers_img","res01","filter","readAsDataURL","icon","snackbar","layout","onClose","stickers_id","upload_url","sticker_url","urlToBase64","base64Img","base64ToMultipart","multipart","save","id_","owner_id","graffiti","doc_id","access_key","showSnackBar","stickers_cache","obj","add","tabbar","selected","data-story","onSwipeBack","header","separator","onRefresh","refreshedStickers","isFetching","slideWidth","margin","slideIndex","marginTop","left","refreshedStickersInfo","indexOf","stretched","marginLeft","align","refreshedProfile","asideContent","transform","indicator","justifyContent","aside","opened","top","status","bottom","toString","upload_preview_img","paddingBottom","disabled","React","Component","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.14cdefce.chunk.js","sourcesContent":["import React, { PureComponent } from 'react';\r\nimport '@vkontakte/vkui/dist/vkui.css';\r\nimport {Avatar} from \"@vkontakte/vkui\";\r\n\r\nexport class StickerImg extends PureComponent {\r\n\r\n    render() {\r\n        return (\r\n            this.props.mode === 'small' ?\r\n                <img width={64} height={64} src={this.props.src} id={this.props.id} onClick={this.props.onClick}/>\r\n                :\r\n                this.props.mode === 'medium' ?\r\n                    <Avatar mode=\"app\" size={78} src={this.props.src} />\r\n                    :\r\n                    this.props.mode === 'big' &&\r\n                        <Avatar size={96}>\r\n                            {this.props.hasOwnProperty('children') ?\r\n                                <div className=\"centered\" style={{ borderRadius: 48, width: \"100%\", height: \"100%\", color: \"#7f8285\", fontSize: 76 }} onClick={this.props.onClick}>{this.props.children}</div>\r\n                            :\r\n                                <img width={96} height={96}\r\n                                     src={this.props.src}\r\n                                     id={this.props.id}\r\n                                     onClick={this.props.onClick}\r\n                                />\r\n                            }\r\n                        </Avatar>\r\n        )\r\n    }\r\n\r\n}","import React, { PureComponent } from 'react';\r\nimport '@vkontakte/vkui/dist/vkui.css';\r\nimport { Button, Cell} from \"@vkontakte/vkui\";\r\nimport {StickerImg} from \"./StickerImg\";\r\n\r\nexport class StickerButton extends PureComponent {\r\n\r\n    render() {\r\n        return (\r\n            this.props.mode === 'cell' ?\r\n                <Cell id={this.props.id} onClick={this.props.onClick} before={<StickerImg mode={'medium'} src={this.props.src}/>}\r\n                      description={this.props.author} size={\"l\"}\r\n                      bottomContent={<Button mode={this.props.hasOwnProperty('mode2') ? this.props.mode2 : \"commerce\"}>{this.props.hasOwnProperty('price') ? (this.props.price + ' руб.') : this.props.button}</Button>}>{this.props.title}</Cell>\r\n                :\r\n                this.props.mode === 'img' &&\r\n                <StickerImg\r\n                    mode={\"big\"}\r\n                    src={this.props.src}\r\n                    id={this.props.id}\r\n                    onClick={this.props.onClick}\r\n                />\r\n        )\r\n    }\r\n\r\n}","import React, { PureComponent } from 'react';\r\nimport '@vkontakte/vkui/dist/vkui.css';\r\n\r\nexport class StickerDescription extends PureComponent {\r\n\r\n    render() {\r\n        return (\r\n            <div style={{ color: \"#7f8285\" }} dangerouslySetInnerHTML={{ __html: this.props.children.replace('\\n','<br/>') }} />\r\n        )\r\n    }\r\n\r\n}","import React, { PureComponent } from 'react';\r\nimport '@vkontakte/vkui/dist/vkui.css';\r\n\r\nexport class StickerGrid extends PureComponent {\r\n\r\n    render() {\r\n        return (\r\n            this.props.mode === 'small' ?\r\n                <div style={{ minWidth: \"64px\", maxWidth: \"296px\", display: \"grid\", gridTemplateColumns: \"repeat(auto-fill, 64px)\", gridGap: \"10px\" }}>{this.props.children}</div>\r\n                :\r\n                this.props.mode === 'big' &&\r\n                <div style={{ minWidth: \"96px\", maxWidth: \"320px\", display: \"grid\", gridTemplateColumns: \"repeat(auto-fill, 96px)\", gridGap: \"10px\" }}>{this.props.children}</div>\r\n        )\r\n    }\r\n\r\n}","import React, { PureComponent } from 'react';\r\nimport '@vkontakte/vkui/dist/vkui.css';\r\nimport {Cell} from \"@vkontakte/vkui\";\r\nimport {StickerImg} from \"./StickerImg\";\r\n\r\nexport class StickerUploadButton extends PureComponent {\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                <input accept=\".png\" type=\"file\" multiple={!this.props.hasOwnProperty('src')} ref={(ref) => { if(this.props.hasOwnProperty('src')) { this.upload_preview = ref; } else {  this.upload_stickers = ref } }} style={{display: \"none\"}} onChange={this.props.onChange}/>\r\n                <Cell onClick={()=> { if(this.props.hasOwnProperty('src')) { this.upload_preview.click(); } else { this.upload_stickers.click(); } }} before={this.props.hasOwnProperty('src') && <StickerImg mode={'medium'} src={this.props.src}/>} multiline description={this.props.description} >{this.props.title}</Cell>\r\n            </div>\r\n        )\r\n    }\r\n\r\n}","import React, { PureComponent } from 'react';\r\nimport '@vkontakte/vkui/dist/vkui.css';\r\nimport '../css/App.css';\r\n\r\nexport class CardElements extends PureComponent {\r\n\r\n    render() {\r\n        return (\r\n            <div className={ \"card-elements-container\" }>\r\n                {this.props.children}\r\n            </div>\r\n        )\r\n    }\r\n\r\n}","import React, { PureComponent } from 'react';\r\nimport '@vkontakte/vkui/dist/vkui.css';\r\nimport '../css/App.css';\r\nimport Icon16Chevron from '@vkontakte/icons/dist/16/chevron';\r\nimport Link from \"@vkontakte/vkui/dist/components/Link/Link\";\r\n\r\nexport class CardElement extends PureComponent {\r\n\r\n    render() {\r\n        let el = <div className={ \"cell\" }>\r\n                    <div className={ \"left\" }> <div className=\"text\">{ this.props.text }</div> </div>\r\n                    <div className={ \"right\" }>  <Icon16Chevron fill=\"#c4c8cc\"/> </div>\r\n                </div>;\r\n        return (\r\n            this.props.hasOwnProperty('link') ?\r\n                <Link href={this.props.link} target=\"_blank\">{el}</Link>\r\n                :\r\n                {el}\r\n        )\r\n    }\r\n\r\n}","import React from 'react';\nimport bridge from '@vkontakte/vk-bridge';\nimport '@vkontakte/vkui/dist/vkui.css';\nimport './css/App.css'\n\nimport { Panel, PanelHeader, Div , View , ScreenSpinner, List , Cell , Gallery , FormLayout , Input , Avatar , Group , Epic, Tabbar, TabbarItem, Separator, Button, PanelHeaderContext, Header, PanelHeaderSimple, PanelHeaderContent, Placeholder, Tabs,\n\tTabsItem, PullToRefresh, Snackbar, Textarea, PanelHeaderBack  } from '@vkontakte/vkui';\n\nimport Icon16Done from '@vkontakte/icons/dist/16/done';\nimport Icon16Cancel from '@vkontakte/icons/dist/16/cancel';\nimport Icon16Dropdown from '@vkontakte/icons/dist/16/dropdown';\nimport Icon16Down from '@vkontakte/icons/dist/16/down';\nimport Icon16Up from '@vkontakte/icons/dist/16/up';\nimport Icon28HistoryForwardOutline from '@vkontakte/icons/dist/28/history_forward_outline';\nimport Icon28MarketOutline from '@vkontakte/icons/dist/28/market_outline';\nimport Icon28UserOutline from '@vkontakte/icons/dist/28/user_outline';\nimport Icon56HistoryOutline from '@vkontakte/icons/dist/56/history_outline';\n\nimport {StickerImg} from \"./components/StickerImg\";\nimport {StickerButton} from \"./components/StickerButton\";\nimport {StickerDescription} from \"./components/StickerDescription\";\nimport {StickerGrid} from \"./components/StickerGrid\";\nimport {StickerUploadButton} from \"./components/StickerUploadButton\";\nimport {CardElements} from \"./components/CardElements\";\nimport {CardElement} from \"./components/CardElement\";\n\nlet access_token = '', upload_url1 = '';\n\nconst blueBackground = {\n\tbackgroundColor: 'var(--accent)'\n};\n\nconst redBackground = {\n\tbackgroundColor: 'var(--dynamic_red)'\n};\n\nclass App extends React.Component {\n\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tinitialized: false,\n\t\t\tpopout: <ScreenSpinner/>,\n\t\t\tactiveStory: 'tab_main',\n\t\t\tslideTabIndex: 0,\n\t\t\tactivePanelShop: \"main\",\n\t\t\thistoryShop: [\"main\"],\n\t\t\tactivePanelOther: \"profile\",\n\t\t\thistoryOther: [\"profile\"],\n\t\t\tcreateStickerContextOpened: false,\n\t\t\tbalance_manipulation: false,\n\t\t\tstickers_panel: null,\n\t\t\tsticker_info: { title: \"\", author: \"\", preview: \"\", price: 0, description: \"\", stickers: [] },\n\t\t\tuser: {\n\t\t\t\tfirst_name: '',\n\t\t\t\tlast_name: '',\n\t\t\t\tphoto_100: '',\n\t\t\t\tstickers:[ ],\n\t\t\t\tbalance: 0,\n\t\t\t\tstickers_history: [ ]\n\t\t\t},\n\t\t\tcreate_panel: { title: \"\", preview: \"\", price: 1, description: \"\", stickers: [] },\n\t\t\tcaptcha : { text: '', url: '', done: false }\n\t\t};\n\n\t\tthis.onStoryChange = this.onStoryChange.bind(this);\n\t\tthis.onChange = this.onChange.bind(this);\n\t\tthis.uploadFile = this.uploadFile.bind(this);\n\t\tthis.toggleCreateStickerContext = this.toggleCreateStickerContext.bind(this);\n\t\tthis.sync = this.sync.bind(this);\n\t\tthis.install = this.install.bind(this);\n\t\tthis.delete = this.delete.bind(this);\n\n\t\tthis.componentDidMount = this.componentDidMount.bind(this);\n\t\tthis.initializeApp = this.initializeApp.bind(this);\n\t\tthis.updateStickers = this.updateStickers.bind(this);\n\t\tthis.updateStickersInfo = this.updateStickersInfo.bind(this);\n\t\tthis.updateUser = this.updateUser.bind(this);\n\t\tthis.updateQuestions = this.updateQuestions.bind(this);\n\t\tthis.back = this.back.bind(this);\n\t\tthis.go = this.go.bind(this);\n\t}\n\n\tcomponentDidMount () {\n\t\twindow.addEventListener('popstate', e => {\n\t\t\te.preventDefault();\n\t\t\tthis.back(e);\n\t\t});\n\t\tbridge.subscribe(async ({ detail: { type, data }}) => {\n\t\t\tconsole.log(type, data);\n\t\t\tif (type === 'VKWebAppUpdateConfig') {\n\t\t\t\tconst schemeAttribute = document.createAttribute('scheme');\n\t\t\t\tschemeAttribute.value = data.scheme ? data.scheme : 'client_light';\n\t\t\t\tdocument.body.attributes.setNamedItem(schemeAttribute);\n\t\t\t} else if (type === 'VKWebAppGetUserInfoResult'){\n\t\t\t\tif(!this.state.initialized){\n\t\t\t\t\tlet login = await this.get('users.auth');\n\t\t\t\t\tif(login.access){\n\t\t\t\t\t\t/*\n                        data.stickers = [ 0 ];\n                        data.balance = 0;\n                        data.stickers_history = [ { title: \"Илай\", preview: \"https://vk.com/sticker/1-18781-128\", added: false }, { title: \"Бисквит\", author: \"Илья Ульянов\", preview: \"https://vk.com/sticker/2-533-cover-140b-0\" } ];\n                        */\n\t\t\t\t\t\tthis.setState({ initialized: true, popout: null });\n\t\t\t\t\t\tthis.initializeApp();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else if (type === 'VKWebAppCallAPIMethodFailed'){\n\t\t\t\tif(data.error_data.error_reason.error_code === 14){\n\t\t\t\t\tlet c = this.state.captcha;\n\t\t\t\t\tc.done = null;\n\t\t\t\t\tc.url = data.error_data.error_reason.captcha_img;\n\t\t\t\t\tc.sid = data.error_data.error_reason.captcha_sid;\n\t\t\t\t\tthis.setState({ captcha: c, popout: null });\n\t\t\t\t\tthis.go('input_captcha');\n\t\t\t\t\tfor(var i = 0; i < 2; i++){\n\t\t\t\t\t    if(this.state.captcha.done === null){\n\t\t\t\t\t        i--;\n                            await this.sleep(1500);\n                        }else{\n\t\t\t\t\t        break;\n                        }\n                    }\n\n\t\t\t\t\tthis.setState({ popout: <ScreenSpinner/> });\n\t\t\t\t\tlet request_params = data.error_data.error_reason.request_params;\n\t\t\t\t\tlet params = {};\n\t\t\t\t\tlet method = '';\n\t\t\t\t\tlet request_id = '';\n\t\t\t\t\tfor(var i = 0; i < request_params.length; i++){\n\t\t\t\t\t\tlet key = request_params[i].key;\n\t\t\t\t\t\tlet value = request_params[i].value;\n\t\t\t\t\t\tif(key !== 'api_id' && key !== 'format' && key !== 'oauth'){\n\t\t\t\t\t\t\tif(key === 'method'){\n\t\t\t\t\t\t\t\tmethod = value;\n\t\t\t\t\t\t\t}else if (key === 'request_id'){\n\t\t\t\t\t\t\t\trequest_id = value;\n\t\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\t\tparams[key] = value;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tparams.access_token = access_token;\n\t\t\t\t\tparams.captcha_sid = this.state.captcha.sid;\n\t\t\t\t\tparams.captcha_key = this.state.captcha.text;\n\t\t\t\t\ttry{\n\t\t\t\t\t\tlet res_back = await bridge.sendPromise(\"VKWebAppCallAPIMethod\", {\n\t\t\t\t\t\t\t\"method\": method,\n\t\t\t\t\t\t\t\"request_id\": request_id,\n\t\t\t\t\t\t\t\"params\": params\n\t\t\t\t\t\t});\n\t\t\t\t\t\tthis.setState({ captcha : { text: '', url: '', done: false } });\n\t\t\t\t\t\tthis.back();\n\t\t\t\t\t}catch (e) {\n\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t\tthis.initializeApp();\n\t}\n\n\tinitializeApp() {\n\t\tthis.updateStickers();\n\t\tthis.updateUser();\n\t\tthis.updateQuestions();\n\t}\n\n\tasync updateStickers() {\n\t\tlet response = await this.get('stickers.get');\n\t\tthis.setState({stickers: response.stickers});\n\t\tlet stickers_panel_new = [];\n\t\tlet stickers = this.state.stickers;\n\t\tfor (let i = 0; i < stickers.length; i++) {\n\t\t\tlet stickers_ = [];\n\t\t\tfor (let j = 0; j < stickers[i].data.length; j++) {\n\t\t\t\tstickers_.push(\n\t\t\t\t\t<StickerImg mode={\"small\"} src={stickers[i].data[j].url}/>\n\t\t\t\t);\n\t\t\t}\n\n\t\t\tstickers[i].stickers = stickers_;\n\t\t\tstickers[i].id = i;\n\t\t\tstickers_panel_new.push(\n\t\t\t\t<StickerButton\n\t\t\t\t\ttitle={stickers[i].title}\n\t\t\t\t\tauthor={stickers[i].author}\n\t\t\t\t\tsrc={stickers[i].preview}\n\t\t\t\t\tprice={stickers[i].price}\n\t\t\t\t\tid={\"sticker_\" + i}\n\t\t\t\t\tmode={\"cell\"}\n\t\t\t\t\tonClick={async (e) => {\n\t\t\t\t\t\tlet id = parseInt(e.currentTarget.id.split('_')[1]);\n\t\t\t\t\t\tthis.setState({sticker_info: stickers[id], popout: <ScreenSpinner/>});\n\t\t\t\t\t\tlet response = await this.get('users.get');\n\t\t\t\t\t\tlet user_ = await bridge.sendPromise('VKWebAppGetUserInfo');\n\t\t\t\t\t\tthis.setState({user: {...user_, ...response.user}, popout: null});\n\t\t\t\t\t\tthis.go('sticker_info');\n\t\t\t\t\t}}\n\t\t\t\t/>\n\t\t\t);\n\t\t}\n\t\tstickers_panel_new = stickers_panel_new.reverse();\n\t\tlet stickers_panel_popular = stickers_panel_new.sort(function (itemA, itemB) {\n\t\t\treturn (itemA.sales === 0 ? 0 : itemA.sales.length) - (itemB.sales === 0 ? 0 : itemB.sales.length);\n\t\t}).reverse();\n\t\tthis.setState({stickers_panel_new, stickers_panel_popular});\n\t}\n\tasync updateStickersInfo() {\n\t\tawait this.updateStickers();\n\t\tawait this.updateUser();\n\t\tthis.setState({ sticker_info: this.state.stickers[this.state.sticker_info.id] });\n\t}\n\tasync updateUser() {\n\t\tlet response = await this.get('users.get');\n\t\tlet user_ = await bridge.sendPromise('VKWebAppGetUserInfo');\n\t\tthis.setState({user: {...user_, ...response.user}});\n\t\tlet user_stickers = [];\n\t\tfor (let i = 0; i < this.state.user.stickers.length; i++) {\n\t\t\tlet sticker = this.state.stickers[i];\n\t\t\tuser_stickers.push(\n\t\t\t\t<StickerButton\n\t\t\t\t\tsrc={sticker.preview}\n\t\t\t\t\tid={\"user_sticker_\" + i}\n\t\t\t\t\tmode={\"img\"}\n\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\tlet id = parseInt(e.currentTarget.id.split('_')[2]);\n\t\t\t\t\t\tthis.setState({activeStory: \"tab_main\", sticker_info: this.state.stickers[id]});\n\t\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t\tthis.go('sticker_info');\n\t\t\t\t\t\t\t}, 50)\n\t\t\t\t\t}}\n\t\t\t\t/>\n\t\t\t);\n\t\t}\n\t\tthis.setState({user_stickers});\n\n\t\tlet user_stickers_history = [];\n\t\tfor (let i = 0; i < this.state.user.stickers_history.length; i++) {\n\t\t\tlet sticker = this.state.user.stickers_history[i];\n\t\t\tuser_stickers_history.push(\n\t\t\t\t<StickerButton\n\t\t\t\t\ttitle={sticker.title}\n\t\t\t\t\tsrc={sticker.preview}\n\t\t\t\t\tmode2={sticker.hasOwnProperty('added') ? (sticker.added ? 'commerce' : 'destructive') : 'primary'}\n\t\t\t\t\tbutton={sticker.hasOwnProperty('added') ? (sticker.added ? 'Одобрено' : 'Отклонено') : 'На проверке'}\n\t\t\t\t\tmode={\"cell\"}\n\t\t\t\t/>\n\t\t\t);\n\t\t}\n\t\tthis.setState({user_stickers_history});\n\t}\n\tasync updateQuestions() {\n\t\tlet response = await this.get('questions.get');\n\t\tlet questions = response.questions;\n\t\tlet questions_panel = [];\n\t\tfor(let val of questions){\n\t\t\tquestions_panel.push(<CardElement link={val.link} text={val.text}/>);\n\t\t}\n\n\t\tthis.setState({ questions_panel: questions_panel.length > 0 ? questions_panel : null })\n\t}\n\tasync get(method, params) {\n\t\tif(params === undefined || params === null) params = {};\n\t\tparams.url = window.location.search.replace('?', '');\n\t\tlet str = [];\n\t\tfor (let p in params)\n\t\t\tif (params.hasOwnProperty(p)) {\n\t\t\t\tstr.push(encodeURIComponent(p) + \"=\" + encodeURIComponent(params[p]));\n\t\t\t}\n\t\tparams = str.join(\"&\");\n\t\tlet response = await fetch('https://ih1705413.vds.myihor.ru:4040/'+method+'?'+params, {method: 'GET'})\n\t\t\t.then(res => res.json())\n\t\t\t.then(res => {\n\t\t\t\treturn res;\n\t\t\t});\n\t\tconsole.log(response);\n\t\treturn response;\n\t}\n\n\tsleep(ms) {\n\t\treturn new Promise(resolve => setTimeout(resolve, ms));\n\t}\n\turlToBase64(url){\n\t\treturn new Promise(resolve => {\n\t\t\tlet img = new Image();\n\t\t\timg.crossOrigin = 'Anonymous';\n\t\t\timg.onload = function(){\n\t\t\t\tlet canvas = document.createElement('CANVAS'),\n\t\t\t\t\tctx = canvas.getContext('2d'), dataURL;\n\t\t\t\tcanvas.height = img.height;\n\t\t\t\tcanvas.width = img.width;\n\t\t\t\tctx.drawImage(img, 0, 0);\n\t\t\t\tdataURL = canvas.toDataURL(\"image/png\");\n\t\t\t\tcanvas = null;\n\t\t\t\tresolve(dataURL);\n\t\t\t};\n\t\t\timg.src = url;\n\t\t});\n\t}\n\tbase64ToMultipart(base64) {\n\t\treturn new Promise(resolve => {\n\t\t\tfetch(base64)\n\t\t\t\t.then(res => res.blob())\n\t\t\t\t.then(blob => {\n\t\t\t\t\tconst fd = new FormData();\n\t\t\t\t\tconst file = new File([blob], \"sticker.png\");\n\t\t\t\t\tfd.append('file', file);\n\t\t\t\t\tresolve(fd);\n\t\t\t\t});\n\t\t});\n\t}\n\n\tback = () => {\n\t\tlet activeStory = this.state.activeStory;\n\t\tlet activePanel = activeStory === 'tab_main' ? this.state.activePanelShop : activeStory === 'tab_other' ? this.state.activePanelOther : '';\n\t\tlet panel_to_change = activeStory === 'tab_main' ? 'activePanelShop' : activeStory === 'tab_other' ? 'activePanelOther' : '';\n\t\tif(activePanel !== 'input_captcha'){\n            if((activeStory === 'tab_main' && activePanel==='main') || (activeStory === 'tab_other' && activePanel==='profile')){\n                bridge.send(\"VKWebAppClose\", {\"status\": \"success\"});\n            }else {\n                let history = activeStory === 'tab_main' ? this.state.historyShop : activeStory === 'tab_other' ? this.state.historyOther : '';\n                if(history.length === 1) {\n                    bridge.send(\"VKWebAppClose\", {\"status\": \"success\"});\n                } else if (history.length > 1) {\n                    history.pop();\n                    let p = history[history.length - 1];\n                    this.setState({[panel_to_change]: p});\n                }\n            }\n        }\n\t};\n\tgo(panel) {\n\t\tlet activeStory = this.state.activeStory;\n\t\tlet panel_to_change = activeStory === 'tab_main' ? 'activePanelShop' : activeStory === 'tab_other' ? 'activePanelOther' : '';\n\t\tlet history = activeStory === 'tab_main' ? this.state.historyShop : activeStory === 'tab_other' ? this.state.historyOther : '';\n\t\tif(history[history.length-1]!==panel) {\n\t\t\thistory.push(panel);\n\t\t\tlet history_to_change = activeStory === 'tab_main' ? 'historyShop' : activeStory === 'tab_other' ? 'historyOther' : '';\n\t\t\twindow.history.pushState({panel: panel}, 'Title');\n\t\t\tthis.setState({[panel_to_change]: panel, [history_to_change]: history});\n\t\t}\n\t}\n\n\tonStoryChange (e) {\n\t\tlet story = e.currentTarget.dataset.story;\n\t\tif(this.state.activeStory===story){\n\t\t\tif(story==='tab_main' && this.state.activePanelShop !== 'main'){\n\t\t\t\tthis.back();\n\t\t\t}else if(story==='tab_other' && this.state.activePanelOther !== 'profile'){\n\t\t\t\tthis.back();\n\t\t\t}\n\t\t}\n\t\tthis.setState({ activeStory: story });\n\t}\n\tonChange(e) {\n\t\tconst { name, value } = e.currentTarget;\n\t\tlet create_panel = this.state.create_panel;\n\t\tcreate_panel[name] = value;\n\t\tthis.setState({ create_panel: create_panel });\n\t}\n\ttoggleCreateStickerContext () {\n\t\tthis.setState({ createStickerContextOpened: !this.state.createStickerContextOpened });\n\t}\n\tasync uploadFile(element, evt) {\n\t\tlet tgt = evt.target || window.event.srcElement,\n\t\t\tfiles = tgt.files;\n\t\tconst t = this;\n\n\t\tif (FileReader && files && files.length) {\n\t\t\tfor (let file of files) {\n\t\t\t\tlet fr = new FileReader();\n\t\t\t\tfr.onload = function () {\n\t\t\t\t\tlet res = fr.result; //base64 result, to get src -> array[0].props.src\n\t\t\t\t\tlet res1 = t.state.create_panel;\n\t\t\t\t\tif(file.type.includes('image')){\n\t\t\t\t\t\tif (element === 'upload_sticker_img') {\n\t\t\t\t\t\t\tlet res10 = res1.hasOwnProperty('uploaded_stickers_img') ? res1.uploaded_stickers_img : [];\n\t\t\t\t\t\t\tres10.push(\n\t\t\t\t\t\t\t\t<StickerImg\n\t\t\t\t\t\t\t\t\tmode={'small'}\n\t\t\t\t\t\t\t\t\tid={'uploaded_sticker_' + res10.length}\n\t\t\t\t\t\t\t\t\tsrc={res}\n\t\t\t\t\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\t\t\t\t\tlet id = parseInt(e.currentTarget.id.split('_')[2]);\n\t\t\t\t\t\t\t\t\t\tlet res01 = t.state.create_panel;\n\t\t\t\t\t\t\t\t\t\tdelete res01.uploaded_stickers_img[id];\n\t\t\t\t\t\t\t\t\t\tt.setState({create_panel: res01});\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\tlet stickers_count = res10.filter(function (val) {\n\t\t\t\t\t\t\t\treturn val !== undefined;\n\t\t\t\t\t\t\t}).length;\n\t\t\t\t\t\t\tif (stickers_count <= 48) {\n\t\t\t\t\t\t\t\tres1.uploaded_stickers_img = res10;\n\t\t\t\t\t\t\t\tt.setState({create_panel: res1});\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tres1[element] = res;\n\t\t\t\t\t\t\tt.setState({create_panel: res1});\n\t\t\t\t\t\t}\n\t\t\t\t\t}else{\n\t\t\t\t\t\tres1[element] = null;\n\t\t\t\t\t\tt.setState({ create_panel: res1});\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t\tawait fr.readAsDataURL(file);\n\t\t\t}\n\t\t}\n\t\t// Not supported\n\t\telse {\n\t\t\t// fallback -- perhaps submit the input to an iframe and temporarily store\n\t\t\t// them on the server until the user's session ends.\n\t\t}\n\t}\n\tshowSnackBar (text, icon, style){\n\t\tthis.setState({ snackbar: null });\n\t\tthis.setState({ snackbar:\n\t\t\t\t<Snackbar\n\t\t\t\t\tlayout=\"vertical\"\n\t\t\t\t\tonClose={() => this.setState({ snackbar: null })}\n\t\t\t\t\tbefore={<Avatar size={24} style={style}>{icon}</Avatar>}\n\t\t\t\t>\n\t\t\t\t\t{text}\n\t\t\t\t</Snackbar>\n\t\t});\n\t}\n\n\tasync sync(stickers_id) {\n\t\tthis.setState({ popout: <ScreenSpinner/> });\n\t\ttry{\n\t\t\taccess_token = await bridge.sendPromise(\"VKWebAppGetAuthToken\", {\"app_id\": 7363654, \"scope\": \"docs\"});\n\t\t\taccess_token = access_token.access_token;\n\t\t\tupload_url1 = await bridge.sendPromise(\"VKWebAppCallAPIMethod\", {\"method\": \"docs.getUploadServer\", \"request_id\": \"upload_server\", \"params\": {\"group_id\":\"193090865\", \"v\":\"5.00\", \"access_token\":access_token}});\n\t\t\tupload_url1 = upload_url1.response.upload_url;\n\t\t\tlet stickers = this.state.stickers[stickers_id].stickers;\n\t\t\tfor(let i = 0; i < stickers.length; i++){\n\t\t\t\tlet sticker_url = stickers[i].props.src;\n\t\t\t\tif(this.state.captcha.done === false && this.state.activePanelShop === 'sticker_info'){\n\t\t\t\t\tawait this.urlToBase64('https://cors-anywhere.herokuapp.com/'+sticker_url).then(async base64Img => {\n\t\t\t\t\t\tawait this.base64ToMultipart(base64Img).then(async multipart => {\n\t\t\t\t\t\t\tawait fetch('https://cors-anywhere.herokuapp.com/'+upload_url1, {method: 'POST', body: multipart})\n\t\t\t\t\t\t\t\t.then(res => res.json())\n\t\t\t\t\t\t\t\t.then(async res => {\n\t\t\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\t\t\tlet file = res.file;\n\t\t\t\t\t\t\t\t\t\tlet save = await bridge.sendPromise(\"VKWebAppCallAPIMethod\", {\n\t\t\t\t\t\t\t\t\t\t\t\"method\": \"docs.save\",\n\t\t\t\t\t\t\t\t\t\t\t\"request_id\": \"save_graffiti\",\n\t\t\t\t\t\t\t\t\t\t\t\"params\": {\"file\": file, \"v\": \"5.103\", \"access_token\": access_token}\n\t\t\t\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\t\t\t\tawait this.get('stickers.sync', {\n\t\t\t\t\t\t\t\t\t\t\tid_: i,\n\t\t\t\t\t\t\t\t\t\t\tid: stickers_id,\n\t\t\t\t\t\t\t\t\t\t\towner_id: save.response.graffiti.owner_id,\n\t\t\t\t\t\t\t\t\t\t\tdoc_id: save.response.graffiti.id,\n\t\t\t\t\t\t\t\t\t\t\timg: save.response.graffiti.url,\n\t\t\t\t\t\t\t\t\t\t\taccess_key: save.response.graffiti.access_key\n\t\t\t\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\t\t\t\tif (this.state.stickers[stickers_id].hasOwnProperty('data')) {\n\t\t\t\t\t\t\t\t\t\t\tif (this.state.stickers[stickers_id].data.hasOwnProperty(i)) {\n\t\t\t\t\t\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\t\t\t\t\t\tlet remove = await bridge.sendPromise(\"VKWebAppCallAPIMethod\", {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"method\": \"docs.delete\",\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"request_id\": \"del_doc\",\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"params\": {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"owner_id\": this.state.stickers[stickers_id].data[i].owner_id,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"doc_id\": this.state.stickers[stickers_id].data[i].doc_id,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"v\": \"5.103\",\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"access_token\": access_token\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t\t\t} catch (e) {\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t} catch (e) {\n\t\t\t\t\t\t\t\t\t\tconsole.log('error uploading...');\n\t\t\t\t\t\t\t\t\t\ti--;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tawait this.sleep(1500);\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t});\n\t\t\t\t\t});\n\t\t\t\t}else if(this.state.captcha.done === null){\n\t\t\t\t\ti--;\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis.showSnackBar('Стикеры синхронизированы', <Icon16Done fill=\"#fff\" width={14} height={14} />, blueBackground);\n\t\t}catch (e) {\n\t\t\tconsole.log(e);\n\t\t\tthis.showSnackBar('Произошла ошибка при получении данных', <Icon16Cancel fill=\"#fff\" width={14} height={14} />, redBackground);\n\t\t}\n\t\tthis.updateStickersInfo();\n\t\tthis.setState({ popout: null });\n\t}\n\tasync install(stickers_id) {\n\t\tthis.setState({ popout: <ScreenSpinner/> });\n\t\ttry{\n\t\t\taccess_token = await bridge.sendPromise(\"VKWebAppGetAuthToken\", {\"app_id\": 7363654, \"scope\": \"docs\"});\n\t\t\taccess_token = access_token.access_token;\n\t\t\tlet stickers = await this.get('stickers.get');\n\t\t\tstickers = stickers.stickers[stickers_id];\n\t\t\tlet data = stickers.data;\n\t\t\tfor(var i = 0; i < data.length; i++){\n\t\t\t\tif(this.state.captcha.done === false && this.state.activePanelShop === 'sticker_info'){\n\t\t\t\t\ttry{\n\t\t\t\t\t\tif(this.state.user.hasOwnProperty('stickers_cache')){\n\t\t\t\t\t\t\tif(this.state.user.stickers_cache.hasOwnProperty(stickers_id+'')){\n\t\t\t\t\t\t\t\ttry{\n\t\t\t\t\t\t\t\t\tlet remove = await bridge.sendPromise(\"VKWebAppCallAPIMethod\", {\n\t\t\t\t\t\t\t\t\t\t\"method\": \"docs.delete\",\n\t\t\t\t\t\t\t\t\t\t\"request_id\": \"del_doc\",\n\t\t\t\t\t\t\t\t\t\t\"params\": {\"owner_id\": this.state.user.id, \"doc_id\": this.state.user.stickers_cache[stickers_id][i], \"v\": \"5.103\", \"access_token\": access_token}\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\tawait this.sleep(1500);\n\t\t\t\t\t\t\t\t}catch (e) {}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tlet obj = data[i];\n\t\t\t\t\t\tlet add = await bridge.sendPromise(\"VKWebAppCallAPIMethod\", {\n\t\t\t\t\t\t\t\"method\": \"docs.add\",\n\t\t\t\t\t\t\t\"request_id\": \"add_doc\",\n\t\t\t\t\t\t\t\"params\": {\"owner_id\": obj.owner_id, \"doc_id\": obj.doc_id, \"access_key\": obj.access_key, \"v\": \"5.103\", \"access_token\": access_token}\n\t\t\t\t\t\t});\n\t\t\t\t\t\tlet added = await this.get('stickers.add', { stickers_id: stickers_id, i: i, doc_id: add.response });\n\t\t\t\t\t\tif(added.access === false){\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}catch (e) {\n\t\t\t\t\t\tconsole.log('error add...');\n\t\t\t\t\t\ti--;\n\t\t\t\t\t}\n\t\t\t\t}else if(this.state.captcha.done === null){\n\t\t\t\t\ti--;\n\t\t\t\t}\n\t\t\t\tawait this.sleep(1500);\n\t\t\t}\n\t\t\tthis.showSnackBar('Стикеры установлены', <Icon16Done fill=\"#fff\" width={14} height={14} />, blueBackground);\n\t\t}catch (e) {\n\t\t\tthis.showSnackBar('Произошла ошибка при получении данных', <Icon16Cancel fill=\"#fff\" width={14} height={14} />, redBackground);\n\t\t}\n\t\tthis.updateStickersInfo();\n\t\tthis.setState({ popout: null });\n\t}\n\tasync delete (stickers_id) {\n\t\tthis.setState({ popout: <ScreenSpinner/> });\n\t\ttry{\n\t\t\taccess_token = await bridge.sendPromise(\"VKWebAppGetAuthToken\", {\"app_id\": 7363654, \"scope\": \"docs\"});\n\t\t\taccess_token = access_token.access_token;\n\t\t\tif(this.state.user.hasOwnProperty('stickers_cache')) {\n\t\t\t\tif (this.state.user.stickers_cache.hasOwnProperty(stickers_id + '')) {\n\t\t\t\t\tfor(var i = 0; i < this.state.user.stickers_cache[stickers_id].length; i++){\n\t\t\t\t\t\tif(this.state.captcha.done === false && this.state.activePanelShop === 'sticker_info'){\n\t\t\t\t\t\t\ttry{\n\t\t\t\t\t\t\t\tlet remove = await bridge.sendPromise(\"VKWebAppCallAPIMethod\", {\n\t\t\t\t\t\t\t\t\t\"method\": \"docs.delete\",\n\t\t\t\t\t\t\t\t\t\"request_id\": \"del_doc\",\n\t\t\t\t\t\t\t\t\t\"params\": {\"owner_id\": this.state.user.id, \"doc_id\": this.state.user.stickers_cache[stickers_id][i], \"v\": \"5.103\", \"access_token\": access_token}\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}catch (e) {\n\t\t\t\t\t\t\t\tconsole.log('error delete...');\n\t\t\t\t\t\t\t\ti--;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}else if(this.state.captcha.done === null){\n\t\t\t\t\t\t\ti--;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tawait this.sleep(1500);\n\t\t\t\t\t}\n\t\t\t\t\tawait this.get('stickers.delete', { stickers_id: stickers_id });\n\t\t\t\t\tthis.showSnackBar('Стикеры очищены', <Icon16Done fill=\"#fff\" width={14} height={14} />, blueBackground);\n\t\t\t\t}\n\t\t\t}\n\t\t}catch (e) {\n\t\t\tthis.showSnackBar('Произошла ошибка при получении данных', <Icon16Cancel fill=\"#fff\" width={14} height={14} />, redBackground);\n\t\t}\n\t\tthis.updateStickersInfo();\n\t\tthis.setState({ popout: null });\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<Epic activeStory={this.state.activeStory} tabbar={\n\t\t\t\t<Tabbar>\n\t\t\t\t\t<TabbarItem\n\t\t\t\t\t\tonClick={this.onStoryChange}\n\t\t\t\t\t\tselected={this.state.activeStory === 'tab_main'}\n\t\t\t\t\t\tdata-story=\"tab_main\"\n\t\t\t\t\t><Icon28MarketOutline/></TabbarItem>\n\t\t\t\t\t<TabbarItem\n\t\t\t\t\t\tonClick={this.onStoryChange}\n\t\t\t\t\t\tselected={this.state.activeStory === 'tab_other'}\n\t\t\t\t\t\tdata-story=\"tab_other\"\n\t\t\t\t\t><Icon28UserOutline /></TabbarItem>\n\t\t\t\t</Tabbar>\n\t\t\t}>\n\t\t\t\t<View id=\"tab_main\" activePanel={this.state.activePanelShop} popout={this.state.popout} history={this.state.historyShop} onSwipeBack={this.back} header={false}>\n\t\t\t\t\t<Panel id=\"main\" separator={false}>\n\t\t\t\t\t\t<PanelHeaderSimple\n\t\t\t\t\t\t\tseparator={false}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tСтикеры\n\t\t\t\t\t\t</PanelHeaderSimple>\n\t\t\t\t\t\t<Tabs>\n\t\t\t\t\t\t\t<TabsItem\n\t\t\t\t\t\t\t\tonClick={() => this.setState({ slideTabIndex: 0 })}\n\t\t\t\t\t\t\t\tselected={this.state.slideTabIndex === 0}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\tНовинки\n\t\t\t\t\t\t\t</TabsItem>\n\t\t\t\t\t\t\t<TabsItem\n\t\t\t\t\t\t\t\tonClick={() => this.setState({ slideTabIndex: 1 })}\n\t\t\t\t\t\t\t\tselected={this.state.slideTabIndex === 1}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\tПопулярные\n\t\t\t\t\t\t\t</TabsItem>\n\t\t\t\t\t\t</Tabs>\n\t\t\t\t\t\t<Separator />\n\t\t\t\t\t\t<PullToRefresh onRefresh={async () => {\n\t\t\t\t\t\t\tthis.setState({ refreshedStickers: true });\n\t\t\t\t\t\t\tawait this.updateStickers();\n\t\t\t\t\t\t\tawait this.updateQuestions();\n\t\t\t\t\t\t\tthis.setState({ refreshedStickers: false });\n\t\t\t\t\t\t}} isFetching={this.state.refreshedStickers}>\n\t\t\t\t\t\t\t<Gallery\n\t\t\t\t\t\t\t\tslideWidth=\"100%\"\n\t\t\t\t\t\t\t\tstyle={{ height: \"100%\", margin: \"8px\" }}\n\t\t\t\t\t\t\t\tslideIndex={this.state.slideTabIndex}\n\t\t\t\t\t\t\t\tonChange={(slideIndex) => { this.setState({slideTabIndex: slideIndex}); }}>\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t<List style={{ marginTop: \"15px\" }}>\n\t\t\t\t\t\t\t\t\t\t{this.state.stickers_panel_new}\n\t\t\t\t\t\t\t\t\t</List>\n\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t<List style={{ marginTop: \"15px\" }}>\n\t\t\t\t\t\t\t\t\t\t{this.state.stickers_panel_popular}\n\t\t\t\t\t\t\t\t\t</List>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</Gallery>\n\t\t\t\t\t\t</PullToRefresh>\n\t\t\t\t\t</Panel>\n\t\t\t\t\t<Panel id=\"sticker_info\">\n\t\t\t\t\t\t<PanelHeaderSimple\n\t\t\t\t\t\t\tleft={<PanelHeaderBack onClick={()=>{ this.back(); }} />}\n\t\t\t\t\t\t><PanelHeaderContent>\n\t\t\t\t\t\t\tИнформация\n\t\t\t\t\t\t</PanelHeaderContent></PanelHeaderSimple>\n\t\t\t\t\t\t<PullToRefresh onRefresh={async () => {\n\t\t\t\t\t\t\tthis.setState({ refreshedStickersInfo: true });\n\t\t\t\t\t\t\tawait this.updateStickersInfo();\n\t\t\t\t\t\t\tawait this.updateQuestions();\n\t\t\t\t\t\t\tthis.setState({ refreshedStickersInfo: false });\n\t\t\t\t\t\t}} isFetching={this.state.refreshedStickersInfo}>\n\t\t\t\t\t\t\t<Div>\n\t\t\t\t\t\t\t\t<Cell before={<StickerImg mode={'medium'} src={this.state.sticker_info.preview}/>} description={this.state.sticker_info.author}>{this.state.sticker_info.title}</Cell>\n\t\t\t\t\t\t\t\t<br/>\n\t\t\t\t\t\t\t\t<StickerDescription>{this.state.sticker_info.description}</StickerDescription>\n\t\t\t\t\t\t\t\t<div style={{ marginTop: '10px'}}>\n\t\t\t\t\t\t\t\t\t{this.state.user.stickers.indexOf(this.state.sticker_info.id)>=0 ?\n\t\t\t\t\t\t\t\t\t\t<div style={{ display: 'flex' }}>\n\t\t\t\t\t\t\t\t\t\t\t<Button onClick={()=>{ this.install(this.state.sticker_info.id); }} size={\"xl\"} stretched>{'Установить'}</Button>\n\t\t\t\t\t\t\t\t\t\t\t{this.state.user.hasOwnProperty('stickers_cache') ? this.state.user.stickers_cache.hasOwnProperty(this.state.sticker_info.id) ?\n\t\t\t\t\t\t\t\t\t\t\t\t<Button style={{ marginLeft: '8px' }} mode={\"secondary\"} onClick={()=>{ this.delete(this.state.sticker_info.id); }} size={\"xl\"} stretched>{'Очистить'}</Button> : null : null}\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t:\n\t\t\t\t\t\t\t\t\t\t<div style={{ display: 'flex' }}>\n\t\t\t\t\t\t\t\t\t\t\t<Button size={\"xl\"} stretched mode=\"commerce\">{'Получить за '+this.state.sticker_info.price+' руб.'}</Button>\n\t\t\t\t\t\t\t\t\t\t</div>}\n\t\t\t\t\t\t\t\t\t{/*this.state.user.is_admin*/ false && <div style={{ display: 'flex', marginTop: '10px' }}><Button onClick={()=> { this.sync(this.state.sticker_info.id); }} size={\"xl\"} stretched>{'Синхронизировать'}</Button></div>}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div className=\"centered\" style={{ marginTop: \"18px\" }}>\n\t\t\t\t\t\t\t\t\t<StickerGrid mode={\"small\"}>\n\t\t\t\t\t\t\t\t\t\t{this.state.sticker_info.stickers}\n\t\t\t\t\t\t\t\t\t</StickerGrid>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</Div>\n\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tthis.state.questions_panel &&\n\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t<Div>\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"centered\">\n\t\t\t\t\t\t\t\t\t\t\t\t<h4>Ответы на вопросы</h4>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"centered\">\n\t\t\t\t\t\t\t\t\t\t\t\t<CardElements>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{this.state.questions_panel}\n\t\t\t\t\t\t\t\t\t\t\t\t</CardElements>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</Div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t{this.state.snackbar}\n\t\t\t\t\t\t</PullToRefresh>\n\t\t\t\t\t</Panel>\n\t\t\t\t\t<Panel id=\"input_captcha\">\n\t\t\t\t\t\t<PanelHeaderSimple><PanelHeaderContent>\n\t\t\t\t\t\t\tВвод капчи\n\t\t\t\t\t\t</PanelHeaderContent></PanelHeaderSimple>\n\t\t\t\t\t\t<FormLayout>\n\t\t\t\t\t\t\t<div className=\"centered\">\n\t\t\t\t\t\t\t\t<img width={'60%'} src={this.state.captcha.url}/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<Input\n\t\t\t\t\t\t\t\talign={'center'}\n\t\t\t\t\t\t\t\tvalue={this.state.captcha.text}\n\t\t\t\t\t\t\t\tonChange={(e)=> { let c = this.state.captcha; c.text = e.currentTarget.value; this.setState({ captcha: c }); }}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<Button size=\"xl\" onClick={()=> { let c = this.state.captcha; c.done = true; this.setState({ captcha: c });  }}>Отправить</Button>\n\t\t\t\t\t\t</FormLayout>\n\t\t\t\t\t</Panel>\n\t\t\t\t</View>\n\t\t\t\t<View id=\"tab_other\" activePanel={this.state.activePanelOther} popout={this.state.popout} history={this.state.historyOther} onSwipeBack={this.back} header={false}>\n\t\t\t\t\t<Panel id=\"profile\">\n\t\t\t\t\t\t<PanelHeaderSimple><PanelHeaderContent>\n\t\t\t\t\t\t\tПрофиль\n\t\t\t\t\t\t</PanelHeaderContent></PanelHeaderSimple>\n\t\t\t\t\t\t<PullToRefresh onRefresh={async () => {\n\t\t\t\t\t\t\tthis.setState({ refreshedProfile: true });\n\t\t\t\t\t\t\tawait this.updateUser();\n\t\t\t\t\t\t\tthis.setState({ refreshedProfile: false });\n\t\t\t\t\t\t}} isFetching={this.state.refreshedProfile}>\n\t\t\t\t\t\t\t<Div>\n\t\t\t\t\t\t\t\t<div className=\"centered\">\n\t\t\t\t\t\t\t\t\t<Avatar src={this.state.user.photo_100} size={100}/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<br/>\n\t\t\t\t\t\t\t\t<div className=\"centered\" style={{ fontSize: \"large\"}}>\n\t\t\t\t\t\t\t\t\t{this.state.user.first_name+' '+this.state.user.last_name}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<br/>\n\t\t\t\t\t\t\t\t<Group separator=\"hide\">\n\t\t\t\t\t\t\t\t\t<Cell asideContent={<Icon16Dropdown style={{ transform: `rotate(${this.state.balance_manipulation ? '180deg' : '0'})` }} />} onClick={()=> { this.setState({ balance_manipulation: !this.state.balance_manipulation }); }} indicator={this.state.user.balance+' ₽'}>Ваш баланс</Cell>\n\t\t\t\t\t\t\t\t\t{this.state.balance_manipulation && <div style={{ display: 'flex', justifyContent: 'flex-end', marginTop: '8px' }}>\n\t\t\t\t\t\t\t\t\t\t<Button size=\"l\" before={<Icon16Down/>}>Пополнить</Button>\n\t\t\t\t\t\t\t\t\t\t<Button size=\"l\" before={<Icon16Up/>} mode=\"secondary\" style={{ marginLeft: 8 }}>Вывести</Button>\n\t\t\t\t\t\t\t\t\t</div>}\n\t\t\t\t\t\t\t\t</Group>\n\t\t\t\t\t\t\t\t<Group separator=\"hide\" header={<Header mode=\"primary\">Ваши стикеры</Header>}>\n\t\t\t\t\t\t\t\t\t<div className=\"centered\" style={{ marginTop: \"18px\" }}>\n\t\t\t\t\t\t\t\t\t\t<StickerGrid mode={\"big\"}>\n\t\t\t\t\t\t\t\t\t\t\t{this.state.user_stickers}\n\t\t\t\t\t\t\t\t\t\t\t<StickerImg mode={'big'} onClick={()=> { this.go(\"create\"); }}>\n\t\t\t\t\t\t\t\t\t\t\t\t+\n\t\t\t\t\t\t\t\t\t\t\t</StickerImg>\n\t\t\t\t\t\t\t\t\t\t</StickerGrid>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</Group>\n\t\t\t\t\t\t\t</Div>\n\t\t\t\t\t\t</PullToRefresh>\n\t\t\t\t\t</Panel>\n\t\t\t\t\t<Panel id=\"create\">\n\t\t\t\t\t\t<PanelHeaderSimple\n\t\t\t\t\t\t\tleft={<PanelHeaderBack onClick={()=>{ this.back(); }} />}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<PanelHeaderContent\n\t\t\t\t\t\t\t\taside={<Icon16Dropdown style={{ transform: `rotate(${this.state.createStickerContextOpened ? '180deg' : '0'})` }} />}\n\t\t\t\t\t\t\t\tonClick={ () => { this.toggleCreateStickerContext(); }}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\tДобавить стикеры\n\t\t\t\t\t\t\t</PanelHeaderContent>\n\t\t\t\t\t\t</PanelHeaderSimple>\n\t\t\t\t\t\t<PanelHeaderContext opened={this.state.createStickerContextOpened} onClose={ () => { this.toggleCreateStickerContext(); }}>\n\t\t\t\t\t\t\t<List>\n\t\t\t\t\t\t\t\t<Cell\n\t\t\t\t\t\t\t\t\tbefore={<Icon28HistoryForwardOutline/>}\n\t\t\t\t\t\t\t\t\tonClick={ () => { this.toggleCreateStickerContext(); this.go(\"stickers_history\") }}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\tИстория\n\t\t\t\t\t\t\t\t</Cell>\n\t\t\t\t\t\t\t</List>\n\t\t\t\t\t\t</PanelHeaderContext>\n\t\t\t\t\t\t<FormLayout>\n\t\t\t\t\t\t\t<Input\n\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\ttop=\"Название стикер-пака\"\n\t\t\t\t\t\t\t\tname=\"title\"\n\t\t\t\t\t\t\t\tvalue={this.state.create_panel.title}\n\t\t\t\t\t\t\t\tonChange={this.onChange}\n\t\t\t\t\t\t\t\tstatus={this.state.create_panel.title ? this.state.create_panel.title.length <= 20 ? 'valid' : 'error' : 'error'}\n\t\t\t\t\t\t\t\tbottom={this.state.create_panel.title ? this.state.create_panel.title.length <= 20 ? '' : 'Максимальная длина - 20' : 'Пожалуйста, введите название'}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<Textarea\n\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\ttop=\"Описание\"\n\t\t\t\t\t\t\t\tname=\"description\"\n\t\t\t\t\t\t\t\tvalue={this.state.create_panel.description}\n\t\t\t\t\t\t\t\tonChange={this.onChange}\n\t\t\t\t\t\t\t\tstatus={this.state.create_panel.description ? this.state.create_panel.description.length <= 100 ? 'valid' : 'error' : 'error'}\n\t\t\t\t\t\t\t\tbottom={this.state.create_panel.description ? this.state.create_panel.description.length <= 100 ? '' : 'Максимальная длина - 100' : 'Пожалуйста, введите описание'}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<Input\n\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\ttop=\"Цена\"\n\t\t\t\t\t\t\t\tname=\"price\"\n\t\t\t\t\t\t\t\tvalue={this.state.create_panel.price}\n\t\t\t\t\t\t\t\tonChange={this.onChange}\n\t\t\t\t\t\t\t\tstatus={this.state.create_panel.price > 0 ? this.state.create_panel.price <= 1000 ? this.state.create_panel.price.toString().includes('.') ? 'error' : 'valid' : 'error' : 'error'}\n\t\t\t\t\t\t\t\tbottom={this.state.create_panel.price > 0 ? this.state.create_panel.price <= 1000 ? this.state.create_panel.price.toString().includes('.') ? 'Число должно быть целым' : '' : 'Максимальная цена- 1 000 руб.' : 'Минимальная цена - 1 руб.'}\n\t\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t\t<StickerUploadButton\n\t\t\t\t\t\t\t\tsrc={this.state.create_panel.upload_preview_img && this.state.create_panel.upload_preview_img}\n\t\t\t\t\t\t\t\ttitle={'Превью'}\n\t\t\t\t\t\t\t\tdescription={'Загрузите главную фотографию стикер-пака (128×128px)'}\n\t\t\t\t\t\t\t\tonChange={(event)=> {this.uploadFile('upload_preview_img', event)}}\n\t\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t\t<StickerUploadButton\n\t\t\t\t\t\t\t\ttitle={'Стикеры'}\n\t\t\t\t\t\t\t\tdescription={'Загрузите все стикеры (минимум - 4), которые будут содержаться в паке (128×128px)'}\n\t\t\t\t\t\t\t\tonChange={(event)=> {this.uploadFile('upload_sticker_img', event)}}\n\t\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t\t<div className=\"centered\" style={{ paddingBottom: \"16px\" }}>\n\t\t\t\t\t\t\t\t<div style={{ minWidth: \"64px\", maxWidth: \"296px\", display: \"grid\", gridTemplateColumns: \"repeat(auto-fill, 64px)\", gridGap: \"10px\" }}>\n\t\t\t\t\t\t\t\t\t{this.state.create_panel.uploaded_stickers_img}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<Button size=\"xl\" disabled={this.state.create_panel.title ? this.state.create_panel.description ? this.state.create_panel.price > 0 ? this.state.create_panel.title.length <= 20 ? this.state.create_panel.description.length <= 100 ? this.state.create_panel.price <= 1000 ? this.state.create_panel.price.toString().includes('.') ?  true : this.state.create_panel.upload_preview_img ? this.state.create_panel.uploaded_stickers_img ? this.state.create_panel.uploaded_stickers_img.filter(function(val){ return val !== undefined; }).length >= 4 ? false : true : true : true : true : true : true : true : true : true }>Продолжить</Button>\n\t\t\t\t\t\t</FormLayout>\n\t\t\t\t\t</Panel>\n\t\t\t\t\t<Panel id={\"stickers_history\"}>\n\t\t\t\t\t\t<PanelHeaderSimple\n\t\t\t\t\t\t\tleft={<PanelHeaderBack onClick={()=>{ this.back(); }} />}\n\t\t\t\t\t\t><PanelHeaderContent>\n\t\t\t\t\t\t\tИстория\n\t\t\t\t\t\t</PanelHeaderContent></PanelHeaderSimple>\n\t\t\t\t\t\t{this.state.user_stickers_history && this.state.user_stickers_history.length > 0 ? <Div>\n\t\t\t\t\t\t\t<List>\n\t\t\t\t\t\t\t\t{this.state.user_stickers_history}\n\t\t\t\t\t\t\t</List>\n\t\t\t\t\t\t</Div>\n\t\t\t\t\t\t:\n\t\t\t\t\t\t\t<Placeholder\n\t\t\t\t\t\t\t\ticon={<Icon56HistoryOutline/>}\n\t\t\t\t\t\t\t\theader={'Пусто'}\n\t\t\t\t\t\t\t\tstretched\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\tВы пока еще не создавали стикеры\n\t\t\t\t\t\t\t</Placeholder>}\n\t\t\t\t\t</Panel>\n\t\t\t\t</View>\n\t\t\t</Epic>\n\t\t);\n\t}\n}\n\nexport default App;","import 'core-js/features/map';\nimport 'core-js/features/set';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport bridge from '@vkontakte/vk-bridge';\nimport App from './App';\n// import registerServiceWorker from './sw';\n\n// Init VK  Mini App\nbridge.send('VKWebAppInit');\n\n// Если вы хотите, чтобы ваше веб-приложение работало в оффлайне и загружалось быстрее,\n// расскомментируйте строку с registerServiceWorker();\n// Но не забывайте, что на данный момент у технологии есть достаточно подводных камней\n// Подробнее про сервис воркеры можно почитать тут — https://vk.cc/8MHpmT\n// registerServiceWorker();\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}