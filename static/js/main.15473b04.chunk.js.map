{"version":3,"sources":["components/StickerImg.js","components/StickerButton.js","components/StickerDescription.js","components/StickerGrid.js","components/StickerUploadButton.js","components/CardElements.js","components/CardElement.js","components/IconButton.js","App.js","index.js"],"names":["StickerImg","this","props","mode","width","height","src","id","onClick","size","style","borderRadius","hasOwnProperty","className","color","fontSize","children","PureComponent","StickerButton","before","img_type","description","dangerouslySetInnerHTML","__html","toString","replace","bottomContent","price","buttons","asideContent","alignSelf","more","title","StickerDescription","StickerGrid","StickerUploadButton","accept","type","multiple","ref","upload_preview","upload_stickers","display","onChange","click","multiline","CardElements","i","scheme","document","body","attributes","getNamedItem","value","e","childrens","React","Children","map","child","length","backgroundColor","wide","CardElement","el","text","fill","href","link","target","IconButton","padding","icon","access_token","upload_url1","upload_url2","blueBackground","redBackground","App","back","state","popout","actionsLayout","setState","activeStory","activePanel","activePanelShop","activePanelOther","create_panel","preview","stickers","createStickerContextOpened","panel_to_change","bridge","send","history","historyShop","historyOther","pop","p","change_hash","api","JSONP_PromiseAPI","view","initialized","slideTabIndex_main","slideTabIndex_moderation","balance_manipulation","report_other_visible","report_reason_text","stickers_gallery","stickers_panel_new","stickers_panel_popular","stickers_panel_free","stickers_panel_moderation","report_panel_moderation","withdraw_panel_moderation","sticker_info","author","sales","is_free","got","moderation_sticker_info","stickers_","user","first_name","last_name","photo_100","balance","stickers_history","free","captcha","url","done","user_stickers","onStoryChange","bind","uploadFile","toggleCreateStickerContext","approveStickers","rejectStickers","install","delete","create_stickers","go_to_edit","report_stickers","withdraw","clearArray","componentDidMount","initializeApp","updateStickers","updateStickersInfo","updateUser","updateQuestions","updateReportReasons","updateModeration","go","window","addEventListener","preventDefault","subscribe","a","detail","data","undefined","console","log","schemeAttribute","createAttribute","setNamedItem","get","access","sleep","request_params","error_data","error_reason","params","method","request_id","key","captcha_sid","sid","captcha_key","sendPromise","showSnackBar","hash","location","hash_","split","substring","response","Object","keys","j","push","user_","reverse","sort","itemA","itemB","indexOf","marginTop","balance_history","sticker","setTimeout","user_stickers_history","added","actions","autoclose","action","stickers_id","onClose","user_balance_history","h","act","amount","indicator","questions","questions_panel","val","report_reasons","report_reasons_panel","eruda","init","tool","moderation_stickers","reports","report","report_reason_id","report_id","marginLeft","withdraw_","success","photo","user_id","name","status","withdraw_id","search","str","encodeURIComponent","join","fetch","then","res","json","ms","Promise","resolve","img","Image","crossOrigin","onload","dataURL","canvas","createElement","ctx","getContext","drawImage","toDataURL","base64","blob","fd","FormData","file","File","append","array","filter","panel","startsWith","history_to_change","pushState","story","currentTarget","dataset","snackbar","panel_","element","evt","tgt","event","srcElement","files","t","FileReader","fr","result","res1","includes","image","res10","uploaded_stickers_img","parseInt","res01","readAsDataURL","onActionClick","layout","sticker_pack","author_id","to_id","JSON","stringify","stickers_history_id","allow","callMethod","upload_url","stickers_url","stickers_cache","owner_id","doc_id","installed","urlToBase64","base64Img","base64ToMultipart","multipart","save","graffiti","upload_preview_img","request","form","error","statusCode","parse","upload_end","create_panel_","report_reason","resp","error_text","tabbar","selected","data-story","onSwipeBack","header","separator","level","weight","margin","textAlign","onRefresh","refreshedStickers","isFetching","position","top","bottom","slideWidth","slideIndex","stretched","left","refreshedStickersInfo","marginRight","getElementById","align","c","disabled","refreshedProfile","transform","justifyContent","group_id","refreshedBalanceHistory","aside","opened","is_admin","checked","paddingBottom","minWidth","maxWidth","gridTemplateColumns","gridGap","refreshedStickersHistory","refreshedModeration","alignItems","Component","ReactDOM","render"],"mappings":"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","file":"static/js/main.15473b04.chunk.js","sourcesContent":["import React, { PureComponent } from 'react';\r\nimport '@vkontakte/vkui/dist/vkui.css';\r\nimport {Avatar} from \"@vkontakte/vkui\";\r\nimport Tappable from \"@vkontakte/vkui/dist/components/Tappable/Tappable\";\r\n\r\nexport class StickerImg extends PureComponent {\r\n\r\n    render() {\r\n        return (\r\n            this.props.mode === 'small' ?\r\n                <img width={64} height={64} src={this.props.src} id={this.props.id} onClick={this.props.onClick}/>\r\n                :\r\n                this.props.mode === 'medium' ?\r\n                    <Avatar mode=\"app\" size={78} src={this.props.src} />\r\n                    :\r\n                    this.props.mode === 'big' &&\r\n                        <Tappable style={{ borderRadius: '50%' }}>\r\n                            <Avatar size={96}>\r\n                                {this.props.hasOwnProperty('children') ?\r\n                                    <div className=\"centered\" style={{ borderRadius: 48, width: \"100%\", height: \"100%\", color: \"#7f8285\", fontSize: 76 }} onClick={this.props.onClick}>{this.props.children}</div>\r\n                                    :\r\n                                    <img width={78} height={78}\r\n                                         src={this.props.src}\r\n                                         id={this.props.id}\r\n                                         onClick={this.props.onClick}\r\n                                    />\r\n                                }\r\n                            </Avatar>\r\n                        </Tappable>\r\n        )\r\n    }\r\n\r\n}","import React, { PureComponent } from 'react';\r\nimport '@vkontakte/vkui/dist/vkui.css';\r\nimport {Avatar, Button, Cell} from \"@vkontakte/vkui\";\r\nimport {StickerImg} from \"./StickerImg\";\r\n\r\nexport class StickerButton extends PureComponent {\r\n\r\n    render() {\r\n        return (\r\n            this.props.mode === 'cell' ?\r\n                <Cell id={this.props.id} onClick={this.props.onClick} before={this.props.hasOwnProperty('src') && (this.props.hasOwnProperty('img_type') ? (this.props.img_type === 'round' && <Avatar size={78} src={this.props.src} />) : <StickerImg mode={'medium'} src={this.props.src}/>)}\r\n                      description={this.props.description && <div dangerouslySetInnerHTML={{ __html: this.props.description.toString().replace('\\n','<br/>') }} />} size={\"l\"}\r\n                      bottomContent={this.props.hasOwnProperty('price') ? <Button mode=\"commerce\">{this.props.price + ' руб.'}</Button> : this.props.hasOwnProperty('buttons') && this.props.buttons}\r\n                      asideContent={this.props.hasOwnProperty('more') ?\r\n                          <div style={{ alignSelf: \"center\" }}>\r\n                              {this.props.more}\r\n                          </div>\r\n                          : null}\r\n                >\r\n                    {this.props.title}\r\n                </Cell>\r\n                :\r\n                this.props.mode === 'img' &&\r\n                <StickerImg\r\n                    mode={\"big\"}\r\n                    src={this.props.src}\r\n                    id={this.props.id}\r\n                    onClick={this.props.onClick}\r\n                />\r\n        )\r\n    }\r\n\r\n}","import React, { PureComponent } from 'react';\r\nimport '@vkontakte/vkui/dist/vkui.css';\r\n\r\nexport class StickerDescription extends PureComponent {\r\n\r\n    render() {\r\n        return (\r\n            <div style={{ color: \"#7f8285\" }} dangerouslySetInnerHTML={{ __html: this.props.children.replace('\\n','<br/>') }} />\r\n        )\r\n    }\r\n\r\n}","import React, { PureComponent } from 'react';\r\nimport '@vkontakte/vkui/dist/vkui.css';\r\n\r\nexport class StickerGrid extends PureComponent {\r\n\r\n    render() {\r\n        return (\r\n            this.props.mode === 'small' ?\r\n                <div className={'sticker-grid-small'}>{this.props.children}</div>\r\n                :\r\n                this.props.mode === 'big' &&\r\n                <div className={'sticker-grid-big'}>{this.props.children}</div>\r\n        )\r\n    }\r\n\r\n}","import React, { PureComponent } from 'react';\r\nimport '@vkontakte/vkui/dist/vkui.css';\r\nimport {Cell} from \"@vkontakte/vkui\";\r\nimport {StickerImg} from \"./StickerImg\";\r\n\r\nexport class StickerUploadButton extends PureComponent {\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                <input accept=\".png\" type=\"file\" multiple={!this.props.hasOwnProperty('src')} ref={(ref) => { if(this.props.hasOwnProperty('src')) { this.upload_preview = ref; } else {  this.upload_stickers = ref } }} style={{display: \"none\"}} onChange={this.props.onChange}/>\r\n                <Cell onClick={()=> { if(this.props.hasOwnProperty('src')) { this.upload_preview.click(); } else { this.upload_stickers.click(); } }} before={this.props.hasOwnProperty('src') && <StickerImg mode={'medium'} src={this.props.src}/>} multiline description={this.props.description} >{this.props.title}</Cell>\r\n            </div>\r\n        )\r\n    }\r\n\r\n}","import React, { PureComponent } from 'react';\r\nimport '@vkontakte/vkui/dist/vkui.css';\r\nimport '../css/App.css';\r\nimport {Separator} from \"@vkontakte/vkui\";\r\nimport Tappable from \"@vkontakte/vkui/dist/components/Tappable/Tappable\";\r\n\r\nexport class CardElements extends PureComponent {\r\n\r\n    getCN(i){\r\n        return ;\r\n    }\r\n\r\n    render() {\r\n        let scheme;\r\n        try{\r\n            scheme  = document.body.attributes.getNamedItem('scheme').value;\r\n        }catch (e) {\r\n            scheme = 'client_light';\r\n        }\r\n        const light = { backgroundColor: '#ffffff' };\r\n        const dark = { backgroundColor: '#363738' };\r\n        const childrens = React.Children.map(this.props.children, (child, i) => {\r\n            return i === 0 ?\r\n                <Tappable className={'tappable_top'} >\r\n                    <div>{child}{i !== (this.props.children.length-1) && ( scheme === 'space_gray' ? <Separator style={{ backgroundColor: '#626364' }} wide /> : <Separator wide /> )}</div>\r\n                </Tappable>\r\n                : (i === (this.props.children.length-1) ?\r\n                    <Tappable className={'tappable_bottom'} >\r\n                        <div>{child}{i !== (this.props.children.length-1) && ( scheme === 'space_gray' ? <Separator style={{ backgroundColor: '#626364' }} wide /> : <Separator wide /> )}</div>\r\n                    </Tappable>\r\n                    : <Tappable>\r\n                        <div>{child}{i !== (this.props.children.length-1) && ( scheme === 'space_gray' ? <Separator style={{ backgroundColor: '#626364' }} wide /> : <Separator wide /> )}</div>\r\n                    </Tappable>);\r\n        });\r\n        return (\r\n            <div className={ \"card-elements-container\" } style={ scheme === 'space_gray' ? dark : light }>\r\n                {childrens}\r\n            </div>\r\n        )\r\n    }\r\n\r\n}","import React, { PureComponent } from 'react';\r\nimport '@vkontakte/vkui/dist/vkui.css';\r\nimport '../css/App.css';\r\nimport Icon16Chevron from '@vkontakte/icons/dist/16/chevron';\r\nimport Link from \"@vkontakte/vkui/dist/components/Link/Link\";\r\n\r\nexport class CardElement extends PureComponent {\r\n\r\n    render() {\r\n        let el = <div className={ \"cell\" }>\r\n                    <div className={ \"left\" }> <div className=\"text\">{ this.props.text }</div> </div>\r\n                    <div className={ \"right\" }>  <Icon16Chevron fill=\"#c4c8cc\"/> </div>\r\n                </div>;\r\n        return (\r\n            this.props.hasOwnProperty('link') ?\r\n                <Link className='clear_link' href={this.props.link} target=\"_blank\">{el}</Link>\r\n                :\r\n                {el}\r\n        )\r\n    }\r\n\r\n}","import React, { PureComponent } from 'react';\r\nimport '@vkontakte/vkui/dist/vkui.css';\r\nimport '../css/App.css';\r\nimport Tappable from \"@vkontakte/vkui/dist/components/Tappable/Tappable\";\r\n\r\nexport class IconButton extends PureComponent {\r\n\r\n    render() {\r\n        return this.props.mode === 'small' ?\r\n            <Tappable style={{ borderRadius: '50%', padding: '8px' }}>\r\n                {this.props.icon}\r\n            </Tappable>\r\n            :\r\n            <Tappable style={{ borderRadius: '50%', padding: '12px' }}>\r\n                {this.props.icon}\r\n            </Tappable>\r\n    }\r\n\r\n}","import React from 'react';\nimport bridge from '@vkontakte/vk-bridge';\nimport '@vkontakte/vkui/dist/vkui.css';\nimport './css/App.css'\nimport eruda from 'eruda';\n\nimport { Panel, PanelHeader, Div , View , ScreenSpinner, List , Cell , Gallery , FormLayout , Input , Avatar , Group , Epic, Tabbar, TabbarItem, Separator, Button, PanelHeaderContext, Header, PanelHeaderSimple, PanelHeaderContent, Placeholder, Tabs,\n\tTabsItem, PullToRefresh, Snackbar, Textarea, PanelHeaderBack, PanelHeaderClose, CellButton, Alert, Link, Counter, Checkbox, Caption  } from '@vkontakte/vkui';\n\nimport JSONP_PromiseAPI from \"vkappsutils/dist/JSONP_PromiseAPI\";\n\nimport Icon16Spinner from '@vkontakte/icons/dist/16/spinner';\nimport Icon16Done from '@vkontakte/icons/dist/16/done';\nimport Icon16Cancel from '@vkontakte/icons/dist/16/cancel';\nimport Icon16Dropdown from '@vkontakte/icons/dist/16/dropdown';\nimport Icon16Down from '@vkontakte/icons/dist/16/down';\nimport Icon16Up from '@vkontakte/icons/dist/16/up';\nimport Icon28BugOutline from '@vkontakte/icons/dist/28/bug_outline';\nimport Icon28ReportOutline from '@vkontakte/icons/dist/28/report_outline';\nimport Icon28ShareOutline from '@vkontakte/icons/dist/28/share_outline';\nimport Icon28CancelOutline from '@vkontakte/icons/dist/28/cancel_outline';\nimport Icon28WriteOutline from '@vkontakte/icons/dist/28/write_outline';\nimport Icon28AddCircleOutline from '@vkontakte/icons/dist/28/add_circle_outline';\nimport Icon28HistoryForwardOutline from '@vkontakte/icons/dist/28/history_forward_outline';\nimport Icon28MoneyHistoryBackwardOutline from '@vkontakte/icons/dist/28/money_history_backward_outline';\nimport Icon28MarketOutline from '@vkontakte/icons/dist/28/market_outline';\nimport Icon28UserOutline from '@vkontakte/icons/dist/28/user_outline';\nimport Icon36Add from '@vkontakte/icons/dist/36/add';\nimport Icon56HistoryOutline from '@vkontakte/icons/dist/56/history_outline';\nimport Icon56GalleryOutline from '@vkontakte/icons/dist/56/gallery_outline';\nimport Icon56CheckCircleDeviceOutline from '@vkontakte/icons/dist/56/check_circle_device_outline';\nimport Icon56MoneyTransferOutline from '@vkontakte/icons/dist/56/money_transfer_outline';\n\nimport {StickerImg} from \"./components/StickerImg\";\nimport {StickerButton} from \"./components/StickerButton\";\nimport {StickerDescription} from \"./components/StickerDescription\";\nimport {StickerGrid} from \"./components/StickerGrid\";\nimport {StickerUploadButton} from \"./components/StickerUploadButton\";\nimport {CardElements} from \"./components/CardElements\";\nimport {CardElement} from \"./components/CardElement\";\n\nimport request from \"request\";\nimport {IconButton} from \"./components/IconButton\";\n\nlet access_token = '', upload_url1 = '', upload_url2 = '';\n\nconst blueBackground = {\n\tbackgroundColor: 'var(--accent)'\n}, redBackground = {\n\tbackgroundColor: 'var(--dynamic_red)'\n};\n\nclass App extends React.Component {\n\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.api = new JSONP_PromiseAPI();\n\t\tthis.api.view = this;\n\n\t\tthis.state = {\n\t\t\tinitialized: false,\n\t\t\tpopout: <ScreenSpinner/>,\n\t\t\tactiveStory: 'tab_main',\n\t\t\tslideTabIndex_main: 0,\n\t\t\tslideTabIndex_moderation: 0,\n\t\t\tactivePanelShop: \"main\",\n\t\t\thistoryShop: [\"main\"],\n\t\t\tactivePanelOther: \"profile\",\n\t\t\thistoryOther: [\"profile\"],\n\t\t\tcreateStickerContextOpened: false,\n\t\t\tbalance_manipulation: false,\n\t\t\treport_other_visible: false,\n\t\t\treport_reason_text: '',\n\n\t\t\tstickers_gallery: [],\n\n\t\t\tstickers_panel_new: [],\n\t\t\tstickers_panel_popular: [],\n\t\t\tstickers_panel_free: [],\n\t\t\tstickers_panel_moderation: [],\n\t\t\treport_panel_moderation: [],\n\t\t\twithdraw_panel_moderation: [],\n\t\t\tsticker_info: { title: \"\", author: \"\", preview: \"\", price: 0, description: \"\", stickers: [], sales: 0, is_free: false, got: 0 },\n\t\t\tmoderation_sticker_info: { title: \"\", author: \"\", preview: \"\", price: 0, description: \"\", stickers_: [] },\n\t\t\tuser: {\n\t\t\t\tfirst_name: '',\n\t\t\t\tlast_name: '',\n\t\t\t\tphoto_100: '',\n\t\t\t\tstickers:[ ],\n\t\t\t\tbalance: 0,\n\t\t\t\tstickers_history: [ ],\n\t\t\t\tfree: 0\n\t\t\t},\n\t\t\tcreate_panel: { title: \"\", preview: \"\", price: 1, description: \"\", stickers: [], is_free: false },\n\t\t\tcaptcha : { text: '', url: '', done: false },\n\n\t\t\tuser_stickers: []\n\t\t};\n\n\t\tthis.onStoryChange = this.onStoryChange.bind(this);\n\t\tthis.onChange = this.onChange.bind(this);\n\t\tthis.uploadFile = this.uploadFile.bind(this);\n\t\tthis.toggleCreateStickerContext = this.toggleCreateStickerContext.bind(this);\n\t\tthis.approveStickers = this.approveStickers.bind(this);\n\t\tthis.rejectStickers = this.rejectStickers.bind(this);\n\t\tthis.install = this.install.bind(this);\n\t\tthis.delete = this.delete.bind(this);\n\t\tthis.create_stickers = this.create_stickers.bind(this);\n\t\tthis.go_to_edit = this.go_to_edit.bind(this);\n\t\tthis.report_stickers = this.report_stickers.bind(this);\n\t\tthis.withdraw = this.withdraw.bind(this);\n\t\tthis.clearArray = this.clearArray.bind(this);\n\n\t\tthis.componentDidMount = this.componentDidMount.bind(this);\n\t\tthis.initializeApp = this.initializeApp.bind(this);\n\t\tthis.updateStickers = this.updateStickers.bind(this);\n\t\tthis.updateStickersInfo = this.updateStickersInfo.bind(this);\n\t\tthis.updateUser = this.updateUser.bind(this);\n\t\tthis.updateQuestions = this.updateQuestions.bind(this);\n\t\tthis.updateReportReasons = this.updateReportReasons.bind(this);\n\t\tthis.updateModeration = this.updateModeration.bind(this);\n\t\tthis.back = this.back.bind(this);\n\t\tthis.go = this.go.bind(this);\n\t\tthis.change_hash = this.change_hash.bind(this);\n\t}\n\n\tcomponentDidMount () {\n\t\twindow.addEventListener('popstate', e => {\n\t\t\te.preventDefault();\n\t\t\tlet activeStory = this.state.activeStory;\n\t\t\tlet activePanel = activeStory === 'tab_main' ? this.state.activePanelShop : activeStory === 'tab_other' ? this.state.activePanelOther : '';\n\t\t\tif(activePanel !== 'input_captcha') {\n\t\t\t\tthis.back(e);\n\t\t\t}\n\t\t});\n\n\t\tbridge.subscribe(async ({ detail: { type, data }}) => {\n\t\t\tif(type !== undefined) console.log(type, data);\n\t\t\tif (type === 'VKWebAppUpdateConfig') {\n\t\t\t\tconst schemeAttribute = document.createAttribute('scheme');\n\t\t\t\tschemeAttribute.value = data.scheme ? data.scheme : 'client_light';\n\t\t\t\tdocument.body.attributes.setNamedItem(schemeAttribute);\n\t\t\t} else if (type === 'VKWebAppGetUserInfoResult'){\n\t\t\t\tif(!this.state.initialized){\n\t\t\t\t\tlet login = await this.get('users.auth');\n\t\t\t\t\tif(login.access){\n\t\t\t\t\t\t/*\n                        data.stickers = [ 0 ];\n                        data.balance = 0;\n                        data.stickers_history = [ { title: \"Илай\", preview: \"https://vk.com/sticker/1-18781-128\", added: false }, { title: \"Бисквит\", author: \"Илья Ульянов\", preview: \"https://vk.com/sticker/2-533-cover-140b-0\" } ];\n                        */\n\t\t\t\t\t\tthis.setState({ initialized: true, popout: null });\n\t\t\t\t\t\tthis.initializeApp();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else if (type === 'VKWebAppViewRestore'){\n\t\t\t\tif(this.state.popout !== null){\n\t\t\t\t\tthis.setState({ popout: null });\n\t\t\t\t}\n\t\t\t} else if (type === 'VKWebAppCallAPIMethodFailed'){\n\t\t\t\treturn ;\n\t\t\t\ttry{\n\t\t\t\t\tif(data.error_data.error_reason.error_code === 14){\n\t\t\t\t\t\tlet c = this.state.captcha;\n\t\t\t\t\t\tc.done = null;\n\t\t\t\t\t\tc.url = data.error_data.error_reason.captcha_img;\n\t\t\t\t\t\tc.sid = data.error_data.error_reason.captcha_sid;\n\t\t\t\t\t\tthis.setState({ captcha: c, popout: null });\n\t\t\t\t\t\tthis.go('input_captcha');\n\t\t\t\t\t\tfor(var i = 0; i < 2; i++){\n\t\t\t\t\t\t\tif(this.state.captcha.done === null){\n\t\t\t\t\t\t\t\ti--;\n\t\t\t\t\t\t\t\tawait this.sleep(1000);\n\t\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tthis.setState({ popout: <ScreenSpinner/> });\n\t\t\t\t\t\tlet request_params = data.error_data.error_reason.request_params;\n\t\t\t\t\t\tlet params = {};\n\t\t\t\t\t\tlet method = '';\n\t\t\t\t\t\tlet request_id = '';\n\t\t\t\t\t\tfor(var i = 0; i < request_params.length; i++){\n\t\t\t\t\t\t\tlet key = request_params[i].key;\n\t\t\t\t\t\t\tlet value = request_params[i].value;\n\t\t\t\t\t\t\tif(key !== 'api_id' && key !== 'format' && key !== 'oauth'){\n\t\t\t\t\t\t\t\tif(key === 'method'){\n\t\t\t\t\t\t\t\t\tmethod = value;\n\t\t\t\t\t\t\t\t}else if (key === 'request_id'){\n\t\t\t\t\t\t\t\t\trequest_id = value;\n\t\t\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\t\t\tparams[key] = value;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tparams.access_token = access_token;\n\t\t\t\t\t\tparams.captcha_sid = this.state.captcha.sid;\n\t\t\t\t\t\tparams.captcha_key = this.state.captcha.text;\n\t\t\t\t\t\ttry{\n\t\t\t\t\t\t\tlet res_back = await bridge.sendPromise(\"VKWebAppCallAPIMethod\", {\n\t\t\t\t\t\t\t\t\"method\": method,\n\t\t\t\t\t\t\t\t\"request_id\": request_id,\n\t\t\t\t\t\t\t\t\"params\": params\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tthis.setState({ captcha : { text: '', url: '', done: false } });\n\t\t\t\t\t\t\tthis.back();\n\t\t\t\t\t\t}catch (e) {\n\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}catch (e) {\n\t\t\t\t\tthis.setState({ popout: null });\n\t\t\t\t\tthis.showSnackBar('Произошла ошибка', <Icon16Cancel fill=\"#fff\" width={14} height={14} />, redBackground);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t\tthis.initializeApp();\n\t}\n\n\tasync initializeApp() {\n\t\tawait this.updateStickers();\n\t\tawait this.updateUser();\n\t\tawait this.updateQuestions();\n\t\tawait this.updateReportReasons();\n\t\tawait this.updateModeration();\n\n\t\tlet hash = window.location.hash;\n\t\tif (hash) {\n\t\t\thash = hash.replace('#','');\n\t\t\tlet hash_ = hash.split('_');\n\t\t\tthis.setState({ activeStory: hash_[0]+'_'+hash_[1] });\n\t\t\tthis.go(hash.substring((hash_[0]+'_'+hash_[1]+'_').length));\n\t\t}else{\n\t\t\tthis.change_hash('main');\n\t\t}\n\t}\n\n\tasync updateStickers() {\n\t\tlet response = await this.get('stickers.get');\n\t\tthis.setState({stickers: response.stickers});\n\t\tlet stickers = this.state.stickers;\n\n\t\tlet stickers_panel_new = Object.keys(stickers).map(function (key, i) {\n\t\t\tlet stickers_ = [];\n\t\t\tfor (let j = 0; j < stickers[i].stickers.length; j++) {\n\t\t\t\tstickers_.push(\n\t\t\t\t\t<StickerImg mode={\"small\"} src={stickers[i].stickers[j]}/>\n\t\t\t\t);\n\t\t\t}\n\n\t\t\tstickers[i].stickers_ = stickers_;\n\t\t\tstickers[i].id = i;\n\t\t\tif(!stickers[i].hasOwnProperty('banned')){\n\t\t\t\treturn <StickerButton\n\t\t\t\t\ttitle={stickers[i].title}\n\t\t\t\t\tdescription={stickers[i].author}\n\t\t\t\t\tsrc={stickers[i].preview}\n\t\t\t\t\tprice={stickers[i].price}\n\t\t\t\t\tmode={\"cell\"}\n\t\t\t\t\tsales={stickers[i].sales === 0 ? 0 : stickers[i].sales.length}\n\t\t\t\t\tonClick={async () => {\n\t\t\t\t\t\tthis.setState({sticker_info: stickers[i], popout: <ScreenSpinner/>});\n\t\t\t\t\t\tlet response = await this.get('users.get');\n\t\t\t\t\t\tlet user_ = await bridge.sendPromise('VKWebAppGetUserInfo');\n\t\t\t\t\t\tthis.setState({user: {...user_, ...response.user}, popout: null});\n\t\t\t\t\t\tthis.go('sticker_info');\n\t\t\t\t\t}}\n\t\t\t\t/>;\n\t\t\t}\n\t\t}.bind(this)).reverse();\n\n\t\tlet stickers_panel_popular = Object.keys(stickers).map(function (key, i) {\n\t\t\tlet stickers_ = [];\n\t\t\tfor (let j = 0; j < stickers[i].stickers.length; j++) {\n\t\t\t\tstickers_.push(\n\t\t\t\t\t<StickerImg mode={\"small\"} src={stickers[i].stickers[j]}/>\n\t\t\t\t);\n\t\t\t}\n\n\t\t\tstickers[i].stickers_ = stickers_;\n\t\t\tstickers[i].id = i;\n\t\t\tif(!stickers[i].hasOwnProperty('banned')){\n\t\t\t\treturn <StickerButton\n\t\t\t\t\ttitle={stickers[i].title}\n\t\t\t\t\tdescription={stickers[i].author}\n\t\t\t\t\tsrc={stickers[i].preview}\n\t\t\t\t\tprice={stickers[i].price}\n\t\t\t\t\tmode={\"cell\"}\n\t\t\t\t\tsales={stickers[i].sales === 0 ? 0 : stickers[i].sales.length}\n\t\t\t\t\tonClick={async () => {\n\t\t\t\t\t\tthis.setState({sticker_info: stickers[i], popout: <ScreenSpinner/>});\n\t\t\t\t\t\tlet response = await this.get('users.get');\n\t\t\t\t\t\tlet user_ = await bridge.sendPromise('VKWebAppGetUserInfo');\n\t\t\t\t\t\tthis.setState({user: {...user_, ...response.user}, popout: null});\n\t\t\t\t\t\tthis.go('sticker_info');\n\t\t\t\t\t}}\n\t\t\t\t/>;\n\t\t\t}\n\t\t}.bind(this)).sort(function (itemA, itemB) {\n\t\t\treturn itemA.props.sales - itemB.props.sales;\n\t\t}).reverse();\n\n\t\tlet stickers_panel_free = this.state.user.free > 0 ? Object.keys(stickers).map(function (key, i) {\n\t\t\tlet stickers_ = [];\n\t\t\tfor (let j = 0; j < stickers[i].stickers.length; j++) {\n\t\t\t\tstickers_.push(\n\t\t\t\t\t<StickerImg mode={\"small\"} src={stickers[i].stickers[j]}/>\n\t\t\t\t);\n\t\t\t}\n\n\t\t\tstickers[i].stickers_ = stickers_;\n\t\t\tstickers[i].id = i;\n\t\t\tif(stickers[i].is_free && this.state.user.stickers.indexOf(i) < 0){\n\t\t\t\treturn <StickerButton\n\t\t\t\t\ttitle={stickers[i].title}\n\t\t\t\t\tdescription={stickers[i].author}\n\t\t\t\t\tsrc={stickers[i].preview}\n\t\t\t\t\tprice={stickers[i].price}\n\t\t\t\t\tmode={\"cell\"}\n\t\t\t\t\tsales={stickers[i].sales === 0 ? 0 : stickers[i].sales.length}\n\t\t\t\t\tonClick={async () => {\n\t\t\t\t\t\tthis.setState({sticker_info: stickers[i], popout: <ScreenSpinner/>});\n\t\t\t\t\t\tlet response = await this.get('users.get');\n\t\t\t\t\t\tlet user_ = await bridge.sendPromise('VKWebAppGetUserInfo');\n\t\t\t\t\t\tthis.setState({user: {...user_, ...response.user}, popout: null});\n\t\t\t\t\t\tthis.go('sticker_info');\n\t\t\t\t\t}}\n\t\t\t\t/>;\n\t\t\t}\n\t\t}.bind(this)).reverse() : [];\n\n\t\tlet stickers_gallery = [];\n\n\t\tif(stickers_panel_new.length > 0) stickers_gallery.push(<div><List style={{ marginTop: \"15px\" }}>{this.state.stickers_panel_new}</List></div>);\n\t\tif(stickers_panel_popular.length > 0) stickers_gallery.push(<div><List style={{ marginTop: \"15px\" }}>{this.state.stickers_panel_popular}</List></div>);\n\t\tif(stickers_panel_free.length > 0) stickers_gallery.push(<div><List style={{ marginTop: \"27px\" }}>{this.state.stickers_panel_free}</List></div>);\n\n\t\tthis.setState({stickers_panel_new, stickers_panel_popular, stickers_panel_free, stickers_gallery});\n\t}\n\tasync updateStickersInfo() {\n\t\tawait this.updateStickers();\n\t\tawait this.updateUser();\n\t\tthis.setState({ sticker_info: this.state.stickers[this.state.sticker_info.id] });\n\t}\n\tasync updateUser() {\n\t\tlet response = await this.get('users.get');\n\t\tlet user_ = await bridge.sendPromise('VKWebAppGetUserInfo');\n\t\tthis.setState({user: {...{ balance_history: [] }, ...user_, ...response.user}});\n\t\tlet user_stickers = [];\n\t\tfor (let i = 0; i < this.state.user.stickers.length; i++) {\n\t\t\tlet sticker = this.state.stickers[i];\n\t\t\tuser_stickers.push(\n\t\t\t\t<StickerButton\n\t\t\t\t\tsrc={sticker.preview}\n\t\t\t\t\tmode={\"img\"}\n\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\tthis.setState({activeStory: \"tab_main\", sticker_info: this.state.stickers[i]});\n\t\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t\tthis.go('sticker_info');\n\t\t\t\t\t\t\t}, 50)\n\t\t\t\t\t}}\n\t\t\t\t/>\n\t\t\t);\n\t\t}\n\t\tthis.setState({user_stickers});\n\n\t\tlet user_stickers_history = [];\n\t\tfor (let i = 0; i < this.state.user.stickers_history.length; i++) {\n\t\t\tlet sticker = this.state.user.stickers_history[i];\n\t\t\tuser_stickers_history.push(\n\t\t\t\t<StickerButton\n\t\t\t\t\ttitle={sticker.title}\n\t\t\t\t\tsrc={sticker.preview}\n\t\t\t\t\tbuttons={sticker.hasOwnProperty('added') ? (sticker.added ? <Button mode='commerce'>Одобрено</Button> : <Button mode='destructive'>Отклонено</Button>) : sticker.hasOwnProperty('deleted') ? <Button mode='secondary'>Отменено</Button> : <Button mode='primary'>На проверке</Button>}\n\t\t\t\t\tmode={\"cell\"}\n\t\t\t\t\tmore={\n\t\t\t\t\t\t(sticker.hasOwnProperty('added') === false && sticker.hasOwnProperty('deleted') === false) ?\n\t\t\t\t\t\t<IconButton icon={\n\t\t\t\t\t\t\t<Icon28CancelOutline onClick={()=>{\n\t\t\t\t\t\t\t\tthis.setState({ popout:\n\t\t\t\t\t\t\t\t\t\t<Alert\n\t\t\t\t\t\t\t\t\t\t\tactionsLayout=\"horizontal\"\n\t\t\t\t\t\t\t\t\t\t\tactions={[{\n\t\t\t\t\t\t\t\t\t\t\t\ttitle: 'Да',\n\t\t\t\t\t\t\t\t\t\t\t\tautoclose: true,\n\t\t\t\t\t\t\t\t\t\t\t\tmode: 'destructive',\n\t\t\t\t\t\t\t\t\t\t\t\taction: async () => {\n\t\t\t\t\t\t\t\t\t\t\t\t\tthis.setState({ popout: <ScreenSpinner/> });\n\t\t\t\t\t\t\t\t\t\t\t\t\tawait this.get('stickers.cancel_moderation',{ stickers_id: i });\n\t\t\t\t\t\t\t\t\t\t\t\t\tawait this.updateUser();\n\t\t\t\t\t\t\t\t\t\t\t\t\tthis.setState({ popout: null });\n\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t}, {\n\t\t\t\t\t\t\t\t\t\t\t\ttitle: 'Нет',\n\t\t\t\t\t\t\t\t\t\t\t\tautoclose: true,\n\t\t\t\t\t\t\t\t\t\t\t\tmode: 'cancel'\n\t\t\t\t\t\t\t\t\t\t\t}]}\n\t\t\t\t\t\t\t\t\t\t\tonClose={()=>{ this.setState({ popout: null }); }}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<h2>Подтвердите действие</h2>\n\t\t\t\t\t\t\t\t\t\t\t<p>Вы уверены, что хотите отменить модерацию стикеров?</p>\n\t\t\t\t\t\t\t\t\t\t</Alert>\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}} fill={'#ff5c5c'}/>\n\t\t\t\t\t\t} />\n\t\t\t\t\t\t:\n\t\t\t\t\t\t\tsticker.hasOwnProperty('stickers_id') ?\n\t\t\t\t\t\t\t\t<Icon28WriteOutline fill={'#ffa000'}/> :\n\t\t\t\t\t\t\t\t<Icon28AddCircleOutline fill={'#4bb34b'}/>\n\t\t\t\t\t}\n\t\t\t\t/>\n\t\t\t);\n\t\t}\n\t\tuser_stickers_history = user_stickers_history.reverse();\n\t\tthis.setState({user_stickers_history});\n\n\t\tlet user_balance_history = [];\n\t\tfor (let i = 0; i < this.state.user.balance_history.length; i++) {\n\t\t\tlet h = this.state.user.balance_history[i];\n\t\t\tlet { act, stickers_id, amount } = h;\n\t\t\tuser_balance_history.push(\n\t\t\t\tact === 'buy' ?\n\t\t\t\t\t<Cell indicator={<Counter mode='prominent'>{'-' + amount +' ₽'}</Counter>} description={this.state.stickers[stickers_id].title}>Покупка</Cell>\n\t\t\t\t\t:\n\t\t\t\t\tact === 'sale' ?\n\t\t\t\t\t\t<Cell indicator={<Counter mode='primary'>{'+' + amount +' ₽'}</Counter>} description={this.state.stickers[stickers_id].title}>Продажа</Cell>\n\t\t\t\t\t\t:\n\t\t\t\t\t\tact === 'withdraw' ?\n\t\t\t\t\t\t\t<Cell indicator={<Counter mode='secondary'>{'-' + amount +' ₽'}</Counter>}>Вывод</Cell>\n\t\t\t\t\t\t\t:\n\t\t\t\t\t\t\tact === 'deposit' &&\n\t\t\t\t\t\t\t\t<Cell indicator={<Counter mode='secondary'>{'+' + amount +' ₽'}</Counter>}>Пополнение</Cell>\n\n\t\t\t);\n\t\t}\n\t\tuser_balance_history = user_balance_history.reverse();\n\t\tthis.setState({user_balance_history});\n\t}\n\tasync updateQuestions() {\n\t\tlet response = await this.get('questions.get');\n\t\tlet questions = response.questions;\n\t\tlet questions_panel = [];\n\t\tfor(let val of questions){\n\t\t\tquestions_panel.push(<CardElement link={val.link} text={val.text}/>);\n\t\t}\n\t\tthis.setState({ questions_panel: questions_panel.length > 0 ? questions_panel : null })\n\t}\n\tasync updateReportReasons() {\n\t\tlet response = await this.get('report.getReasons');\n\t\tlet report_reasons = response.report_reasons;\n\t\tthis.setState({ report_reasons });\n\t\tlet report_reasons_panel = [];\n\t\tfor(let i = 0; i < report_reasons.length; i++){\n\t\t\tlet val = report_reasons[i];\n\t\t\treport_reasons_panel.push(<CellButton onClick={()=>{ this.report_stickers(this.state.sticker_info.id, i); }} >{val}</CellButton>);\n\t\t}\n\n\t\tthis.setState({ report_reasons_panel: report_reasons_panel.length > 0 ? report_reasons_panel : null })\n\t}\n\tasync updateModeration() {\n\t\tif(this.state.user.hasOwnProperty('is_admin') === false) return ;\n\n\t\teruda.init({ tool: ['console'] });\n\t\tlet stickers = await this.get('moderation.getStickers');\n\t\tstickers = stickers.stickers;\n\t\tthis.setState({ moderation_stickers: stickers });\n\t\tlet stickers_panel_moderation = [];\n\t\tfor (let i = 0; i < stickers.length; i++) {\n\t\t\tlet stickers_ = [];\n\t\t\tfor (let j = 0; j < stickers[i].stickers.length; j++) {\n\t\t\t\tstickers_.push(\n\t\t\t\t\t<StickerImg mode={\"small\"} src={stickers[i].stickers[j]}/>\n\t\t\t\t);\n\t\t\t}\n\n\t\t\tstickers[i].id = i;\n\t\t\tstickers[i].stickers_ = stickers_;\n\t\t\tstickers_panel_moderation.push(\n\t\t\t\t<StickerButton\n\t\t\t\t\ttitle={stickers[i].title}\n\t\t\t\t\tdescription={stickers[i].author}\n\t\t\t\t\tsrc={stickers[i].preview}\n\t\t\t\t\tprice={stickers[i].price}\n\t\t\t\t\tmode={\"cell\"}\n\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\tthis.setState({moderation_sticker_info: stickers[i]});\n\t\t\t\t\t\tthis.go('moderation_sticker_info');\n\t\t\t\t\t}}\n\t\t\t\t/>\n\t\t\t);\n\t\t}\n\t\tthis.setState({stickers_panel_moderation});\n\n\t\tlet reports = await this.get('moderation.getReports');\n\t\treports = reports.reports;\n\t\tlet report_panel_moderation = [];\n\t\tfor (let i = 0; i < reports.length; i++) {\n\t\t\tlet report = reports[i];\n\t\t\tif(!report.hasOwnProperty('status')){\n\t\t\t\treport_panel_moderation.push(\n\t\t\t\t\t<StickerButton\n\t\t\t\t\t\ttitle={this.state.stickers[report.stickers_id].title}\n\t\t\t\t\t\tdescription={report.hasOwnProperty('report_reason_id') ? this.state.report_reasons[report.report_reason_id] : report.hasOwnProperty('report_reason_text') && report.report_reason_text }\n\t\t\t\t\t\tsrc={this.state.stickers[report.stickers_id].preview}\n\t\t\t\t\t\tbuttons={<div style={{ display: 'flex' }}> <Button onClick={async ()=>{\n\t\t\t\t\t\t\tthis.setState({ popout: <ScreenSpinner/> });\n\t\t\t\t\t\t\tawait this.get('moderation.approveReport', { report_id: i });\n\t\t\t\t\t\t\tawait this.updateModeration();\n\t\t\t\t\t\t\tthis.setState({ popout: null, activeStory: \"tab_other\" });\n\t\t\t\t\t\t}} mode='primary'>Одобрить</Button> <Button onClick={async ()=>{\n\t\t\t\t\t\t\tthis.setState({ popout: <ScreenSpinner/> });\n\t\t\t\t\t\t\tawait this.get('moderation.rejectReport', { report_id: i });\n\t\t\t\t\t\t\tawait this.updateModeration();\n\t\t\t\t\t\t\tthis.setState({ popout: null, activeStory: \"tab_other\" });\n\t\t\t\t\t\t}} mode='secondary' style={{ marginLeft: '8px' }}>Отклонить</Button></div>}\n\t\t\t\t\t\tmode={\"cell\"}\n\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\tthis.setState({activeStory: \"tab_main\", sticker_info: this.state.stickers[report.stickers_id]});\n\t\t\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t\t\tif(this.state.activeStory === 'tab_main') { this.go('sticker_info'); }\n\t\t\t\t\t\t\t}, 50)\n\t\t\t\t\t\t}}\n\t\t\t\t\t/>\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\t\tthis.setState({report_panel_moderation});\n\n\t\tlet withdraw = await this.get('moderation.getWithdraw');\n\t\twithdraw = withdraw.withdraw;\n\t\tlet withdraw_panel_moderation = [];\n\t\tfor (let i = 0; i < withdraw.length; i++) {\n\t\t\tlet withdraw_ = withdraw[i];\n\t\t\tif(withdraw_.success === false){\n\t\t\t\twithdraw_panel_moderation.push(\n\t\t\t\t\t<StickerButton\n\t\t\t\t\t\timg_type={'round'}\n\t\t\t\t\t\tsrc={withdraw_.photo}\n\t\t\t\t\t\ttitle={<Link className='clear_link' target={'_blank'} href={'https://vk.com/id'+withdraw_.user_id}>{withdraw_.name}</Link>}\n\t\t\t\t\t\tdescription={withdraw_.amount+' руб.'}\n\t\t\t\t\t\tbuttons={<div style={{ display: 'flex' }}> <Button onClick={async ()=>{\n\t\t\t\t\t\t\tthis.setState({ popout: <ScreenSpinner/> });\n\t\t\t\t\t\t\ttry{\n\t\t\t\t\t\t\t\tlet transaction = await bridge.sendPromise(\"VKWebAppOpenPayForm\", {\"app_id\": 7363654, \"action\": \"pay-to-user\", \"params\": { amount: withdraw_.amount, description: 'Вывод средств из магазина стикеров', user_id: withdraw_.user_id }});\n\t\t\t\t\t\t\t\tif(transaction.status){\n\t\t\t\t\t\t\t\t\tawait this.get('moderation.approveWithdraw', { withdraw_id: i });\n\t\t\t\t\t\t\t\t\tawait this.updateModeration();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}catch (e) {}\n\t\t\t\t\t\t\tthis.setState({ popout: null });\n\t\t\t\t\t\t}} mode='primary'>Одобрить</Button> <Button  onClick={async ()=>{\n\t\t\t\t\t\t\tthis.setState({ popout: <ScreenSpinner/> });\n\t\t\t\t\t\t\tawait this.get('moderation.rejectWithdraw', { withdraw_id: i });\n\t\t\t\t\t\t\tawait this.updateModeration();\n\t\t\t\t\t\t\tthis.setState({ popout: null });\n\t\t\t\t\t\t}} mode='secondary' style={{ marginLeft: '8px' }}>Отклонить</Button></div>}\n\t\t\t\t\t\tmode={\"cell\"}\n\t\t\t\t\t/>\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\t\tthis.setState({withdraw_panel_moderation});\n\t}\n\tasync get(method, params) {\n\t\tif(params === undefined || params === null) params = {};\n\t\tparams.url = window.location.search.replace('?', '');\n\t\tlet str = [];\n\t\tfor (let p in params)\n\t\t\tif (params.hasOwnProperty(p)) {\n\t\t\t\tstr.push(encodeURIComponent(p) + \"=\" + encodeURIComponent(params[p]));\n\t\t\t}\n\t\tparams = str.join(\"&\");\n\t\tlet response = await fetch('https://ih1705413.vds.myihor.ru:2020/'+method+'?'+params, {method: 'GET'})\n\t\t\t.then(res => res.json())\n\t\t\t.then(res => {\n\t\t\t\treturn res;\n\t\t\t});\n\t\tif(this.state.user.hasOwnProperty('is_admin')) console.log(method, params, response);\n\t\treturn response;\n\t}\n\n\tsleep(ms) {\n\t\treturn new Promise(resolve => setTimeout(resolve, ms));\n\t}\n\turlToBase64(url){\n\t\treturn new Promise(resolve => {\n\t\t\tlet img = new Image();\n\t\t\timg.crossOrigin = 'Anonymous';\n\t\t\timg.onload = function(){\n\t\t\t\tlet canvas = document.createElement('CANVAS'),\n\t\t\t\t\tctx = canvas.getContext('2d'), dataURL;\n\t\t\t\tcanvas.height = img.height;\n\t\t\t\tcanvas.width = img.width;\n\t\t\t\tctx.drawImage(img, 0, 0);\n\t\t\t\tdataURL = canvas.toDataURL(\"image/png\");\n\t\t\t\tresolve(dataURL);\n\t\t\t};\n\t\t\timg.src = url;\n\t\t});\n\t}\n\tbase64ToMultipart(base64) {\n\t\treturn new Promise(resolve => {\n\t\t\tfetch(base64)\n\t\t\t\t.then(res => res.blob())\n\t\t\t\t.then(blob => {\n\t\t\t\t\tconst fd = new FormData();\n\t\t\t\t\tconst file = new File([blob], \"sticker.png\");\n\t\t\t\t\tfd.append('file', file);\n\t\t\t\t\tresolve(fd);\n\t\t\t\t});\n\t\t});\n\t}\n\tclearArray(array) {\n\t\treturn array.filter(function (val) {\n\t\t\treturn val !== undefined;\n\t\t});\n\t}\n\n\tback = () => {\n\t\tif(this.state.popout !== null){\n\t\t\tif(this.state.popout.props.actionsLayout){\n\t\t\t\tthis.setState({ popout: null });\n\t\t\t\treturn ;\n\t\t\t}\n\t\t}\n\t\tlet activeStory = this.state.activeStory;\n\t\tlet activePanel = activeStory === 'tab_main' ? this.state.activePanelShop : activeStory === 'tab_other' ? this.state.activePanelOther : '';\n\t\tif(activePanel === 'create' && this.state.create_panel.hasOwnProperty('stickers_id')){\n\t\t\tthis.setState({ create_panel: { title: \"\", preview: \"\", price: 1, description: \"\", stickers: [] } });\n\t\t}else if(activePanel === 'create' && this.state.createStickerContextOpened){\n\t\t\tthis.setState({ createStickerContextOpened: false });\n\t\t}\n\t\tlet panel_to_change = activeStory === 'tab_main' ? 'activePanelShop' : activeStory === 'tab_other' ? 'activePanelOther' : '';\n\t\tif((activeStory === 'tab_main' && activePanel==='main') || (activeStory === 'tab_other' && activePanel==='profile')){\n\t\t\tbridge.send(\"VKWebAppClose\", {\"status\": \"success\"});\n\t\t}else {\n\t\t\tlet history = activeStory === 'tab_main' ? this.state.historyShop : activeStory === 'tab_other' ? this.state.historyOther : '';\n\t\t\tif(history.length === 1) {\n\t\t\t\tbridge.send(\"VKWebAppClose\", {\"status\": \"success\"});\n\t\t\t} else if (history.length > 1) {\n\t\t\t\thistory.pop();\n\t\t\t\tlet p = history[history.length - 1];\n\t\t\t\tthis.setState({[panel_to_change]: p});\n\t\t\t\tthis.change_hash(p);\n\t\t\t}\n\t\t}\n\t};\n\tgo(panel) {\n\t\tlet activeStory = this.state.activeStory;\n\t\tlet panel_to_change = activeStory === 'tab_main' ? 'activePanelShop' : activeStory === 'tab_other' ? 'activePanelOther' : '';\n\t\tlet history = activeStory === 'tab_main' ? this.state.historyShop : activeStory === 'tab_other' ? this.state.historyOther : '';\n\t\tif(panel.startsWith('sticker_info_')){\n\t\t\tlet stickers_id = panel.split('_')[2];\n\t\t\tif(this.state.stickers.hasOwnProperty(stickers_id)){\n\t\t\t\tthis.setState({ sticker_info: this.state.stickers[stickers_id] });\n\t\t\t\tpanel = 'sticker_info';\n\t\t\t}else{\n\t\t\t\tpanel = 'main';\n\t\t\t}\n\t\t}else if (panel.startsWith('stickers_report_')){\n\t\t\tlet stickers_id = panel.split('_')[2];\n\t\t\tif(this.state.stickers.hasOwnProperty(stickers_id)){\n\t\t\t\tthis.setState({ sticker_info: this.state.stickers[stickers_id] });\n\t\t\t\tpanel = 'stickers_report';\n\t\t\t}else{\n\t\t\t\tpanel = 'main';\n\t\t\t}\n\t\t}else if (panel === 'stickers_report'){\n\t\t\tthis.setState({ report_other_visible: false });\n\t\t}\n\t\tif(history[history.length-1] !== panel) {\n\t\t\thistory.push(panel);\n\t\t\tlet history_to_change = activeStory === 'tab_main' ? 'historyShop' : activeStory === 'tab_other' ? 'historyOther' : '';\n\t\t\twindow.history.pushState({panel: panel}, 'Title');\n\t\t\tthis.setState({[panel_to_change]: panel, [history_to_change]: history, snackbar: null});\n\t\t}\n\t\tthis.change_hash(panel);\n\t}\n\tchange_hash (panel){\n\t\tlet activeStory = this.state.activeStory;\n\t\tif(panel === 'sticker_info' || panel === 'stickers_report'){\n\t\t\tpanel = panel+'_'+this.state.sticker_info.id;\n\t\t}\n\t\tbridge.send(\"VKWebAppSetLocation\", {\"location\": activeStory+'_'+panel});\n\t}\n\n\tonStoryChange (e) {\n\t\tlet story = e.currentTarget.dataset.story;\n\t\tthis.setState({ activeStory: story, snackbar: null });\n\n\t\tif(this.state.activeStory===story){\n\t\t\tif(story==='tab_main' && this.state.activePanelShop !== 'main'){\n\t\t\t\tthis.back();\n\t\t\t}else if(story==='tab_other' && this.state.activePanelOther !== 'profile'){\n\t\t\t\tthis.back();\n\t\t\t}\n\t\t}else{\n\t\t\tlet panel_ = story === 'tab_main' ? 'activePanelShop' : story === 'tab_other' ? 'activePanelOther' : '';\n\t\t\tlet panel = this.state[panel_];\n\t\t\tsetTimeout(()=>{\n\t\t\t\tthis.change_hash(panel);\n\t\t\t}, 150);\n\t\t}\n\t}\n\tonChange(e) {\n\t\tconst { name, value } = e.currentTarget;\n\t\tlet create_panel = this.state.create_panel;\n\t\tcreate_panel[name] = value;\n\t\tthis.setState({ create_panel: create_panel });\n\t}\n\ttoggleCreateStickerContext () {\n\t\tthis.setState({ createStickerContextOpened: !this.state.createStickerContextOpened });\n\t}\n\tasync uploadFile(element, evt) {\n\t\tlet tgt = evt.target || window.event.srcElement,\n\t\t\tfiles = tgt.files;\n\t\tconst t = this;\n\n\t\tif (FileReader && files && files.length) {\n\t\t\tfor (let file of files) {\n\t\t\t\tlet fr = new FileReader();\n\t\t\t\tfr.onload = async function () {\n\t\t\t\t\tlet res = fr.result; //base64 result, to get src -> array[0].props.src\n\t\t\t\t\tlet res1 = t.state.create_panel;\n\t\t\t\t\tif (file.type.includes('image')) {\n\t\t\t\t\t\tlet image = new Image();\n\t\t\t\t\t\timage.src = res;\n\t\t\t\t\t\timage.onload = async function() {\n\t\t\t\t\t\t\tlet canvas = document.createElement('CANVAS'),\n\t\t\t\t\t\t\t\tctx = canvas.getContext('2d');\n\t\t\t\t\t\t\tcanvas.height = 192;\n\t\t\t\t\t\t\tcanvas.width = 192;\n\t\t\t\t\t\t\tctx.drawImage(image, 0, 0, image.width, image.height, 0, 0, 192, 192);\n\t\t\t\t\t\t\tif (element === 'upload_sticker_img') {\n\t\t\t\t\t\t\t\tlet res10 = res1.hasOwnProperty('uploaded_stickers_img') ? res1.uploaded_stickers_img : [];\n\t\t\t\t\t\t\t\tlet stickers_count = this.clearArray(res10).length + 1;\n\t\t\t\t\t\t\t\tif (stickers_count <= 48) {\n\t\t\t\t\t\t\t\t\tres10.push(\n\t\t\t\t\t\t\t\t\t\t<StickerImg\n\t\t\t\t\t\t\t\t\t\t\tmode={'small'}\n\t\t\t\t\t\t\t\t\t\t\tid={'uploaded_sticker_' + res10.length}\n\t\t\t\t\t\t\t\t\t\t\tsrc={canvas.toDataURL(\"image/png\")}\n\t\t\t\t\t\t\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\t\t\t\t\t\t\tlet id = parseInt(e.currentTarget.id.split('_')[2]);\n\t\t\t\t\t\t\t\t\t\t\t\tlet res01 = t.state.create_panel;\n\t\t\t\t\t\t\t\t\t\t\t\tdelete res01.uploaded_stickers_img[id];\n\t\t\t\t\t\t\t\t\t\t\t\tt.setState({create_panel: res01});\n\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\tres1.uploaded_stickers_img = res10;\n\t\t\t\t\t\t\t\t\tt.setState({create_panel: res1});\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tres1[element] = res;\n\t\t\t\t\t\t\t\tt.setState({create_panel: res1});\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}.bind(this);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tt.showSnackBar('Необходимо загрузить изображение в формате PNG', <Icon16Cancel fill=\"#fff\" width={14} height={14} />, redBackground);\n\t\t\t\t\t\tres1[element] = null;\n\t\t\t\t\t\tt.setState({create_panel: res1});\n\t\t\t\t\t}\n\t\t\t\t}.bind(this);\n\t\t\t\tawait fr.readAsDataURL(file);\n\t\t\t}\n\t\t}\n\t\t// Not supported\n\t\telse {\n\t\t\t// fallback -- perhaps submit the input to an iframe and temporarily store\n\t\t\t// them on the server until the user's session ends.\n\t\t}\n\t}\n\tasync showSnackBar (text, icon, style, action, onActionClick){\n\t\tthis.setState({ snackbar: null });\n\t\tawait this.sleep(150);\n\t\tif(onActionClick === null) onActionClick = ()=> {};\n\t\tthis.setState({ snackbar:\n\t\t\t\t<Snackbar\n\t\t\t\t\tlayout=\"vertical\"\n\t\t\t\t\tonClose={() => this.setState({ snackbar: null })}\n\t\t\t\t\tbefore={<Avatar size={24} style={style}>{icon}</Avatar>}\n\t\t\t\t\taction={action}\n\t\t\t\t\tonActionClick={onActionClick}\n\t\t\t\t>\n\t\t\t\t\t{text}\n\t\t\t\t</Snackbar>\n\t\t});\n\t}\n\n\tasync approveStickers() {\n\t\tthis.setState({ popout: <ScreenSpinner/> });\n\t\ttry{\n\t\t\taccess_token = await bridge.sendPromise(\"VKWebAppGetAuthToken\", {\"app_id\": 7363654, \"scope\": \"docs\"});\n\t\t\taccess_token = access_token.access_token;\n\t\t\tthis.api.access_token = access_token;\n\t\t\t/*\n\t\t\tupload_url1 = await bridge.sendPromise(\"VKWebAppCallAPIMethod\", {\"method\": \"docs.getUploadServer\", \"request_id\": \"upload_server\", \"params\": {\"group_id\":\"193090865\", \"v\":\"5.00\", \"access_token\":access_token}});\n\t\t\tupload_url1 = upload_url1.response.upload_url;\n\t\t\t*/\n\t\t\tlet stickers = this.state.moderation_sticker_info.stickers_;\n\n\t\t\t/*if (this.state.stickers[stickers_id].hasOwnProperty('data')) {\n\t\t\t\tfor(var i = 0; i < this.state.stickers[stickers_id].data.length; i++){\n\t\t\t\t\tif(this.state.captcha.done === false && this.state.activePanelShop === 'sticker_info') {\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\tlet remove = await bridge.sendPromise(\"VKWebAppCallAPIMethod\", {\n\t\t\t\t\t\t\t\t\"method\": \"docs.delete\",\n\t\t\t\t\t\t\t\t\"request_id\": \"del_doc\",\n\t\t\t\t\t\t\t\t\"params\": {\n\t\t\t\t\t\t\t\t\t\"owner_id\": this.state.stickers[stickers_id].data[i].owner_id,\n\t\t\t\t\t\t\t\t\t\"doc_id\": this.state.stickers[stickers_id].data[i].doc_id,\n\t\t\t\t\t\t\t\t\t\"v\": \"5.103\",\n\t\t\t\t\t\t\t\t\t\"access_token\": access_token\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t} catch (e) {\n\t\t\t\t\t\t\tconsole.log('error del...');\n\t\t\t\t\t\t\ti--;\n\t\t\t\t\t\t}\n\t\t\t\t\t}else if(this.state.captcha.done === null){\n\t\t\t\t\t\ti--;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}*/\n\n\t\t\tlet sticker_pack = {\n\t\t\t\tauthor: this.state.moderation_sticker_info.author,\n\t\t\t\tauthor_id: this.state.moderation_sticker_info.user_id,\n\t\t\t\tdata: [],\n\t\t\t\tdescription: this.state.moderation_sticker_info.description,\n\t\t\t\tpreview: this.state.moderation_sticker_info.preview,\n\t\t\t\tprice: this.state.moderation_sticker_info.price,\n\t\t\t\ttitle: this.state.moderation_sticker_info.title,\n\t\t\t\tstickers: this.state.moderation_sticker_info.stickers,\n\t\t\t\tis_free: this.state.moderation_sticker_info.is_free\n\t\t\t};\n\t\t\t/*\n\t\t\tfor(let i = 0; i < stickers.length; i++){\n\t\t\t\tif(this.state.captcha.done === false && this.state.activePanelOther === 'moderation_sticker_info'){\n\t\t\t\t\tlet sticker_url = stickers[i].props.src;\n\t\t\t\t\tawait this.urlToBase64('https://murmuring-bastion-20764.herokuapp.com/'+sticker_url).then(async base64Img => {\n\t\t\t\t\t\tawait this.base64ToMultipart(base64Img).then(async multipart => {\n\t\t\t\t\t\t\tawait fetch('https://murmuring-bastion-20764.herokuapp.com/'+upload_url1, {method: 'POST', body: multipart})\n\t\t\t\t\t\t\t\t.then(res => res.json())\n\t\t\t\t\t\t\t\t.then(async res => {\n\t\t\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\t\t\tlet file = res.file;\n\t\t\t\t\t\t\t\t\t\tlet save = await bridge.sendPromise(\"VKWebAppCallAPIMethod\", {\n\t\t\t\t\t\t\t\t\t\t\t\"method\": \"docs.save\",\n\t\t\t\t\t\t\t\t\t\t\t\"request_id\": \"save_graffiti\",\n\t\t\t\t\t\t\t\t\t\t\t\"params\": {\"file\": file, \"v\": \"5.103\", \"access_token\": access_token}\n\t\t\t\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\t\t\t\tsticker_pack.data.push({\n\t\t\t\t\t\t\t\t\t\t\taccess_key: save.response.graffiti.access_key,\n\t\t\t\t\t\t\t\t\t\t\tdoc_id: save.response.graffiti.id,\n\t\t\t\t\t\t\t\t\t\t\towner_id: save.response.graffiti.owner_id,\n\t\t\t\t\t\t\t\t\t\t\turl: save.response.graffiti.url\n\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t} catch (e) {\n\t\t\t\t\t\t\t\t\t\tconsole.log(e);\n\t\t\t\t\t\t\t\t\t\tconsole.log('error uploading...');\n\t\t\t\t\t\t\t\t\t\ti--;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tawait this.sleep(1000);\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t});\n\t\t\t\t\t});\n\t\t\t\t}else if(this.state.captcha.done === null){\n\t\t\t\t\ti--;\n\t\t\t\t}\n\t\t\t}\n\t\t\tconsole.log(sticker_pack);\n\t\t\t*/\n\t\t\tlet to_id = this.state.moderation_sticker_info.hasOwnProperty('stickers_id') ? this.state.moderation_sticker_info.stickers_id : null;\n\t\t\tlet params = { sticker_pack: JSON.stringify(sticker_pack), stickers_history_id: this.state.moderation_sticker_info.i };\n\t\t\tif(to_id !== null){\n\t\t\t\tparams.to_id = to_id;\n\t\t\t}else{\n\t\t\t\tsticker_pack.sales = 0;\n\t\t\t\tsticker_pack.got = 0;\n\t\t\t\tparams = { sticker_pack: JSON.stringify(sticker_pack), stickers_history_id: this.state.moderation_sticker_info.i };\n\t\t\t}\n\t\t\tawait this.get('moderation.approveStickers', params);\n\t\t\tawait this.updateModeration();\n\t\t}catch (e) {\n\t\t\t//console.log(e);\n\t\t\tthis.showSnackBar('Произошла ошибка при получении данных', <Icon16Cancel fill=\"#fff\" width={14} height={14} />, redBackground);\n\t\t}\n\t\tthis.setState({ popout: null });\n\t\tthis.back();\n\t}\n\tasync rejectStickers(){\n\t\tthis.setState({ popout: <ScreenSpinner/> });\n\t\tlet author_id = this.state.moderation_sticker_info.user_id;\n\t\tlet stickers_history_id = this.state.moderation_sticker_info.i;\n\n\t\tawait this.get('moderation.rejectStickers', { author_id, stickers_history_id });\n\n\t\tawait this.updateModeration();\n\t\tthis.setState({ popout: null });\n\t\tthis.back();\n\t}\n\tasync install(stickers_id) {\n\t\tlet is_allow = await this.get('stickers.isAllowInstall', { stickers_id });\n\t\tif(is_allow.allow === false){\n\t\t\tthis.showSnackBar('У вас не куплены эти стикеры', <Icon16Cancel fill=\"#fff\" width={14} height={14} />, redBackground);\n\t\t\treturn ;\n\t\t}\n\n\t\tthis.showSnackBar('Идёт установка стикеров, пожалуйста не выходите из приложения - иначе они могут установиться не правильно', <Icon16Spinner fill=\"#fff\" width={14} height={14} />, blueBackground);\n\t\tthis.setState({ popout: <ScreenSpinner/> });\n\t\ttry{\n\t\t\taccess_token = await bridge.sendPromise(\"VKWebAppGetAuthToken\", {\"app_id\": 7363654, \"scope\": \"docs\"});\n\t\t\taccess_token = access_token.access_token;\n\t\t\tthis.api.access_token = access_token;\n\t\t\tupload_url1 = await this.api.callMethod('docs.getMessagesUploadServer', { type: 'graffiti' });\n\t\t\t//upload_url1 = await bridge.sendPromise(\"VKWebAppCallAPIMethod\", {\"method\": \"docs.getMessagesUploadServer\", \"request_id\": \"upload_server\", \"params\": {\"type\":\"graffiti\", \"v\":\"5.103\", \"access_token\":access_token}});\n\t\t\tupload_url1 = upload_url1/*.response*/.upload_url;\n\t\t\tupload_url2 = await this.api.callMethod('docs.getUploadServer', {  });\n\t\t\t//upload_url2 = await bridge.sendPromise(\"VKWebAppCallAPIMethod\", {\"method\": \"docs.getUploadServer\", \"request_id\": \"upload_server\", \"params\": {\"v\":\"5.103\", \"access_token\":access_token}});\n\t\t\tupload_url2 = upload_url2/*.response*/.upload_url;\n\t\t\tlet stickers = await this.get('stickers.get');\n\t\t\tstickers = stickers.stickers[stickers_id];\n\t\t\tlet data = stickers.data;\n\t\t\tlet stickers_url = stickers.stickers;\n\t\t\tawait this.sleep(1000);\n\t\t\tif(this.state.user.hasOwnProperty('stickers_cache')){\n\t\t\t\tif(this.state.user.stickers_cache.hasOwnProperty(stickers_id+'')){\n\t\t\t\t\tfor(var i = 0; i < this.state.user.stickers_cache[stickers_id].length; i++){\n\t\t\t\t\t\tif(this.state.captcha.done === false && this.state.activePanelShop === 'sticker_info'){\n\t\t\t\t\t\t\ttry{\n\t\t\t\t\t\t\t\t//console.log( 'await bridge.sendPromise(\"VKWebAppCallAPIMethod\", {\"method\": \"docs.delete\", \"request_id\": \"del_doc\", \"params\": {\"owner_id\": '+this.state.user.id+', \"doc_id\": '+this.state.user.stickers_cache[stickers_id][i]+', \"v\": \"5.103\", \"access_token\": '+access_token+'}})' );\n\t\t\t\t\t\t\t\tlet remove = await this.api.callMethod('docs.delete', { owner_id: this.state.user.id, doc_id: this.state.user.stickers_cache[stickers_id][i] });\n\t\t\t\t\t\t\t\t/*let remove = await bridge.sendPromise(\"VKWebAppCallAPIMethod\", {\n\t\t\t\t\t\t\t\t\t\"method\": \"docs.delete\",\n\t\t\t\t\t\t\t\t\t\"request_id\": \"del_doc\",\n\t\t\t\t\t\t\t\t\t\"params\": {\"owner_id\": this.state.user.id, \"doc_id\": this.state.user.stickers_cache[stickers_id][i], \"v\": \"5.103\", \"access_token\": access_token}\n\t\t\t\t\t\t\t\t});*/\n\t\t\t\t\t\t\t\tawait this.sleep(400);\n\t\t\t\t\t\t\t}catch (e) {\n\t\t\t\t\t\t\t\t//console.log('error del...');\n\t\t\t\t\t\t\t\ti--;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}else if(this.state.captcha.done === null){\n\t\t\t\t\t\t\ti--;\n\t\t\t\t\t\t\tawait this.sleep(400);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\t/*\n\t\t\tfor(var i = 0; i < data.length; i++){\n\t\t\t\tif(this.state.captcha.done === false && this.state.activePanelShop === 'sticker_info'){\n\t\t\t\t\ttry{\n\t\t\t\t\t\tlet obj = data[i];\n\t\t\t\t\t\tlet add = await bridge.sendPromise(\"VKWebAppCallAPIMethod\", {\n\t\t\t\t\t\t\t\"method\": \"docs.add\",\n\t\t\t\t\t\t\t\"request_id\": \"add_doc\",\n\t\t\t\t\t\t\t\"params\": {\"owner_id\": obj.owner_id, \"doc_id\": obj.doc_id, \"access_key\": obj.access_key, \"v\": \"5.103\", \"access_token\": access_token}\n\t\t\t\t\t\t});\n\t\t\t\t\t\tlet added = await this.get('stickers.add', { stickers_id: stickers_id, i: i, doc_id: add.response });\n\t\t\t\t\t\tif(added.access === false){\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}catch (e) {\n\t\t\t\t\t\tconsole.log('error add...');\n\t\t\t\t\t\ti--;\n\t\t\t\t\t}\n\t\t\t\t}else if(this.state.captcha.done === null){\n\t\t\t\t\ti--;\n\t\t\t\t}\n\t\t\t\tawait this.sleep(500);\n\t\t\t}\n\t\t\t*/\n\t\t\tlet installed = 0;\n\t\t\tfor(let i = 0; i < stickers_url.length; i++){\n\t\t\t\tif(this.state.captcha.done === false && this.state.activePanelShop === 'sticker_info'){\n\t\t\t\t\tawait this.urlToBase64('https://murmuring-bastion-20764.herokuapp.com/'+stickers_url[i]).then(async base64Img => {\n\t\t\t\t\t\tawait this.base64ToMultipart(base64Img).then(async multipart => {\n\t\t\t\t\t\t\tawait fetch('https://murmuring-bastion-20764.herokuapp.com/'+upload_url1, {method: 'POST', body: multipart})\n\t\t\t\t\t\t\t\t.then(res => res.json())\n\t\t\t\t\t\t\t\t.then(async res => {\n\t\t\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\t\t\tlet file = res.file;\n\t\t\t\t\t\t\t\t\t\t//console.log( 'await bridge.sendPromise(\"VKWebAppCallAPIMethod\", {\"method\": \"docs.save\", \"request_id\": \"save_graffiti1\", \"params\": {\"file\": '+file+', \"title\": \"sticker\", \"v\": \"5.103\", \"access_token\": '+access_token+'}})' );\n\t\t\t\t\t\t\t\t\t\tlet save = await this.api.callMethod('docs.save', { file: file, title: 'sticker' });\n\t\t\t\t\t\t\t\t\t\t/*let save = await bridge.sendPromise(\"VKWebAppCallAPIMethod\", {\n\t\t\t\t\t\t\t\t\t\t\t\"method\": \"docs.save\",\n\t\t\t\t\t\t\t\t\t\t\t\"request_id\": \"save_graffiti1\",\n\t\t\t\t\t\t\t\t\t\t\t\"params\": {\"file\": file, \"title\": \"sticker\", \"v\": \"5.103\", \"access_token\": access_token}\n\t\t\t\t\t\t\t\t\t\t});*/\n\n\t\t\t\t\t\t\t\t\t\tawait fetch('https://murmuring-bastion-20764.herokuapp.com/'+upload_url2, {method: 'POST', body: multipart})\n\t\t\t\t\t\t\t\t\t\t\t.then(res => res.json())\n\t\t\t\t\t\t\t\t\t\t\t.then(async res => {\n\t\t\t\t\t\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\t\t\t\t\t\tlet file = res.file;\n\t\t\t\t\t\t\t\t\t\t\t\t\t//console.log( 'await bridge.sendPromise(\"VKWebAppCallAPIMethod\", {\"method\": \"docs.save\", \"request_id\": \"save_graffiti2\", \"params\": {\"file\": '+file+', \"title\": \"sticker\", \"v\": \"5.103\", \"access_token\": '+access_token+'}})' );\n\t\t\t\t\t\t\t\t\t\t\t\t\tlet save = await this.api.callMethod('docs.save', { file: file, title: 'sticker' });\n\t\t\t\t\t\t\t\t\t\t\t\t\t/*let save = await bridge.sendPromise(\"VKWebAppCallAPIMethod\", {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"method\": \"docs.save\",\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"request_id\": \"save_graffiti2\",\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"params\": {\"file\": file, \"title\": \"sticker\", \"v\": \"5.103\", \"access_token\": access_token}\n\t\t\t\t\t\t\t\t\t\t\t\t\t});*/\n\n\t\t\t\t\t\t\t\t\t\t\t\t\tlet added = await this.get('stickers.add', { stickers_id: stickers_id, i: i, doc_id: save/*.response*/.graffiti.id });\n\t\t\t\t\t\t\t\t\t\t\t\t\tinstalled++;\n\t\t\t\t\t\t\t\t\t\t\t\t\tthis.showSnackBar('Установлено ' + installed + '/' + stickers_url.length, <Icon16Spinner fill=\"#fff\" width={14} height={14} />, blueBackground);\n\t\t\t\t\t\t\t\t\t\t\t\t} catch (e) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t//console.log('error uploading...');\n\t\t\t\t\t\t\t\t\t\t\t\t\ti--;\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\t\t\t} catch (e) {\n\t\t\t\t\t\t\t\t\t\t//console.log('error uploading...');\n\t\t\t\t\t\t\t\t\t\ti--;\n\t\t\t\t\t\t\t\t\t\tawait this.sleep(250);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t});\n\t\t\t\t\t});\n\t\t\t\t}else if(this.state.captcha.done === null){\n\t\t\t\t\tconsole.log('wait captcha... ('+i+')');\n\t\t\t\t\ti--;\n\t\t\t\t\tawait this.sleep(1000);\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis.showSnackBar('Стикеры установлены', <Icon16Done fill=\"#fff\" width={14} height={14} />, blueBackground);\n\t\t}catch (e) {\n\t\t\tthis.showSnackBar('Произошла ошибка при получении данных', <Icon16Cancel fill=\"#fff\" width={14} height={14} />, redBackground);\n\t\t}\n\t\tthis.updateStickersInfo();\n\t\tthis.setState({ popout: null });\n\t}\n\tasync delete (stickers_id) {\n\t\tthis.showSnackBar('Идёт очистка стикеров, пожалуйста не выходите из приложения - иначе они могут очиститься не правильно', <Icon16Spinner fill=\"#fff\" width={14} height={14} />, blueBackground);\n\t\tthis.setState({ popout: <ScreenSpinner/> });\n\t\ttry{\n\t\t\taccess_token = await bridge.sendPromise(\"VKWebAppGetAuthToken\", {\"app_id\": 7363654, \"scope\": \"docs\"});\n\t\t\taccess_token = access_token.access_token;\n\t\t\tthis.api.access_token = access_token;\n\n\t\t\tif(this.state.user.hasOwnProperty('stickers_cache')) {\n\t\t\t\tif (this.state.user.stickers_cache.hasOwnProperty(stickers_id + '')) {\n\t\t\t\t\tfor(var i = 0; i < this.state.user.stickers_cache[stickers_id].length; i++){\n\t\t\t\t\t\tif(this.state.captcha.done === false && this.state.activePanelShop === 'sticker_info'){\n\t\t\t\t\t\t\ttry{\n\t\t\t\t\t\t\t\tlet remove = await this.api.callMethod('docs.delete', { owner_id: this.state.user.id, doc_id: this.state.user.stickers_cache[stickers_id][i] });\n\t\t\t\t\t\t\t\t/*let remove = await bridge.sendPromise(\"VKWebAppCallAPIMethod\", {\n\t\t\t\t\t\t\t\t\t\"method\": \"docs.delete\",\n\t\t\t\t\t\t\t\t\t\"request_id\": \"del_doc\",\n\t\t\t\t\t\t\t\t\t\"params\": {\"owner_id\": this.state.user.id, \"doc_id\": this.state.user.stickers_cache[stickers_id][i], \"v\": \"5.103\", \"access_token\": access_token}\n\t\t\t\t\t\t\t\t});*/\n\t\t\t\t\t\t\t\tawait this.sleep(400);\n\t\t\t\t\t\t\t}catch (e) {\n\t\t\t\t\t\t\t\t//console.log('error delete...');\n\t\t\t\t\t\t\t\ti--;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}else if(this.state.captcha.done === null){\n\t\t\t\t\t\t\ti--;\n\t\t\t\t\t\t\tawait this.sleep(400);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tawait this.get('stickers.delete', { stickers_id: stickers_id });\n\t\t\t\t\tthis.showSnackBar('Стикеры очищены', <Icon16Done fill=\"#fff\" width={14} height={14} />, blueBackground);\n\t\t\t\t}\n\t\t\t}\n\t\t}catch (e) {\n\t\t\tthis.showSnackBar('Произошла ошибка при получении данных', <Icon16Cancel fill=\"#fff\" width={14} height={14} />, redBackground);\n\t\t}\n\t\tthis.updateStickersInfo();\n\t\tthis.setState({ popout: null });\n\t}\n\tasync create_stickers () {\n\t\tthis.showSnackBar('Идёт загрузка стикеров, пожалуйста не выходите из приложения - иначе они могут загрузиться не правильно', <Icon16Spinner fill=\"#fff\" width={14} height={14} />, blueBackground);\n\t\tthis.setState({ popout: <ScreenSpinner/> });\n\t\tlet { title, description, price, upload_preview_img, uploaded_stickers_img, is_free } = this.state.create_panel;\n\t\tlet author = this.state.user.first_name + ' ' + this.state.user.last_name;\n\t\tlet preview = '';\n\t\tlet stickers = [];\n\t\tawait request({\n\t\t\turl: 'https://murmuring-bastion-20764.herokuapp.com/https://api.imgbb.com/1/upload?key=b2bfb837d63c6adae4d191841abb04dc',\n\t\t\tmethod: 'POST',\n\t\t\tform: {\n\t\t\t\timage: upload_preview_img.replace('data:image/png;base64,','')\n\t\t\t}\n\t\t}, (error, response, body)=>{\n\t\t\ttry{\n\t\t\t\tif(response.statusCode === 200){\n\t\t\t\t\tbody = JSON.parse(body);\n\t\t\t\t\tlet url = body.data.url;\n\t\t\t\t\tpreview = url;\n\t\t\t\t\tif(this.state.user.hasOwnProperty('is_admin')) console.log('preview loaded: '+url);\n\t\t\t\t}else{\n\t\t\t\t\tconsole.log('error', body);\n\t\t\t\t}\n\t\t\t}catch (e) {\n\t\t\t\tconsole.log(e);\n\t\t\t\tthis.showSnackBar('Произошла ошибка, попробуйте ещё раз', <Icon16Cancel fill=\"#fff\" width={14} height={14} />, redBackground);\n\t\t\t\tthis.setState({ popout: null });\n\t\t\t\treturn ;\n\t\t\t}\n\t\t});\n\t\tlet upload_end = false;\n\t\tuploaded_stickers_img = this.clearArray(uploaded_stickers_img);\n\t\tfor(let sticker of uploaded_stickers_img){\n\t\t\tawait request({\n\t\t\t\turl: 'https://murmuring-bastion-20764.herokuapp.com/https://api.imgbb.com/1/upload?key=b2bfb837d63c6adae4d191841abb04dc',\n\t\t\t\tmethod: 'POST',\n\t\t\t\tform: {\n\t\t\t\t\timage: sticker.props.src.replace('data:image/png;base64,', '')\n\t\t\t\t}\n\t\t\t}, (error, response, body) => {\n\t\t\t\ttry{\n\t\t\t\t\tif (response.statusCode === 200) {\n\t\t\t\t\t\tbody = JSON.parse(body);\n\t\t\t\t\t\tlet url = body.data.url;\n\t\t\t\t\t\tstickers.push(url);\n\t\t\t\t\t\tif(this.state.user.hasOwnProperty('is_admin')) console.log('sticker loaded: '+url);\n\t\t\t\t\t\tif(stickers.length === uploaded_stickers_img.length) upload_end = true;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tconsole.log('error', body);\n\t\t\t\t\t}\n\t\t\t\t}catch (e) {\n\t\t\t\t\tconsole.log(e);\n\t\t\t\t\tthis.showSnackBar('Произошла ошибка, попробуйте ещё раз', <Icon16Cancel fill=\"#fff\" width={14} height={14} />, redBackground);\n\t\t\t\t\tthis.setState({ popout: null });\n\t\t\t\t\treturn ;\n\t\t\t\t}\n\t\t\t});\n\t\t\tawait this.sleep(500);\n\t\t}\n\t\tfor(let i = 0; i < 2; i++){\n\t\t\tif(upload_end)\n\t\t\t\tbreak;\n\t\t\telse {\n\t\t\t\ti--;\n\t\t\t\tawait this.sleep(1000);\n\t\t\t}\n\t\t}\n\t\tlet resp = await this.get('stickers.create', { title, description, price, preview, stickers, author, is_free, stickers_id: this.state.create_panel.hasOwnProperty('stickers_id') ? parseInt(this.state.create_panel.stickers_id) : null });\n\t\tif(resp.status === 'ok'){\n\t\t\tthis.setState({ create_panel: { title: \"\", preview: \"\", price: 1, description: \"\", stickers: [], is_free: false } });\n\t\t\tawait this.updateUser();\n\t\t\tthis.go('stickers_history');\n\t\t}\n\t\tthis.setState({ popout: null });\n\t}\n\tgo_to_edit () {\n\t\tlet create_panel = this.state.create_panel;\n\t\tlet stickers_ = this.state.sticker_info.stickers_;\n\t\tlet stickers = [];\n\t\tcreate_panel.stickers_id = this.state.sticker_info.id;\n\t\tcreate_panel.title = this.state.sticker_info.title;\n\t\tcreate_panel.description = this.state.sticker_info.description;\n\t\tcreate_panel.price = this.state.sticker_info.price;\n\t\tcreate_panel.upload_preview_img = this.state.sticker_info.preview;\n\t\tcreate_panel.is_free = this.state.sticker_info.is_free;\n\t\tfor (let i = 0; i < stickers_.length; i++) {\n\t\t\tlet sticker = stickers_[i];\n\t\t\tstickers.push(\n\t\t\t\t<StickerImg\n\t\t\t\t\tmode={'small'}\n\t\t\t\t\tid={'uploaded_sticker_' + i}\n\t\t\t\t\tsrc={sticker.props.src}\n\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\tlet id = parseInt(e.currentTarget.id.split('_')[2]);\n\t\t\t\t\t\tlet create_panel_ = this.state.create_panel;\n\t\t\t\t\t\tdelete create_panel_.uploaded_stickers_img[id];\n\t\t\t\t\t\tthis.setState({create_panel: create_panel_});\n\t\t\t\t\t}}\n\t\t\t\t/>\n\t\t\t);\n\t\t}\n\t\tcreate_panel.uploaded_stickers_img = stickers;\n\t\tthis.setState({ create_panel: create_panel, activeStory: 'tab_other' });\n\t\tsetTimeout(()=>{\n\t\t\tthis.go('create');\n\t\t},150);\n\t}\n\tasync report_stickers (stickers_id, report_reason) {\n\t\tthis.setState({ popout: <ScreenSpinner/> });\n\t\tif(typeof report_reason === 'number'){\n\t\t\tawait this.get('report.send', {stickers_id, report_reason_id: report_reason});\n\t\t}else{\n\t\t\tawait this.get('report.send', {stickers_id, report_reason_text: report_reason});\n\t\t}\n\t\tthis.setState({ popout: null });\n\t\tthis.back();\n\t\tthis.showSnackBar('Жалоба отправлена, спасибо!', <Icon16Done fill=\"#fff\" width={14} height={14} />, blueBackground);\n\t}\n\tasync withdraw () {\n\t\tthis.setState({ popout: <ScreenSpinner/> });\n\t\tlet resp = await this.get('users.withdraw');\n\t\tthis.setState({ popout: null });\n\t\tif(resp.access === false){\n\t\t\tthis.showSnackBar(resp.error_text, <Icon16Cancel fill=\"#fff\" width={14} height={14} />, redBackground);\n\t\t}else{\n\t\t\tthis.showSnackBar('Запрос на вывод средств отправлен, ожидайте', <Icon16Done fill=\"#fff\" width={14} height={14} />, blueBackground);\n\t\t}\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<Epic activeStory={this.state.activeStory} tabbar={\n\t\t\t\t<Tabbar>\n\t\t\t\t\t<TabbarItem\n\t\t\t\t\t\tonClick={this.onStoryChange}\n\t\t\t\t\t\tselected={this.state.activeStory === 'tab_main'}\n\t\t\t\t\t\tdata-story=\"tab_main\"\n\t\t\t\t\t><Icon28MarketOutline/></TabbarItem>\n\t\t\t\t\t<TabbarItem\n\t\t\t\t\t\tonClick={this.onStoryChange}\n\t\t\t\t\t\tselected={this.state.activeStory === 'tab_other'}\n\t\t\t\t\t\tdata-story=\"tab_other\"\n\t\t\t\t\t><Icon28UserOutline /></TabbarItem>\n\t\t\t\t</Tabbar>\n\t\t\t}>\n\t\t\t\t<View id=\"tab_main\" activePanel={this.state.activePanelShop} popout={this.state.popout} history={this.state.historyShop} onSwipeBack={this.back} header={false}>\n\t\t\t\t\t<Panel id=\"main\" separator={false}>\n\t\t\t\t\t\t<PanelHeaderSimple\n\t\t\t\t\t\t\tseparator={false}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tСтикеры\n\t\t\t\t\t\t</PanelHeaderSimple>\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tthis.state.stickers_panel_new.length > 0 &&\n\t\t\t\t\t\t\t<Tabs>\n\t\t\t\t\t\t\t\t<TabsItem\n\t\t\t\t\t\t\t\t\tonClick={() => this.setState({ slideTabIndex_main: 0 })}\n\t\t\t\t\t\t\t\t\tselected={this.state.slideTabIndex_main === 0}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\tНовинки\n\t\t\t\t\t\t\t\t</TabsItem>\n\t\t\t\t\t\t\t\t<TabsItem\n\t\t\t\t\t\t\t\t\tonClick={() => this.setState({ slideTabIndex_main: 1 })}\n\t\t\t\t\t\t\t\t\tselected={this.state.slideTabIndex_main === 1}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\tПопулярные\n\t\t\t\t\t\t\t\t</TabsItem>\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tthis.state.user.free > 0 &&\n\t\t\t\t\t\t\t\t\t<TabsItem\n\t\t\t\t\t\t\t\t\t\tonClick={() => this.setState({ slideTabIndex_main: 2 })}\n\t\t\t\t\t\t\t\t\t\tselected={this.state.slideTabIndex_main === 2}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\tБесплатные\n\t\t\t\t\t\t\t\t\t</TabsItem>\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t</Tabs>\n\t\t\t\t\t\t}\n\t\t\t\t\t\t{ this.state.slideTabIndex_main === 2 &&\n\t\t\t\t\t\t\t<Caption level=\"2\" weight=\"semibold\" style={{ margin: 12, textAlign: 'center' }}>Можно получить: {this.state.user.free}</Caption>\n\t\t\t\t\t\t}\n\t\t\t\t\t\t<Separator />\n\t\t\t\t\t\t<PullToRefresh onRefresh={async () => {\n\t\t\t\t\t\t\tthis.setState({ refreshedStickers: true });\n\t\t\t\t\t\t\tawait this.updateStickers();\n\t\t\t\t\t\t\tawait this.updateQuestions();\n\t\t\t\t\t\t\tthis.setState({ refreshedStickers: false });\n\t\t\t\t\t\t}} isFetching={this.state.refreshedStickers}>\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tthis.state.stickers_panel_new.length > 0 ?\n\t\t\t\t\t\t\t\t<div style={{ position: 'absolute', top: '110px', bottom: '0', width: '100%' }}>\n\t\t\t\t\t\t\t\t\t<Gallery\n\t\t\t\t\t\t\t\t\t\tslideWidth=\"100%\"\n\t\t\t\t\t\t\t\t\t\tstyle={{ height: \"100%\" }}\n\t\t\t\t\t\t\t\t\t\tslideIndex={this.state.slideTabIndex_main}\n\t\t\t\t\t\t\t\t\t\tonChange={(slideIndex) => { this.setState({slideTabIndex_main: slideIndex}); }}>\n\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\tthis.state.stickers_gallery\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t</Gallery>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t:\n\t\t\t\t\t\t\t\t\t<Placeholder\n\t\t\t\t\t\t\t\t\t\ticon={<Icon56GalleryOutline/>}\n\t\t\t\t\t\t\t\t\t\tstretched\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\tСтикеров пока что нет\n\t\t\t\t\t\t\t\t\t</Placeholder>\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t{this.state.snackbar && this.state.snackbar}\n\t\t\t\t\t\t</PullToRefresh>\n\t\t\t\t\t</Panel>\n\t\t\t\t\t<Panel id=\"sticker_info\">\n\t\t\t\t\t\t<PanelHeaderSimple\n\t\t\t\t\t\t\tleft={<PanelHeaderBack onClick={()=>{ this.back(); }} />}\n\t\t\t\t\t\t><PanelHeaderContent>\n\t\t\t\t\t\t\tИнформация\n\t\t\t\t\t\t</PanelHeaderContent></PanelHeaderSimple>\n\t\t\t\t\t\t<PullToRefresh onRefresh={async () => {\n\t\t\t\t\t\t\tthis.setState({ refreshedStickersInfo: true });\n\t\t\t\t\t\t\tawait this.updateStickersInfo();\n\t\t\t\t\t\t\tawait this.updateQuestions();\n\t\t\t\t\t\t\tthis.setState({ refreshedStickersInfo: false });\n\t\t\t\t\t\t}} isFetching={this.state.refreshedStickersInfo}>\n\t\t\t\t\t\t\t<Div>\n\t\t\t\t\t\t\t\t<StickerButton\n\t\t\t\t\t\t\t\t\ttitle={this.state.sticker_info.title}\n\t\t\t\t\t\t\t\t\tdescription={this.state.sticker_info.author+'\\nПродано: '+(this.state.sticker_info.sales === 0 ? 0 : this.state.sticker_info.sales.length)}\n\t\t\t\t\t\t\t\t\tsrc={this.state.sticker_info.preview}\n\t\t\t\t\t\t\t\t\tmode={\"cell\"}\n\t\t\t\t\t\t\t\t\tmore={\n\t\t\t\t\t\t\t\t\t\tthis.state.sticker_info.author_id + '' === this.state.user.id + '' ?\n\t\t\t\t\t\t\t\t\t\t\t<IconButton icon={<Icon28WriteOutline onClick={()=>{ this.go_to_edit(); } } fill={'#ffa000'}/>} /> :\n\t\t\t\t\t\t\t\t\t\t\t<IconButton icon={<Icon28ReportOutline onClick={async ()=>{ await this.updateReportReasons(); this.go('stickers_report'); } } fill={'#eb4250'}/>} />\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<div style={{ marginLeft: '8px', marginRight: '8px' }}>\n\t\t\t\t\t\t\t\t\t<StickerDescription>{this.state.sticker_info.description}</StickerDescription>\n\t\t\t\t\t\t\t\t\t<div style={{ marginTop: '10px'}}>\n\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\tthis.state.user.stickers.indexOf(this.state.sticker_info.id) >= 0 ?\n\t\t\t\t\t\t\t\t\t\t\t\t<div style={{ display: 'flex' }}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Button onClick={()=>{ this.install(this.state.sticker_info.id); }} size={\"xl\"} stretched>{'Установить'}</Button>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{this.state.user.hasOwnProperty('stickers_cache') ? this.state.user.stickers_cache.hasOwnProperty(this.state.sticker_info.id) ?\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Button style={{ marginLeft: '8px' }} mode={\"secondary\"} onClick={()=>{ this.delete(this.state.sticker_info.id); }} size={\"xl\"} stretched>{'Очистить'}</Button> : null : null}\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t:\n\t\t\t\t\t\t\t\t\t\t\t\t(this.state.sticker_info.is_free && this.state.user.free > 0) ?\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div style={{ display: 'flex' }}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Button size={\"xl\"} stretched mode=\"commerce\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={async ()=>{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif(this.state.user.free > 0){\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif(this.state.user.free === 1) this.setState({ slideTabIndex_main: 0 });\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.setState({ popout: <ScreenSpinner/> });\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tawait this.get('stickers.buy', { stickers_id: this.state.sticker_info.id });\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tawait this.updateStickersInfo();\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.setState({ popout: null });\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.showSnackBar('Бесплатные наборы закончились', <Icon16Cancel fill=\"#fff\" width={14} height={14} />, redBackground);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t>{'Получить бесплатно'}</Button>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t:\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div style={{ display: 'flex' }}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Button size={\"xl\"} stretched mode=\"commerce\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={async ()=>{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif(this.state.user.balance >= this.state.sticker_info.price){\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.setState({ popout: <ScreenSpinner/> });\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tawait this.get('stickers.buy', { stickers_id: this.state.sticker_info.id });\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tawait this.updateStickersInfo();\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.setState({ popout: null });\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.showSnackBar('На вашем балансе недостаточно средств', <Icon16Cancel fill=\"#fff\" width={14} height={14} />, redBackground, 'Пополнить', async ()=>{ this.setState({ activeStory: 'tab_other', balance_manipulation: true }); await this.sleep(50); this.go('profile'); await this.sleep(50); document.getElementById('deposit_button').click(); });\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t>{'Купить за '+this.state.sticker_info.price+' руб.'}</Button>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div className=\"centered\" style={{ marginTop: \"18px\", marginLeft: \"8px\", marginRight: \"8px\" }}>\n\t\t\t\t\t\t\t\t\t<StickerGrid mode={\"small\"}>\n\t\t\t\t\t\t\t\t\t\t{this.state.sticker_info.stickers_}\n\t\t\t\t\t\t\t\t\t</StickerGrid>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</Div>\n\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tthis.state.questions_panel &&\n\t\t\t\t\t\t\t\t<Div>\n\t\t\t\t\t\t\t\t\t<div className=\"centered\">\n\t\t\t\t\t\t\t\t\t\t<h4>Ответы на вопросы</h4>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div className=\"centered\">\n\t\t\t\t\t\t\t\t\t\t<CardElements>\n\t\t\t\t\t\t\t\t\t\t\t{this.state.questions_panel}\n\t\t\t\t\t\t\t\t\t\t</CardElements>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</Div>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t{this.state.snackbar && this.state.snackbar}\n\t\t\t\t\t\t</PullToRefresh>\n\t\t\t\t\t</Panel>\n\t\t\t\t\t<Panel id=\"input_captcha\">\n\t\t\t\t\t\t<PanelHeaderSimple><PanelHeaderContent>\n\t\t\t\t\t\t\tВвод капчи\n\t\t\t\t\t\t</PanelHeaderContent></PanelHeaderSimple>\n\t\t\t\t\t\t<FormLayout>\n\t\t\t\t\t\t\t<div className=\"centered\">\n\t\t\t\t\t\t\t\t<img width={'60%'} src={this.state.captcha.url}/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<Input\n\t\t\t\t\t\t\t\talign={'center'}\n\t\t\t\t\t\t\t\tvalue={this.state.captcha.text}\n\t\t\t\t\t\t\t\tonChange={(e)=> { let c = this.state.captcha; c.text = e.currentTarget.value; this.setState({ captcha: c }); }}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<Button size=\"xl\" onClick={()=> { let c = this.state.captcha; c.done = true; this.setState({ captcha: c });  }}>Отправить</Button>\n\t\t\t\t\t\t</FormLayout>\n\t\t\t\t\t</Panel>\n\t\t\t\t\t<Panel id=\"stickers_report\">\n\t\t\t\t\t\t<PanelHeaderSimple left={<PanelHeaderClose onClick={()=>{ this.back(); }} />}><PanelHeaderContent>\n\t\t\t\t\t\t\tЖалоба\n\t\t\t\t\t\t</PanelHeaderContent></PanelHeaderSimple>\n\t\t\t\t\t\t<Group header={<Header mode=\"secondary\">Причина жалобы</Header>}>\n\t\t\t\t\t\t\t{this.state.report_reasons_panel && this.state.report_reasons_panel}\n\t\t\t\t\t\t\t<CellButton onClick={()=>{ this.setState({ report_other_visible: !this.state.report_other_visible }); }}>Другое</CellButton>\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tthis.state.report_other_visible &&\n\t\t\t\t\t\t\t\t\t<FormLayout>\n\t\t\t\t\t\t\t\t\t\t<Textarea value={this.state.report_reason_text} onChange={(e)=>{ this.setState({ report_reason_text: e.currentTarget.value }); }} top=\"Опишите подробнее\" />\n\t\t\t\t\t\t\t\t\t\t<Button onClick={()=>{ this.report_stickers(this.state.sticker_info.id, this.state.report_reason_text); }} disabled={this.state.report_reason_text.length===0} size=\"xl\">Отправить</Button>\n\t\t\t\t\t\t\t\t\t</FormLayout>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t</Group>\n\t\t\t\t\t</Panel>\n\t\t\t\t</View>\n\t\t\t\t<View id=\"tab_other\" activePanel={this.state.activePanelOther} popout={this.state.popout} history={this.state.historyOther} onSwipeBack={this.back} header={false}>\n\t\t\t\t\t<Panel id=\"profile\">\n\t\t\t\t\t\t<PanelHeaderSimple><PanelHeaderContent>\n\t\t\t\t\t\t\tПрофиль\n\t\t\t\t\t\t</PanelHeaderContent></PanelHeaderSimple>\n\t\t\t\t\t\t<PullToRefresh onRefresh={async () => {\n\t\t\t\t\t\t\tthis.setState({ refreshedProfile: true });\n\t\t\t\t\t\t\tawait this.updateUser();\n\t\t\t\t\t\t\tthis.setState({ refreshedProfile: false });\n\t\t\t\t\t\t}} isFetching={this.state.refreshedProfile}>\n\t\t\t\t\t\t\t<Div>\n\t\t\t\t\t\t\t\t<div className=\"centered\">\n\t\t\t\t\t\t\t\t\t<Avatar src={this.state.user.photo_100} size={100}/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<br/>\n\t\t\t\t\t\t\t\t<div className=\"centered\" style={{ fontSize: \"large\"}}>\n\t\t\t\t\t\t\t\t\t{this.state.user.first_name+' '+this.state.user.last_name}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<br/>\n\t\t\t\t\t\t\t\t<Group separator=\"hide\">\n\t\t\t\t\t\t\t\t\t<Cell asideContent={<Icon16Dropdown style={{ transform: `rotate(${this.state.balance_manipulation ? '180deg' : '0'})` }} />} onClick={()=> { this.setState({ balance_manipulation: !this.state.balance_manipulation }); }} indicator={this.state.user.balance+' ₽'}>Ваш баланс</Cell>\n\t\t\t\t\t\t\t\t\t{this.state.balance_manipulation && <div style={{ display: 'flex', justifyContent: 'flex-end', marginTop: '8px' }}>\n\t\t\t\t\t\t\t\t\t\t<IconButton mode='small' icon={<Icon28MoneyHistoryBackwardOutline width={24} height={24} onClick={()=>{ this.go('balance_history'); } } fill={'#4bb34b'}/>} />\n\t\t\t\t\t\t\t\t\t\t<Button id={'deposit_button'} size=\"l\" style={{ marginLeft: 8 }} onClick={async ()=>{\n\t\t\t\t\t\t\t\t\t\t\tthis.setState({ popout: <ScreenSpinner/> });\n\t\t\t\t\t\t\t\t\t\t\ttry{\n\t\t\t\t\t\t\t\t\t\t\t\tawait bridge.sendPromise(\"VKWebAppOpenPayForm\", {\"app_id\": 7363654, \"action\": \"transfer-to-group\", \"params\": { group_id: 193090865 }});\n\t\t\t\t\t\t\t\t\t\t\t}catch (e) {}\n\t\t\t\t\t\t\t\t\t\t\tawait this.sleep(3000);\n\t\t\t\t\t\t\t\t\t\t\tawait this.updateUser();\n\t\t\t\t\t\t\t\t\t\t\tthis.setState({ popout: null });\n\t\t\t\t\t\t\t\t\t\t}}  before={<Icon16Down/>}>Пополнить</Button>\n\t\t\t\t\t\t\t\t\t\t<Button size=\"l\" before={<Icon16Up/>} mode=\"secondary\" style={{ marginLeft: 8 }} onClick={async ()=>{ if(this.state.user.balance>0){\n\t\t\t\t\t\t\t\t\t\t\tawait this.withdraw();\n\t\t\t\t\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\t\t\t\t\tthis.showSnackBar('Ваш баланс равен нулю', <Icon16Cancel fill=\"#fff\" width={14} height={14} />, redBackground);\n\t\t\t\t\t\t\t\t\t\t} }}>Вывести</Button>\n\t\t\t\t\t\t\t\t\t</div>}\n\t\t\t\t\t\t\t\t</Group>\n\t\t\t\t\t\t\t\t<Group separator=\"hide\" header={<Header mode=\"primary\">Ваши стикеры</Header>}>\n\t\t\t\t\t\t\t\t\t<div className=\"centered\" style={{ marginTop: \"18px\" }}>\n\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\tthis.state.user_stickers.length > 0 ?\n\t\t\t\t\t\t\t\t\t\t\t\t<StickerGrid mode={\"big\"}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{this.state.user_stickers}\n\t\t\t\t\t\t\t\t\t\t\t\t\t<StickerImg mode={'big'} onClick={()=> { this.go(\"create\"); }}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Icon36Add width={76} height={76} fill={'#7f8285'} />\n\t\t\t\t\t\t\t\t\t\t\t\t\t</StickerImg>\n\t\t\t\t\t\t\t\t\t\t\t\t</StickerGrid>\n\t\t\t\t\t\t\t\t\t\t\t\t:\n\t\t\t\t\t\t\t\t\t\t\t\t<StickerImg mode={'big'} onClick={()=> { this.go(\"create\"); }}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Icon36Add width={76} height={76} fill={'#7f8285'} />\n\t\t\t\t\t\t\t\t\t\t\t\t</StickerImg>\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</Group>\n\t\t\t\t\t\t\t</Div>\n\t\t\t\t\t\t\t{this.state.snackbar && this.state.snackbar}\n\t\t\t\t\t\t</PullToRefresh>\n\t\t\t\t\t</Panel>\n\t\t\t\t\t<Panel id=\"balance_history\">\n\t\t\t\t\t\t<PanelHeaderSimple><PanelHeaderContent>\n\t\t\t\t\t\t\tИстория платежей\n\t\t\t\t\t\t</PanelHeaderContent></PanelHeaderSimple>\n\t\t\t\t\t\t<PullToRefresh onRefresh={async () => {\n\t\t\t\t\t\t\tthis.setState({ refreshedBalanceHistory: true });\n\t\t\t\t\t\t\tawait this.updateUser();\n\t\t\t\t\t\t\tthis.setState({ refreshedBalanceHistory: false });\n\t\t\t\t\t\t}} isFetching={this.state.refreshedBalanceHistory}>\n\t\t\t\t\t\t\t{this.state.user_balance_history && this.state.user_balance_history.length > 0 ? <Div>\n\t\t\t\t\t\t\t\t\t<List>\n\t\t\t\t\t\t\t\t\t\t{this.state.user_balance_history}\n\t\t\t\t\t\t\t\t\t</List>\n\t\t\t\t\t\t\t\t</Div>\n\t\t\t\t\t\t\t\t:\n\t\t\t\t\t\t\t\t<Placeholder\n\t\t\t\t\t\t\t\t\ticon={<Icon56HistoryOutline/>}\n\t\t\t\t\t\t\t\t\theader={'Пусто'}\n\t\t\t\t\t\t\t\t\tstretched\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\tВы пока еще не проводили манипуляции с балансом\n\t\t\t\t\t\t\t\t</Placeholder>}\n\t\t\t\t\t\t</PullToRefresh>\n\t\t\t\t\t</Panel>\n\t\t\t\t\t<Panel id=\"create\">\n\t\t\t\t\t\t<PanelHeaderSimple\n\t\t\t\t\t\t\tleft={<PanelHeaderBack onClick={()=>{ this.back(); }} />}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<PanelHeaderContent\n\t\t\t\t\t\t\t\taside={<Icon16Dropdown style={{ transform: `rotate(${this.state.createStickerContextOpened ? '180deg' : '0'})` }} />}\n\t\t\t\t\t\t\t\tonClick={ () => { this.toggleCreateStickerContext(); }}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\tДобавить стикеры\n\t\t\t\t\t\t\t</PanelHeaderContent>\n\t\t\t\t\t\t</PanelHeaderSimple>\n\t\t\t\t\t\t<PanelHeaderContext opened={this.state.createStickerContextOpened} onClose={ () => { this.toggleCreateStickerContext(); }}>\n\t\t\t\t\t\t\t<List>\n\t\t\t\t\t\t\t\t<Cell\n\t\t\t\t\t\t\t\t\tbefore={<Icon28HistoryForwardOutline/>}\n\t\t\t\t\t\t\t\t\tonClick={ () => { this.toggleCreateStickerContext(); this.updateUser(); this.go(\"stickers_history\"); }}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\tИстория\n\t\t\t\t\t\t\t\t</Cell>\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tthis.state.user.is_admin &&\n\t\t\t\t\t\t\t\t\t<Cell\n\t\t\t\t\t\t\t\t\t\tbefore={<Icon28BugOutline/>}\n\t\t\t\t\t\t\t\t\t\tonClick={ async () => {\n\t\t\t\t\t\t\t\t\t\t\tawait this.updateModeration();\n\t\t\t\t\t\t\t\t\t\t\tthis.toggleCreateStickerContext();\n\t\t\t\t\t\t\t\t\t\t\tthis.go(\"moderation\")\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\tМодерация\n\t\t\t\t\t\t\t\t\t</Cell>\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t</List>\n\t\t\t\t\t\t</PanelHeaderContext>\n\t\t\t\t\t\t<FormLayout>\n\t\t\t\t\t\t\t<Input\n\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\ttop=\"Название стикер-пака\"\n\t\t\t\t\t\t\t\tname=\"title\"\n\t\t\t\t\t\t\t\tvalue={this.state.create_panel.title}\n\t\t\t\t\t\t\t\tonChange={this.onChange}\n\t\t\t\t\t\t\t\tstatus={this.state.create_panel.title ? this.state.create_panel.title.length <= 20 ? 'valid' : 'error' : 'error'}\n\t\t\t\t\t\t\t\tbottom={this.state.create_panel.title ? this.state.create_panel.title.length <= 20 ? '' : 'Максимальная длина - 20' : 'Пожалуйста, введите название'}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<Textarea\n\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\ttop=\"Описание\"\n\t\t\t\t\t\t\t\tname=\"description\"\n\t\t\t\t\t\t\t\tvalue={this.state.create_panel.description}\n\t\t\t\t\t\t\t\tonChange={this.onChange}\n\t\t\t\t\t\t\t\tstatus={this.state.create_panel.description ? this.state.create_panel.description.length <= 500 ? 'valid' : 'error' : 'error'}\n\t\t\t\t\t\t\t\tbottom={this.state.create_panel.description ? this.state.create_panel.description.length <= 500 ? '' : 'Максимальная длина - 500' : 'Пожалуйста, введите описание'}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<Input\n\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\ttop=\"Цена\"\n\t\t\t\t\t\t\t\tname=\"price\"\n\t\t\t\t\t\t\t\tvalue={this.state.create_panel.price}\n\t\t\t\t\t\t\t\tonChange={this.onChange}\n\t\t\t\t\t\t\t\tstatus={this.state.create_panel.price > 0 ? this.state.create_panel.price <= 1000 ? this.state.create_panel.price.toString().includes('.') ? 'error' : 'valid' : 'error' : 'error'}\n\t\t\t\t\t\t\t\tbottom={this.state.create_panel.price > 0 ? this.state.create_panel.price <= 1000 ? this.state.create_panel.price.toString().includes('.') ? 'Число должно быть целым' : '' : 'Максимальная цена- 1 000 руб.' : 'Минимальная цена - 1 руб.'}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<Checkbox checked={this.state.create_panel.is_free} onClick={(e)=>{\n\t\t\t\t\t\t\t\tlet create_panel = this.state.create_panel;\n\t\t\t\t\t\t\t\tcreate_panel['is_free'] = e.currentTarget.checked;\n\t\t\t\t\t\t\t\tthis.setState({ create_panel: create_panel });\n\t\t\t\t\t\t\t}}>Возможность получить стикеры <Link href='https://vk.com/@stickersgraffiti-free' target='_blank'>бесплатно</Link></Checkbox>\n\n\t\t\t\t\t\t\t<StickerUploadButton\n\t\t\t\t\t\t\t\tsrc={this.state.create_panel.upload_preview_img && this.state.create_panel.upload_preview_img}\n\t\t\t\t\t\t\t\ttitle={'Превью'}\n\t\t\t\t\t\t\t\tdescription={'Загрузите главную фотографию стикер-пака в формате png (192×192px)'}\n\t\t\t\t\t\t\t\tonChange={(event)=> {this.uploadFile('upload_preview_img', event)}}\n\t\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t\t<StickerUploadButton\n\t\t\t\t\t\t\t\ttitle={'Стикеры'}\n\t\t\t\t\t\t\t\tdescription={'Загрузите все стикеры в формате png (минимум - 4, максимум - 48), которые будут содержаться в паке (192×192px)'}\n\t\t\t\t\t\t\t\tonChange={(event)=> {this.uploadFile('upload_sticker_img', event)}}\n\t\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t\t<div className=\"centered\" style={{ paddingBottom: \"16px\" }}>\n\t\t\t\t\t\t\t\t<div style={{ minWidth: \"64px\", maxWidth: \"296px\", display: \"grid\", gridTemplateColumns: \"repeat(auto-fill, 64px)\", gridGap: \"10px\" }}>\n\t\t\t\t\t\t\t\t\t{this.state.create_panel.uploaded_stickers_img}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<Button size=\"xl\" onClick={()=>{ this.create_stickers(); }} disabled={this.state.create_panel.title ? this.state.create_panel.description ? this.state.create_panel.price > 0 ? this.state.create_panel.title.length <= 20 ? this.state.create_panel.description.length <= 500 ? this.state.create_panel.price <= 1000 ? this.state.create_panel.price.toString().includes('.') ?  true : this.state.create_panel.upload_preview_img ? this.state.create_panel.uploaded_stickers_img ? this.state.create_panel.uploaded_stickers_img.filter(function(val){ return val !== undefined; }).length >= 4 ? false : true : true : true : true : true : true : true : true : true }>Продолжить</Button>\n\n\t\t\t\t\t\t\t{this.state.snackbar && this.state.snackbar}\n\t\t\t\t\t\t</FormLayout>\n\t\t\t\t\t</Panel>\n\t\t\t\t\t<Panel id={\"stickers_history\"}>\n\t\t\t\t\t\t<PanelHeaderSimple\n\t\t\t\t\t\t\tleft={<PanelHeaderBack onClick={()=>{ this.back(); }} />}\n\t\t\t\t\t\t><PanelHeaderContent>\n\t\t\t\t\t\t\tИстория\n\t\t\t\t\t\t</PanelHeaderContent></PanelHeaderSimple>\n\t\t\t\t\t\t<PullToRefresh onRefresh={async () => {\n\t\t\t\t\t\t\tthis.setState({ refreshedStickersHistory: true });\n\t\t\t\t\t\t\tawait this.updateUser();\n\t\t\t\t\t\t\tthis.setState({ refreshedStickersHistory: false });\n\t\t\t\t\t\t}} isFetching={this.state.refreshedStickersHistory}>\n\t\t\t\t\t\t\t{this.state.user_stickers_history && this.state.user_stickers_history.length > 0 ? <Div>\n\t\t\t\t\t\t\t\t<List>\n\t\t\t\t\t\t\t\t\t{this.state.user_stickers_history}\n\t\t\t\t\t\t\t\t</List>\n\t\t\t\t\t\t\t</Div>\n\t\t\t\t\t\t\t:\n\t\t\t\t\t\t\t\t<Placeholder\n\t\t\t\t\t\t\t\t\ticon={<Icon56HistoryOutline/>}\n\t\t\t\t\t\t\t\t\theader={'Пусто'}\n\t\t\t\t\t\t\t\t\tstretched\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\tВы пока еще не создавали стикеры\n\t\t\t\t\t\t\t\t</Placeholder>}\n\t\t\t\t\t\t</PullToRefresh>\n\t\t\t\t\t</Panel>\n\t\t\t\t\t<Panel id={\"moderation\"}>\n\t\t\t\t\t\t<PanelHeaderSimple\n\t\t\t\t\t\t\tleft={<PanelHeaderBack onClick={()=>{ this.back(); }} />}\n\t\t\t\t\t\t\tseparator={false}\n\t\t\t\t\t\t><PanelHeaderContent>\n\t\t\t\t\t\t\tМодерация\n\t\t\t\t\t\t</PanelHeaderContent></PanelHeaderSimple>\n\t\t\t\t\t\t<Tabs>\n\t\t\t\t\t\t\t<TabsItem\n\t\t\t\t\t\t\t\tonClick={() => this.setState({ slideTabIndex_moderation: 0 })}\n\t\t\t\t\t\t\t\tselected={this.state.slideTabIndex_moderation === 0}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\tСтикеры\n\t\t\t\t\t\t\t</TabsItem>\n\t\t\t\t\t\t\t<TabsItem\n\t\t\t\t\t\t\t\tonClick={() => this.setState({ slideTabIndex_moderation: 1 })}\n\t\t\t\t\t\t\t\tselected={this.state.slideTabIndex_moderation === 1}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\tЖалобы\n\t\t\t\t\t\t\t</TabsItem>\n\t\t\t\t\t\t\t<TabsItem\n\t\t\t\t\t\t\t\tonClick={() => this.setState({ slideTabIndex_moderation: 2 })}\n\t\t\t\t\t\t\t\tselected={this.state.slideTabIndex_moderation === 2}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\tВывод средств\n\t\t\t\t\t\t\t</TabsItem>\n\t\t\t\t\t\t</Tabs>\n\t\t\t\t\t\t<Separator />\n\t\t\t\t\t\t<PullToRefresh onRefresh={async () => {\n\t\t\t\t\t\t\tthis.setState({ refreshedModeration: true });\n\t\t\t\t\t\t\tawait this.updateModeration();\n\t\t\t\t\t\t\tthis.setState({ refreshedModeration: false });\n\t\t\t\t\t\t}} isFetching={this.state.refreshedModeration}>\n\t\t\t\t\t\t\t<Gallery\n\t\t\t\t\t\t\t\tslideWidth=\"100%\"\n\t\t\t\t\t\t\t\tstyle={{ height: \"100%\", margin: \"8px\" }}\n\t\t\t\t\t\t\t\tslideIndex={this.state.slideTabIndex_moderation}\n\t\t\t\t\t\t\t\tonChange={(slideIndex) => { this.setState({slideTabIndex_moderation: slideIndex}); }}>\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tthis.state.stickers_panel_moderation.length > 0 ?\n\t\t\t\t\t\t\t\t\t\t\t<List style={{ marginTop: \"15px\" }}>\n\t\t\t\t\t\t\t\t\t\t\t\t{this.state.stickers_panel_moderation}\n\t\t\t\t\t\t\t\t\t\t\t</List>\n\t\t\t\t\t\t\t\t\t\t\t:\n\t\t\t\t\t\t\t\t\t\t\t<div style={{ display: \"flex\", height: \"75vh\" }}>\n\t\t\t\t\t\t\t\t\t\t\t\t<div style={{ display: \"flex\", alignItems: \"center\", justifyContent: \"center\", width: \"100%\", height: \"100%\" }}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Placeholder\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ticon={<Icon56GalleryOutline/>}\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tСтикеров пока что нет\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Placeholder>\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tthis.state.report_panel_moderation.length > 0 ?\n\t\t\t\t\t\t\t\t\t\t\t<List style={{ marginTop: \"15px\" }}>\n\t\t\t\t\t\t\t\t\t\t\t\t{this.state.report_panel_moderation}\n\t\t\t\t\t\t\t\t\t\t\t</List>\n\t\t\t\t\t\t\t\t\t\t\t:\n\t\t\t\t\t\t\t\t\t\t\t<div style={{ display: \"flex\", height: \"75vh\" }}>\n\t\t\t\t\t\t\t\t\t\t\t\t<div style={{ display: \"flex\", alignItems: \"center\", justifyContent: \"center\", width: \"100%\", height: \"100%\" }}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Placeholder\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ticon={<Icon56CheckCircleDeviceOutline/>}\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tЖалоб пока что нет\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Placeholder>\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tthis.state.withdraw_panel_moderation.length > 0 ?\n\t\t\t\t\t\t\t\t\t\t\t<List style={{ marginTop: \"15px\" }}>\n\t\t\t\t\t\t\t\t\t\t\t\t{this.state.withdraw_panel_moderation}\n\t\t\t\t\t\t\t\t\t\t\t</List>\n\t\t\t\t\t\t\t\t\t\t\t:\n\t\t\t\t\t\t\t\t\t\t\t<div style={{ display: \"flex\", height: \"75vh\" }}>\n\t\t\t\t\t\t\t\t\t\t\t\t<div style={{ display: \"flex\", alignItems: \"center\", justifyContent: \"center\", width: \"100%\", height: \"100%\" }}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Placeholder\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ticon={<Icon56MoneyTransferOutline/>}\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tЗапросов на вывод средств пока что нет\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Placeholder>\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</Gallery>\n\t\t\t\t\t\t</PullToRefresh>\n\t\t\t\t\t\t{this.state.snackbar && this.state.snackbar}\n\t\t\t\t\t</Panel>\n\t\t\t\t\t<Panel id=\"moderation_sticker_info\">\n\t\t\t\t\t\t<PanelHeaderSimple\n\t\t\t\t\t\t\tleft={<PanelHeaderBack onClick={()=>{ this.back(); }} />}\n\t\t\t\t\t\t><PanelHeaderContent>\n\t\t\t\t\t\t\tИнформация\n\t\t\t\t\t\t</PanelHeaderContent></PanelHeaderSimple>\n\n\t\t\t\t\t\t<Div>\n\t\t\t\t\t\t\t<StickerButton\n\t\t\t\t\t\t\t\ttitle={this.state.moderation_sticker_info.title}\n\t\t\t\t\t\t\t\tdescription={this.state.moderation_sticker_info.author+'\\n'+this.state.moderation_sticker_info.price+' руб.'}\n\t\t\t\t\t\t\t\tsrc={this.state.moderation_sticker_info.preview}\n\t\t\t\t\t\t\t\tmode={\"cell\"}\n\t\t\t\t\t\t\t\tmore={\n\t\t\t\t\t\t\t\t\tthis.state.moderation_sticker_info.hasOwnProperty('stickers_id') ?\n\t\t\t\t\t\t\t\t\t\t<Icon28WriteOutline fill={'#ffa000'}/> :\n\t\t\t\t\t\t\t\t\t\t<Icon28AddCircleOutline fill={'#4bb34b'}/>\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<div style={{ marginLeft: '8px', marginRight: '8px' }}>\n\t\t\t\t\t\t\t\t<StickerDescription>{this.state.moderation_sticker_info.description}</StickerDescription>\n\t\t\t\t\t\t\t\t<div style={{ marginTop: '10px'}}>\n\t\t\t\t\t\t\t\t\t<div style={{ display: 'flex' }}>\n\t\t\t\t\t\t\t\t\t\t<Button onClick={async () => {\n\t\t\t\t\t\t\t\t\t\t\tawait this.approveStickers();\n\t\t\t\t\t\t\t\t\t\t}} size={\"xl\"} stretched>{'Одобрить'}</Button>\n\t\t\t\t\t\t\t\t\t\t<Button style={{ marginLeft: '8px' }} mode={\"secondary\"} onClick={async () => {\n\t\t\t\t\t\t\t\t\t\t\tawait this.rejectStickers();\n\t\t\t\t\t\t\t\t\t\t}} size={\"xl\"} stretched>{'Отклонить'}</Button>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"centered\" style={{ marginTop: \"18px\" }}>\n\t\t\t\t\t\t\t\t<StickerGrid mode={\"small\"}>\n\t\t\t\t\t\t\t\t\t{this.state.moderation_sticker_info.stickers_}\n\t\t\t\t\t\t\t\t</StickerGrid>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</Div>\n\n\t\t\t\t\t\t{this.state.snackbar && this.state.snackbar}\n\t\t\t\t\t</Panel>\n\t\t\t\t</View>\n\t\t\t</Epic>\n\t\t);\n\t}\n}\n\nexport default App;","import 'core-js/features/map';\nimport 'core-js/features/set';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport bridge from '@vkontakte/vk-bridge';\nimport App from './App';\n// import registerServiceWorker from './sw';\n\n// Init VK  Mini App\nbridge.send('VKWebAppInit');\n\n// Если вы хотите, чтобы ваше веб-приложение работало в оффлайне и загружалось быстрее,\n// расскомментируйте строку с registerServiceWorker();\n// Но не забывайте, что на данный момент у технологии есть достаточно подводных камней\n// Подробнее про сервис воркеры можно почитать тут — https://vk.cc/8MHpmT\n// registerServiceWorker();\n\nReactDOM.render(<App className={''} />, document.getElementById('root'));\n"],"sourceRoot":""}